{"version":3,"file":"edit-profile.js","sources":["pages/user/edit-profile.vue","D:/uniapp/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvdXNlci9lZGl0LXByb2ZpbGUudnVl"],"sourcesContent":["<template>\n    <view class=\"edit-profile-container\">\n      <!-- 导航栏 -->\n      <view class=\"navbar\">\n        <view class=\"nav-content\">\n          <view class=\"nav-left\" @click=\"goBack\">\n            <text class=\"back-arrow\">‹</text>\n          </view>\n          <text class=\"nav-title\">编辑资料</text>\n          <view class=\"nav-right\" @click=\"saveProfile\">\n            <text class=\"save-text\">保存</text>\n          </view>\n        </view>\n      </view>\n      \n      <!-- 主要内容区域 -->\n      <view class=\"main-content\">\n        <!-- 头像显示区域 -->\n        <view class=\"avatar-section\">\n          <view class=\"avatar-container\" @click=\"handleAvatarClick\">\n            <image \n              :src=\"userInfo.avatar\" \n              mode=\"aspectFill\" \n              class=\"avatar-image\"\n              @error=\"handleImageError\"\n            ></image>\n            <view class=\"avatar-overlay\">\n              <uni-icons type=\"camera\" size=\"24\" color=\"#fff\"></uni-icons>\n              <text class=\"avatar-text\">点击上传头像</text>\n            </view>\n          </view>\n        </view>\n        \n        <!-- 用户信息表单 -->\n        <view class=\"form-section\">\n          <view class=\"form-item\">\n            <text class=\"form-label\">昵称</text>\n            <input \n              type=\"text\" \n              v-model=\"userInfo.nickname\" \n              placeholder=\"请输入昵称\"\n              class=\"form-input\"\n              maxlength=\"20\"\n            />\n          </view>\n          \n          <view class=\"form-item\">\n            <text class=\"form-label\">手机号</text>\n            <input \n              type=\"text\" \n              v-model=\"userInfo.phone\" \n              placeholder=\"手机号\"\n              class=\"form-input disabled\"\n              maxlength=\"11\"\n              disabled\n            />\n          </view>\n        </view>\n        \n        <!-- 保存按钮 -->\n        <view class=\"save-section\">\n          <button class=\"save-btn\" @click=\"saveProfile\" :disabled=\"isSaving\">\n            <uni-icons v-if=\"isSaving\" type=\"spinner-cycle\" size=\"16\" color=\"#fff\"></uni-icons>\n            <text v-else class=\"save-btn-text\">{{ isSaving ? '保存中...' : '保存修改' }}</text>\n          </button>\n          \n        </view>\n      </view>\n    </view>\n  </template>\n  \n  <script setup>\n  import { ref, reactive, onMounted } from 'vue'\n  import { getToken, getAccount } from '@/utils/request.js'\n  import { apiUpdateUserProfile, getCOSSecretKey } from '@/api/apis.js'\n  \n  // 用户信息\n  const userInfo = reactive({\n    avatar: 'http://video.caimizm.com/himg/user.png',\n    nickname: '',\n    phone: ''\n  })\n  \n  // 保存状态\n  const isSaving = ref(false)\n  \n  // 按照图片示例实现的OSS上传函数\n  const uploadObject = async (file, callback) => {\n    try {\n      let fileName = file.name || ''\n      const origin_file_name = fileName.split(\".\").slice(0, fileName.split(\".\").length - 1).join('.') // 获取文件名\n      \n      // 获取当前时间戳\n      const upload_file_name = new Date().getTime() + '.' + fileName.split(\".\")[fileName.split(\".\").length - 1]\n      \n      // 请求接口得到token\n      let res = await getCOSSecretKey({})\n      \n      console.log('STS接口返回数据:', res)\n      console.log('STS接口返回的data字段:', res.data)\n      \n      if (res.code !== 200) {\n        throw new Error('获取上传凭证失败')\n      }\n      \n      // 动态导入ali-oss\n      const OSS = await import('ali-oss')\n      \n      // 根据STS接口实际返回的数据结构创建OSS客户端\n      const ossConfig = {\n        region: res.data.region || 'cn-guangzhou',\n        accessKeyId: res.data.STSaccessKeyId,\n        accessKeySecret: res.data.STSsecretAccessKey,\n        stsToken: res.data.security_token,\n        bucket: res.data.bucket || 'cjvd',\n        // 使用正确的endpoint\n        endpoint: 'https://oss-cn-guangzhou.aliyuncs.com',\n        // 添加STS token刷新机制\n        refreshSTSToken: async () => {\n          const newRes = await getCOSSecretKey({})\n          return {\n            accessKeyId: newRes.data.STSaccessKeyId,\n            accessKeySecret: newRes.data.STSsecretAccessKey,\n            stsToken: newRes.data.security_token\n          }\n        },\n        refreshSTSTokenInterval: 300000 // 5分钟刷新一次\n      }\n      \n      console.log('OSS配置:', {\n        region: ossConfig.region,\n        bucket: ossConfig.bucket,\n        endpoint: ossConfig.endpoint,\n        accessKeyId: ossConfig.accessKeyId ? '***' : 'MISSING',\n        accessKeySecret: ossConfig.accessKeySecret ? '***' : 'MISSING',\n        stsToken: ossConfig.stsToken ? '***' : 'MISSING'\n      })\n      \n      const client = new OSS.default(ossConfig)\n      \n      console.log('开始上传文件:', upload_file_name)\n      // 上传文件\n      const result = await client.put(`himg/${upload_file_name}`, file)\n      \n      if (result && result.url) {\n        // 直接使用固定的自定义域名前缀 + 唯一文件名\n        const customUrl = `http://video.caimizm.com/himg/${upload_file_name}`\n        \n        console.log('上传成功，生成的自定义URL:', customUrl)\n        callback(customUrl)\n      } else {\n        throw new Error('上传失败')\n      }\n      \n    } catch (error) {\n      console.error('OSS上传失败:', error)\n      throw error\n    }\n  }\n  \n  // 返回上一页\n  const goBack = () => {\n    uni.navigateBack()\n  }\n  \n  \n  // 处理图片加载错误\n  const handleImageError = () => {\n    userInfo.avatar = 'http://video.caimizm.com/himg/user.png'\n  }\n  \n  // 处理头像点击事件\n  const handleAvatarClick = async () => {\n    try {\n      // 选择图片\n      const chooseResult = await uni.chooseImage({\n        count: 1,\n        sizeType: ['compressed'],\n        sourceType: ['album', 'camera']\n      })\n      \n      if (chooseResult.tempFilePaths && chooseResult.tempFilePaths.length > 0) {\n        const tempFilePath = chooseResult.tempFilePaths[0]\n        \n        // 显示上传进度\n        uni.showLoading({\n          title: '上传头像中...'\n        })\n        \n        // 在H5环境中，需要将临时路径转换为File对象\n        let fileToUpload\n        if (process.env.NODE_ENV === 'development' || typeof window !== 'undefined') {\n          // H5环境\n          const response = await fetch(tempFilePath)\n          const blob = await response.blob()\n          fileToUpload = new File([blob], 'avatar.jpg', { type: 'image/jpeg' })\n        } else {\n          // 小程序环境\n          fileToUpload = tempFilePath\n        }\n        \n        // 上传到OSS\n        await uploadObject(fileToUpload, (url) => {\n          // 上传成功，更新头像\n          userInfo.avatar = url\n          \n          uni.hideLoading()\n          uni.showToast({\n            title: '头像上传成功',\n            icon: 'success'\n          })\n          \n          // 立即保存到本地存储\n          uni.setStorageSync('userInfo', {\n            nickname: userInfo.nickname,\n            avatar: userInfo.avatar\n          })\n          \n          const loginData = uni.getStorageSync('loginData') || {}\n          loginData.himg = userInfo.avatar\n          uni.setStorageSync('loginData', loginData)\n        })\n        \n      }\n    } catch (error) {\n      uni.hideLoading()\n      console.error('头像上传失败:', error)\n      uni.showToast({\n        title: '头像上传失败',\n        icon: 'none'\n      })\n    }\n  }\n  \n  \n  \n  \n  \n  // 验证表单\n  const validateForm = () => {\n    if (!userInfo.nickname.trim()) {\n      uni.showToast({\n        title: '请输入昵称',\n        icon: 'none'\n      })\n      return false\n    }\n    \n    return true\n  }\n  \n  // 保存用户信息\n  const saveProfile = async () => {\n    if (!validateForm()) {\n      return\n    }\n    \n    if (isSaving.value) {\n      return\n    }\n    \n    try {\n      isSaving.value = true\n      \n      uni.showLoading({\n        title: '保存中...'\n      })\n      \n      // 准备保存的数据，根据API文档要求\n      const saveData = {\n        account: userInfo.phone, // 手机号作为account字段\n        uname: userInfo.nickname // 昵称字段名改为 uname\n      }\n      \n      // 如果头像已更新，只传递文件名给后端\n      if (userInfo.avatar && userInfo.avatar !== 'http://video.caimizm.com/himg/user.png') {\n        // 从完整URL中提取文件名\n        const fileName = userInfo.avatar.replace('http://video.caimizm.com/himg/', '')\n        saveData.himg = fileName\n      }\n      \n      // 调用保存用户信息的API\n      const response = await apiUpdateUserProfile(saveData)\n      \n      uni.hideLoading()\n      \n      if (response.code !== 200) {\n        throw new Error(response.msg || '保存失败')\n      }\n      \n      uni.showToast({\n        title: '保存成功',\n        icon: 'success'\n      })\n      \n      // 保存到本地存储\n      uni.setStorageSync('userInfo', {\n        nickname: userInfo.nickname,\n        avatar: userInfo.avatar\n      })\n      \n      const loginData = uni.getStorageSync('loginData') || {}\n      loginData.uname = userInfo.nickname\n      loginData.himg = userInfo.avatar\n      uni.setStorageSync('loginData', loginData)\n      \n      // 通知其他页面更新\n      uni.$emit('userProfileUpdated', {\n        nickname: userInfo.nickname,\n        avatar: userInfo.avatar\n      })\n      \n      // 延迟返回上一页\n      setTimeout(() => {\n        uni.navigateBack()\n      }, 1500)\n      \n    } catch (error) {\n      uni.hideLoading()\n      console.error('保存失败:', error)\n      uni.showToast({\n        title: '保存失败，请重试',\n        icon: 'none'\n      })\n    } finally {\n      isSaving.value = false\n    }\n  }\n  \n  // 加载用户信息（从登录时保存的数据中获取）\n  const loadUserInfo = async () => {\n    const token = getToken()\n    const account = getAccount()\n    \n    if (!token) {\n      uni.showToast({\n        title: '请先登录',\n        icon: 'none'\n      })\n      setTimeout(() => {\n        uni.navigateBack()\n      }, 1500)\n      return\n    }\n    \n    try {\n      // 从本地存储获取登录时保存的用户信息\n      const savedUserInfo = uni.getStorageSync('userInfo') || {}\n      const loginData = uni.getStorageSync('loginData') || {}\n      \n      // 加载用户信息\n      if (loginData.uname || loginData.account) {\n        userInfo.nickname = loginData.uname || '用户'\n        userInfo.phone = loginData.account || account || ''\n        userInfo.avatar = loginData.himg || 'http://video.caimizm.com/himg/user.png'\n      } else {\n        userInfo.nickname = savedUserInfo.nickname || '用户'\n        userInfo.phone = account || '13637666646'\n        userInfo.avatar = savedUserInfo.avatar || 'http://video.caimizm.com/himg/user.png'\n      }\n      \n      console.log('加载的用户信息:', {\n        nickname: userInfo.nickname,\n        phone: userInfo.phone,\n        avatar: userInfo.avatar,\n        loginData: loginData\n      })\n      \n    } catch (error) {\n      console.error('加载用户信息失败:', error)\n      // 使用默认值\n      userInfo.nickname = account || '用户'\n      userInfo.phone = account || '13637666646'\n      userInfo.avatar = 'http://video.caimizm.com/himg/user.png'\n    }\n  }\n  \n  onMounted(() => {\n    loadUserInfo()\n  })\n  </script>\n  \n  <style scoped>\n  .edit-profile-container {\n    min-height: 100vh;\n    background-color: #f5f5f5;\n  }\n  \n  /* 导航栏 */\n  .navbar {\n    position: fixed;\n    top: 0;\n    left: 0;\n    right: 0;\n    height: 88rpx;\n    background-color: #28B389;\n    z-index: 999;\n  }\n  \n  .nav-content {\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    height: 100%;\n    padding: 0 30rpx;\n  }\n  \n  .nav-left, .nav-right {\n    width: 80rpx;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n  }\n  \n  .back-arrow {\n    font-size: 40rpx;\n    color: #fff;\n    font-weight: bold;\n    line-height: 1;\n  }\n  \n  .nav-title {\n    font-size: 36rpx;\n    font-weight: 600;\n    color: #fff;\n  }\n  \n  .save-text {\n    font-size: 28rpx;\n    color: #fff;\n    font-weight: 500;\n  }\n  \n  /* 主要内容区域 */\n  .main-content {\n    padding-top: 88rpx;\n    padding: 88rpx 30rpx 30rpx;\n  }\n  \n  /* 头像区域 */\n  .avatar-section {\n    display: flex;\n    justify-content: center;\n    margin-bottom: 60rpx;\n  }\n  \n  .avatar-container {\n    position: relative;\n    width: 200rpx;\n    height: 200rpx;\n    border-radius: 50%;\n    overflow: hidden;\n    border: 4rpx solid #fff;\n    box-shadow: 0 4rpx 20rpx rgba(0, 0, 0, 0.1);\n  }\n  \n  .avatar-image {\n    width: 100%;\n    height: 100%;\n    object-fit: cover;\n  }\n  \n  .avatar-overlay {\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    background-color: rgba(0, 0, 0, 0.5);\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    opacity: 0;\n    transition: opacity 0.3s ease;\n  }\n  \n  .avatar-container:active .avatar-overlay {\n    opacity: 1;\n  }\n  \n  .avatar-text {\n    font-size: 20rpx;\n    color: #fff;\n    margin-top: 8rpx;\n  }\n  \n  \n  /* 表单区域 */\n  .form-section {\n    background-color: #fff;\n    border-radius: 20rpx;\n    padding: 40rpx 30rpx;\n    margin-bottom: 40rpx;\n    box-shadow: 0 2rpx 10rpx rgba(0, 0, 0, 0.1);\n  }\n  \n  .form-item {\n    margin-bottom: 40rpx;\n  }\n  \n  .form-item:last-child {\n    margin-bottom: 0;\n  }\n  \n  .form-label {\n    display: block;\n    font-size: 28rpx;\n    color: #333;\n    font-weight: 500;\n    margin-bottom: 20rpx;\n  }\n  \n  .form-input {\n    width: 100%;\n    height: 80rpx;\n    background-color: #f8f9fa;\n    border: 2rpx solid #e9ecef;\n    border-radius: 12rpx;\n    padding: 0 20rpx;\n    font-size: 28rpx;\n    color: #333;\n    box-sizing: border-box;\n  }\n  \n  .form-input:focus {\n    border-color: #28B389;\n    background-color: #fff;\n  }\n  \n  .form-input.disabled {\n    background-color: #f5f5f5;\n    color: #999;\n    cursor: not-allowed;\n  }\n  \n  .form-input.disabled:focus {\n    border-color: #e9ecef;\n    background-color: #f5f5f5;\n  }\n  \n  .form-textarea {\n    width: 100%;\n    min-height: 120rpx;\n    background-color: #f8f9fa;\n    border: 2rpx solid #e9ecef;\n    border-radius: 12rpx;\n    padding: 20rpx;\n    font-size: 28rpx;\n    color: #333;\n    box-sizing: border-box;\n    resize: none;\n  }\n  \n  .form-textarea:focus {\n    border-color: #28B389;\n    background-color: #fff;\n  }\n  \n  /* 保存按钮区域 */\n  .save-section {\n    padding: 0 30rpx;\n  }\n  \n  .save-btn {\n    width: 100%;\n    height: 88rpx;\n    background: linear-gradient(135deg, #28B389 0%, #20a085 100%);\n    color: #fff;\n    border-radius: 25rpx;\n    font-size: 32rpx;\n    font-weight: 600;\n    border: none;\n    box-shadow: 0 4rpx 15rpx rgba(40, 179, 137, 0.3);\n    transition: all 0.3s ease;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    gap: 10rpx;\n  }\n  \n  .save-btn:disabled {\n    background: #ccc;\n    box-shadow: none;\n    cursor: not-allowed;\n  }\n  \n  .save-btn:active:not(:disabled) {\n    transform: translateY(2rpx);\n    box-shadow: 0 2rpx 8rpx rgba(40, 179, 137, 0.4);\n  }\n  \n  .save-btn-text {\n    font-size: 32rpx;\n  }\n  </style>\n  ","import MiniProgramPage from 'C:/Users/Administrator/Desktop/my-painting-rules-project/pages/user/edit-profile.vue'\nwx.createPage(MiniProgramPage)"],"names":["reactive","ref","getCOSSecretKey","uni","apiUpdateUserProfile","getToken","getAccount","onMounted"],"mappings":"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"}