{"version":3,"file":"user.js","sources":["pages/user/user.vue","D:/uniapp/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvdXNlci91c2VyLnZ1ZQ"],"sourcesContent":["<template>\r\n  <view class=\"userLayout\">\r\n    <view class=\"userInfo\" v-if=\"memberStore.profile\">\r\n      <view class=\"user-header\">\r\n        <view class=\"avatar-section\">\r\n          <view class=\"avatar\">\r\n            <image \r\n              :src=\"memberStore.profile?.avatar || 'http://video.caimizm.com/himg/user.png'\" \r\n              mode=\"aspectFill\"\r\n              @error=\"handleAvatarError\"\r\n            ></image>\r\n          </view>\r\n          <view class=\"user-details\">\r\n            <text class=\"username\">{{ memberStore.profile?.nickname || 'Ê¨¢ËøéÊÇ®' }}</text>\r\n           \r\n          </view>\r\n        </view>\r\n        <view class=\"edit-btn\" @click=\"goToEditProfile\">\r\n          <text class=\"edit-text\">ÁÇπÂáªÁºñËæëËµÑÊñô</text>\r\n        </view>\r\n      </view>\r\n      <view class=\"user-stats\">\r\n        <view class=\"stat-item\">\r\n          <text class=\"stat-label\">ÂÖ≥Ê≥®</text>\r\n          <text class=\"stat-value\">128</text>\r\n        </view>\r\n        <view class=\"stat-item\">\r\n          <text class=\"stat-label\">Á≤â‰∏ù</text>\r\n          <text class=\"stat-value\">256</text>\r\n        </view>\r\n        <view class=\"stat-item\">\r\n          <text class=\"stat-label\">Â∏ñÂ≠ê</text>\r\n          <text class=\"stat-value\">89</text>\r\n        </view>\r\n      </view>\r\n    </view>\r\n    <!-- ÊÉÖÂÜµ2ÔºöÊú™ÁôªÂΩï -->\r\n    <view class=\"userInfo\" v-if=\"!memberStore.profile\">\r\n      <view class=\"user-header\">\r\n        <view class=\"avatar-section\">\r\n          <view class=\"avatar gray\">\r\n            <image src=\"../../static/images/defaultAvatar.png\" mode=\"aspectFill\"></image>\r\n          </view>\r\n          <view class=\"user-details\">\r\n            <text class=\"username\">Êú™ÁôªÂΩï</text>\r\n            <view class=\"login-btn\">\r\n              <navigator url=\"/pages/login/login\" hover-class=\"none\">\r\n                <text class=\"login-text\">ÁÇπÂáªÁôªÂΩï</text>\r\n              </navigator>\r\n            </view>\r\n          </view>\r\n        </view>\r\n        <view class=\"edit-btn\" @click=\"goToLogin\">\r\n          <text class=\"edit-text\">ÁÇπÂáªÁôªÂΩï</text>\r\n        </view>\r\n      </view>\r\n      <view class=\"user-stats\">\r\n        <view class=\"stat-item\">\r\n          <text class=\"stat-label\">ÂÖ≥Ê≥®</text>\r\n          <text class=\"stat-value\">0</text>\r\n        </view>\r\n        <view class=\"stat-item\">\r\n          <text class=\"stat-label\">Á≤â‰∏ù</text>\r\n          <text class=\"stat-value\">0</text>\r\n        </view>\r\n        <view class=\"stat-item\">\r\n          <text class=\"stat-label\">Â∏ñÂ≠ê</text>\r\n          <text class=\"stat-value\">0</text>\r\n        </view>\r\n      </view>\r\n    </view>\r\n\t\r\n\t\r\n\t\r\n\t<!-- Êï∞ÊçÆÂ±ïÁ§∫Âå∫Âüü -->\r\n\t<view class=\"data-section\">\r\n\t  <view class=\"data-card\" @click=\"toggleBalanceVisibility\">\r\n\t    <text class=\"data-number\">{{ isBalanceVisible ? '0.00' : '****' }}</text>\r\n\t    <text class=\"data-label\">ÊàëÁöÑÊî∂Áõä</text>\r\n\t    <view class=\"eye-icon\" @click=\"toggleBalanceVisibility\">\r\n\t      <uni-icons :type=\"isBalanceVisible ? 'eye-filled' : 'eye-slash-filled'\" size=\"16\" color=\"#999\"></uni-icons>\r\n\t    </view>\r\n\t  </view>\r\n\t  <view class=\"data-card\" @click=\"goToRecharge\">\r\n\t    <text class=\"data-number\">\r\n\t      <text v-if=\"isBalanceVisible\">{{ userBalance }}</text>\r\n\t      <text v-else>****</text>\r\n\t    </text>\r\n\t    <text class=\"data-label\">ÊàëÁöÑÈáëÂ∏Å</text>\r\n\t    <view class=\"eye-icon\" @click=\"toggleBalanceVisibility\">\r\n\t      <uni-icons :type=\"isBalanceVisible ? 'eye-filled' : 'eye-slash-filled'\" size=\"16\" color=\"#999\"></uni-icons>\r\n\t    </view>\r\n\t  </view>\r\n\t</view>\r\n\t\r\n\t<!-- ÊàëÁöÑÂÖÖÂÄºÂå∫Âüü -->\r\n\t<view class=\"recharge-section\">\r\n\t  <text class=\"section-title\"></text>\r\n\t  <view class=\"recharge-items\">\r\n\t    <view class=\"recharge-item\">\r\n\t      <view class=\"recharge-icon purple\">üí≥</view>\r\n\t      <text class=\"recharge-text\">Â§ßÂ∏àÂåÖÊúà</text>\r\n\t    </view>\r\n\t    <view class=\"recharge-item\" @click=\"goToOrders\">\r\n\t      <view class=\"recharge-icon blue\">üìã</view>\r\n\t      <text class=\"recharge-text\">ÊàëÁöÑËÆ¢Âçï</text>\r\n\t    </view>\r\n\t    <view class=\"recharge-item\" @click=\"goToTransaction\">\r\n\t      <view class=\"recharge-icon yellow\">¬•</view>\r\n\t      <text class=\"recharge-text\">Ê∂àË¥πÊòéÁªÜ</text>\r\n\t    </view>\r\n\t    <view class=\"recharge-item\">\r\n\t      <view class=\"recharge-icon red\">üéÅ</view>\r\n\t      <text class=\"recharge-text\">Êî∂Ëóè</text>\r\n\t    </view>\r\n\t  </view>\r\n\t</view>\r\n\t\r\n\t<!-- ÂÖ∂‰ªñÊúçÂä°Âå∫Âüü -->\r\n\t<view class=\"services-section\">\r\n\t  <text class=\"section-title\">ÂÖ∂ÂÆÉÊúçÂä°</text>\r\n\t  <view class=\"services-grid\">\r\n\t    <view class=\"service-item\">\r\n\t      <uni-icons type=\"headphones\" size=\"24\" color=\"#222\"></uni-icons>\r\n\t      <text class=\"service-text\">ËÅîÁ≥ªÂÆ¢Êúç</text>\r\n\t    </view>\r\n\t    <view class=\"service-item\">\r\n\t      <uni-icons type=\"compose\" size=\"24\" color=\"#222\"></uni-icons>\r\n\t      <text class=\"service-text\">ÊÑèËßÅÂèçÈ¶à</text>\r\n\t    </view>\r\n\t    <view class=\"service-item\" @click=\"logout\">\r\n\t      <uni-icons type=\"settings\" size=\"24\" color=\"#222\"></uni-icons>\r\n\t      <text class=\"service-text\">ËÆæÁΩÆ</text>\r\n\t    </view>\r\n\t    <view class=\"service-item\">\r\n\t      <uni-icons type=\"locked\" size=\"24\" color=\"#222\"></uni-icons>\r\n\t      <text class=\"service-text\">ÈöêÁßÅÊîøÁ≠ñ</text>\r\n\t    </view>\r\n\t    <view class=\"service-item\">\r\n\t      <uni-icons type=\"gift\" size=\"24\" color=\"#222\"></uni-icons>\r\n\t      <text class=\"service-text\">ÊØèÊó•Á¶èÂà©</text>\r\n\t    </view>\r\n\t    <view class=\"service-item\">\r\n\t      <uni-icons type=\"help\" size=\"24\" color=\"#222\"></uni-icons>\r\n\t      <text class=\"service-text\">Â∏∏ËßÅÈóÆÈ¢ò</text>\r\n\t    </view>\r\n\t    <view class=\"service-item\">\r\n\t      <uni-icons type=\"link\" size=\"24\" color=\"#222\"></uni-icons>\r\n\t      <text class=\"service-text\">ÂÖ≥‰∫éÊàë‰ª¨</text>\r\n\t    </view>\r\n\t  </view>\r\n\t</view>\r\n\t\r\n  </view>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref ,reactive, onMounted} from \"vue\";\r\nimport { onShow } from \"@dcloudio/uni-app\";\r\nimport {getNavBarHeight} from \"@/utils/system.js\"\r\nimport { getToken, removeToken, getAccount } from \"@/utils/request.js\";\r\nimport { apiGetUserBalance } from \"@/api/apis.js\";\r\n\r\nconst memberStore = reactive({\r\n  profile: null\r\n});\r\n\r\n// ÈáëÂ∏ÅÊòæÁ§∫Áä∂ÊÄÅ\r\nconst isBalanceVisible = ref(false)\r\n// Áî®Êà∑ÈáëÂ∏Å‰ΩôÈ¢ù\r\nconst userBalance = ref(0)\r\n// ËØ∑Ê±ÇÈîÅ - Èò≤Ê≠¢ÈáçÂ§çËØ∑Ê±Ç\r\nconst isLoadingBalance = ref(false)\r\nconst isLoadingLogin = ref(false)\r\n\r\n// Â§ÑÁêÜÂ§¥ÂÉèÂä†ËΩΩÈîôËØØ\r\nconst handleAvatarError = (e) => {\r\n  // Â§¥ÂÉèÂä†ËΩΩÂ§±Ë¥•Êó∂‰ΩøÁî®ÈªòËÆ§Â§¥ÂÉè\r\n  if (memberStore.profile) {\r\n    memberStore.profile.avatar = 'http://video.caimizm.com/himg/user.png'\r\n  }\r\n}\r\n\r\n// Ëé∑ÂèñÁî®Êà∑ÈáëÂ∏Å‰ΩôÈ¢ù\r\nconst getUserBalance = async () => {\r\n  // Èò≤Ê≠¢ÈáçÂ§çËØ∑Ê±Ç\r\n  if (isLoadingBalance.value) {\r\n    console.log('Ê≠£Âú®Âä†ËΩΩ‰ΩôÈ¢ùÔºåË∑≥ËøáÈáçÂ§çËØ∑Ê±Ç')\r\n    return\r\n  }\r\n  \r\n  try {\r\n    isLoadingBalance.value = true\r\n    const account = getAccount()\r\n    \r\n    if (!account) {\r\n      userBalance.value = 0\r\n      return\r\n    }\r\n    \r\n    const response = await apiGetUserBalance({ account })\r\n    \r\n    if (response.code === 200) {\r\n      userBalance.value = response.data || 0\r\n    } else {\r\n      userBalance.value = 0\r\n    }\r\n  } catch (error) {\r\n    console.error('Ëé∑Âèñ‰ΩôÈ¢ùÂ§±Ë¥•:', error)\r\n    userBalance.value = 0\r\n  } finally {\r\n    isLoadingBalance.value = false\r\n  }\r\n}\r\n\r\n// Ê£ÄÊü•ÁôªÂΩïÁä∂ÊÄÅ\r\nconst checkLoginStatus = async () => {\r\n  // Èò≤Ê≠¢ÈáçÂ§çËØ∑Ê±Ç\r\n  if (isLoadingLogin.value) {\r\n    console.log('Ê≠£Âú®Ê£ÄÊü•ÁôªÂΩïÁä∂ÊÄÅÔºåË∑≥ËøáÈáçÂ§çËØ∑Ê±Ç')\r\n    return\r\n  }\r\n  \r\n  try {\r\n    isLoadingLogin.value = true\r\n    const token = getToken();\r\n    if (token) {\r\n      try {\r\n        // ‰ªéÊú¨Âú∞Â≠òÂÇ®Ëé∑ÂèñÁôªÂΩïÊó∂‰øùÂ≠òÁöÑÁî®Êà∑‰ø°ÊÅØ\r\n        const savedUserInfo = uni.getStorageSync('userInfo') || {}\r\n        const loginData = uni.getStorageSync('loginData') || {}\r\n        \r\n        // ‰ºòÂÖà‰ΩøÁî®ÁôªÂΩïÊó∂‰øùÂ≠òÁöÑÂÆåÊï¥Êï∞ÊçÆ\r\n        if (loginData.uname || loginData.account) {\r\n          memberStore.profile = {\r\n            avatar: loginData.himg || savedUserInfo.avatar || 'http://video.caimizm.com/himg/user.png', // ‰ºòÂÖà‰ΩøÁî®himgÔºåÁÑ∂ÂêéÊòØÊú¨Âú∞‰øùÂ≠òÁöÑÂ§¥ÂÉè\r\n            nickname: loginData.uname || savedUserInfo.nickname || 'Ê¨¢ËøéÊÇ®' // uname ÊòØÊòµÁß∞\r\n          };\r\n        } else {\r\n          // Â¶ÇÊûúÊ≤°ÊúâÁôªÂΩïÊï∞ÊçÆÔºå‰ΩøÁî®Êú¨Âú∞Â≠òÂÇ®ÁöÑÁî®Êà∑‰ø°ÊÅØ\r\n          memberStore.profile = {\r\n            avatar: savedUserInfo.avatar || 'http://video.caimizm.com/himg/user.png',\r\n            nickname: savedUserInfo.nickname || 'Ê¨¢ËøéÊÇ®'\r\n          };\r\n        }\r\n        \r\n      } catch (error) {\r\n        // ‰ªéÊú¨Âú∞Â≠òÂÇ®Ëé∑ÂèñÁî®Êà∑‰ø°ÊÅØ‰Ωú‰∏∫ÂêéÂ§á\r\n        const savedUserInfo = uni.getStorageSync('userInfo') || {}\r\n        memberStore.profile = {\r\n          avatar: savedUserInfo.avatar || 'http://video.caimizm.com/himg/user.png',\r\n          nickname: savedUserInfo.nickname || 'Ê¨¢ËøéÊÇ®'\r\n        };\r\n      }\r\n      \r\n      // Ëé∑ÂèñÁî®Êà∑‰ΩôÈ¢ù\r\n      getUserBalance()\r\n    } else {\r\n      // Ê≤°ÊúâtokenË°®Á§∫Êú™ÁôªÂΩï\r\n      memberStore.profile = null;\r\n      userBalance.value = 0\r\n    }\r\n  } finally {\r\n    isLoadingLogin.value = false\r\n  }\r\n}\r\n\r\n// ÈÄÄÂá∫ÁôªÂΩï\r\nconst logout = () => {\r\n  uni.showModal({\r\n    title: 'Á°ÆËÆ§ÈÄÄÂá∫',\r\n    content: 'Á°ÆÂÆöË¶ÅÈÄÄÂá∫ÁôªÂΩïÂêóÔºü',\r\n    success: (res) => {\r\n      if (res.confirm) {\r\n        // Ê∏ÖÈô§token\r\n        removeToken();\r\n        // Êõ¥Êñ∞ÁôªÂΩïÁä∂ÊÄÅ\r\n        checkLoginStatus();\r\n        // ÊòæÁ§∫ÈÄÄÂá∫ÊàêÂäüÊèêÁ§∫\r\n        uni.showToast({\r\n          title: 'Â∑≤ÈÄÄÂá∫ÁôªÂΩï',\r\n          icon: 'success'\r\n        });\r\n      }\r\n    }\r\n  });\r\n}\r\n//-------------------------------------------------------------------------\r\nconst menuList = ref([\r\n  { \r\n    icon: 'contact',     // uni-icons ÂÜÖÁΩÆÂõæÊ†áÂêçÔºàËÅîÁ≥ªÂÆ¢ÊúçÔºâ\r\n    title: 'ËÅîÁ≥ªÂÆ¢Êúç', \r\n    subTitle: '', \r\n    hasArrow: true \r\n  },\r\n  { \r\n    icon: 'paperplane-filled',       // uni-icons ÂÜÖÁΩÆÂõæÊ†áÂêçÔºàËΩØ‰ª∂ÂàÜ‰∫´Ôºâ\r\n    title: 'ËΩØ‰ª∂ÂàÜ‰∫´', \r\n    subTitle: 'ÂàÜ‰∫´ÁªôÊúãÂèã', \r\n    hasArrow: true \r\n  },\r\n  { \r\n    icon: 'email-filled',    // uni-icons ÂÜÖÁΩÆÂõæÊ†áÂêçÔºàÂª∫ËÆÆÂèçÈ¶àÔºâ\r\n    title: 'Âª∫ËÆÆÂèçÈ¶à', \r\n    subTitle: '', \r\n    hasArrow: true \r\n  },\r\n  { \r\n    icon: 'upload-filled',    // uni-icons ÂÜÖÁΩÆÂõæÊ†áÂêçÔºàÁâàÊú¨ÁÆ≠Â§¥Á§∫ÊÑèÔºâ\r\n    title: 'ÁâàÊú¨', \r\n    subTitle: 'Â∑≤ÊòØÊúÄÊñ∞ÁâàV3.4.0.2', \r\n    hasArrow: true \r\n  },\r\n  { \r\n    icon: 'settings',    // uni-icons ÂÜÖÁΩÆÂõæÊ†áÂêçÔºàËÆæÁΩÆÔºâ\r\n    title: 'ËÆæÁΩÆ', \r\n    subTitle: '', \r\n    hasArrow: true \r\n  },\r\n]);\r\n\r\n// Ë∑≥ËΩ¨Âà∞ÂÖÖÂÄºÈ°µÈù¢\r\nconst goToRecharge = () => {\r\n  // ÂÖàÂà∑Êñ∞‰ΩôÈ¢ùÔºåÁÑ∂ÂêéË∑≥ËΩ¨\r\n  if (memberStore.profile) {\r\n    getUserBalance();\r\n  }\r\n  uni.navigateTo({ url: '/pages/recharge/recharge' });\r\n};\r\n\r\n// Ë∑≥ËΩ¨Âà∞‰∫§ÊòìËÆ∞ÂΩïÈ°µÈù¢\r\nconst goToTransaction = () => {\r\n  uni.navigateTo({ url: '/pages/transaction/transaction' });\r\n};\r\n\r\n// Ë∑≥ËΩ¨Âà∞ËÆ¢ÂçïÈ°µÈù¢\r\nconst goToOrders = () => {\r\n  uni.navigateTo({ url: '/pages/orders/orders' });\r\n};\r\n\r\n// Ë∑≥ËΩ¨Âà∞ÁôªÂΩïÈ°µÈù¢\r\nconst goToLogin = () => {\r\n  uni.navigateTo({ url: '/pages/login/login' });\r\n};\r\n\r\n// Ë∑≥ËΩ¨Âà∞ÁºñËæëÁî®Êà∑‰ø°ÊÅØÈ°µÈù¢\r\nconst goToEditProfile = () => {\r\n  if (!memberStore.profile) {\r\n    uni.showToast({\r\n      title: 'ËØ∑ÂÖàÁôªÂΩï',\r\n      icon: 'none'\r\n    });\r\n    return;\r\n  }\r\n  uni.navigateTo({ url: '/pages/user/edit-profile' });\r\n};\r\n\r\n// ÂàáÊç¢ÈáëÂ∏ÅÊòæÁ§∫Áä∂ÊÄÅ\r\nconst toggleBalanceVisibility = (e) => {\r\n  e.stopPropagation(); // ÈòªÊ≠¢‰∫ã‰ª∂ÂÜíÊ≥°\r\n  isBalanceVisible.value = !isBalanceVisible.value;\r\n  \r\n  // Â¶ÇÊûúÊòæÁ§∫‰ΩôÈ¢ù‰∏îÂ∑≤ÁôªÂΩïÔºåÂà∑Êñ∞‰ΩôÈ¢ùÊï∞ÊçÆ\r\n  if (isBalanceVisible.value && memberStore.profile) {\r\n    getUserBalance();\r\n  }\r\n};\r\n\r\n// ÂäüËÉΩÊ†èÁÇπÂáª‰∫ã‰ª∂\r\nconst handleFeatureClick = (featureName) => {\r\n  if (featureName === 'ÂÖÖÂÄº') {\r\n    uni.showToast({\r\n      title: 'ËØ∑ÁÇπÂáª‰∏äÊñπÁöÑ\"ÊàëÁöÑÈáëÂ∏Å\"ËøõË°åÂÖÖÂÄº',\r\n      icon: 'none',\r\n    });\r\n  } else {\r\n    uni.showToast({\r\n      title: `ÁÇπÂáª‰∫Ü„Äå${featureName}„Äç`,\r\n      icon: 'none',\r\n    });\r\n  }\r\n};\r\n\r\n// ËèúÂçïÈ°πÁÇπÂáª‰∫ã‰ª∂\r\nconst handleMenuClick = (item) => {\r\n  if (item.title === 'ËÆæÁΩÆ') {\r\n    // ËÆæÁΩÆËèúÂçïÈ°πÁõ¥Êé•Ë∞ÉÁî®ÈÄÄÂá∫ÁôªÂΩïÂäüËÉΩ\r\n    logout();\r\n  } else {\r\n    // ÂÖ∂‰ªñËèúÂçïÈ°πÊòæÁ§∫ÊèêÁ§∫\r\n    uni.showToast({\r\n      title: `ÁÇπÂáª‰∫Ü„Äå${item.title}„Äç`,\r\n      icon: 'none',\r\n    });\r\n  }\r\n  \r\n  // Á§∫‰æãÔºöË∑≥ËΩ¨È°µÈù¢ÔºàÈúÄÊèêÂâçÈÖçÁΩÆ pages.json Ë∑ØÁî±Ôºâ\r\n  // if (item.title === 'ËÅîÁ≥ªÂÆ¢Êúç') {\r\n  //   uni.navigateTo({ url: '/pages/customer-service/index' });\r\n  // }\r\n};\r\n\r\n// È°µÈù¢Âä†ËΩΩÊó∂Ê£ÄÊü•ÁôªÂΩïÁä∂ÊÄÅ\r\nonMounted(() => {\r\n  checkLoginStatus();\r\n  \r\n  // ÁõëÂê¨Áî®Êà∑‰ø°ÊÅØÊõ¥Êñ∞‰∫ã‰ª∂\r\n  uni.$on('userProfileUpdated', (data) => {\r\n    if (memberStore.profile) {\r\n      // Êõ¥Êñ∞Áî®Êà∑‰ø°ÊÅØ\r\n      memberStore.profile.nickname = data.nickname;\r\n      memberStore.profile.avatar = data.avatar;\r\n      \r\n      uni.showToast({\r\n        title: 'Áî®Êà∑‰ø°ÊÅØÂ∑≤Êõ¥Êñ∞',\r\n        icon: 'success'\r\n      });\r\n    }\r\n  });\r\n});\r\n\r\n// È°µÈù¢ÊòæÁ§∫Êó∂‰πüÊ£ÄÊü•ÁôªÂΩïÁä∂ÊÄÅÔºàÁ°Æ‰øù‰ªéÁôªÂΩïÈ°µÈù¢ËøîÂõûÊó∂ËÉΩÊõ¥Êñ∞Áä∂ÊÄÅÔºâ\r\nonShow(() => {\r\n  // Âè™Âà∑Êñ∞ÁôªÂΩïÁä∂ÊÄÅÔºåÈÅøÂÖçÈáçÂ§çËØ∑Ê±Ç‰ΩôÈ¢ù\r\n  checkLoginStatus();\r\n});\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.userLayout{\r\n  background: linear-gradient(180deg, #fffbcbf0 0%, #f7f7f7 50%, #f0ecec00 100%);\r\n  min-height: 100vh;\r\n  overflow-y: auto;\r\n  \r\n  .userInfo{\r\n    background: transparent;\r\n    padding: 60rpx 32rpx 40rpx;\r\n    margin-top: 0;\r\n    .user-header{\r\n      display: flex;\r\n      justify-content: space-between;\r\n      align-items: flex-start;\r\n      margin-bottom: 30rpx;\r\n      .avatar-section{\r\n        display: flex;\r\n        align-items: center;\r\n        .avatar{\r\n          width: 120rpx;\r\n          height: 120rpx;\r\n          border-radius: 50%;\r\n          overflow: hidden;\r\n          margin-right: 20rpx;\r\n          image{\r\n            width: 100%;\r\n            height: 100%;\r\n          }\r\n        }\r\n        .user-details{\r\n          .username{\r\n            font-size: 36rpx;\r\n            font-weight: 600;\r\n            color: #333;\r\n            display: block;\r\n            margin-bottom: 8rpx;\r\n          }\r\n          .vip-tag{\r\n            background-color: #ffa726;\r\n            padding: 4rpx 12rpx;\r\n            border-radius: 12rpx;\r\n            .vip-text{\r\n              font-size: 20rpx;\r\n              color: #fff;\r\n              font-weight: 500;\r\n            }\r\n          }\r\n          .login-btn{\r\n            background-color: #ffa726;\r\n            padding: 4rpx 12rpx;\r\n            border-radius: 12rpx;\r\n            .login-text{\r\n              font-size: 20rpx;\r\n              color: #fff;\r\n              font-weight: 500;\r\n            }\r\n          }\r\n        }\r\n      }\r\n      .edit-btn{\r\n        background-color: #ffa726;\r\n        padding: 12rpx 20rpx;\r\n        border-radius: 20rpx;\r\n        .edit-text{\r\n          font-size: 24rpx;\r\n          color: #fff;\r\n        }\r\n      }\r\n    }\r\n    .user-stats{\r\n      display: flex;\r\n      justify-content: space-between;\r\n      .stat-item{\r\n        text-align: center;\r\n        .stat-label{\r\n          font-size: 24rpx;\r\n          color: #999;\r\n          display: block;\r\n          margin-bottom: 8rpx;\r\n        }\r\n        .stat-value{\r\n          font-size: 32rpx;\r\n          color: #333;\r\n          font-weight: 600;\r\n        }\r\n      }\r\n    }\r\n    .gray {\r\n      filter: grayscale(100%);\r\n    }\r\n  }\r\n}\r\n\r\n/* ÈÇÄËØ∑Â•ΩÂèãÊ®™ÂπÖ */\r\n.invite-banner {\r\n  margin: 20rpx 32rpx;\r\n  background: linear-gradient(135deg, #ffa726 0%, #ffeb3b 100%);\r\n  border-radius: 16rpx;\r\n  padding: 30rpx;\r\n  .banner-content {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    .banner-text {\r\n      .banner-title {\r\n        font-size: 32rpx;\r\n        color: #fff;\r\n        font-weight: 600;\r\n        display: block;\r\n        margin-bottom: 8rpx;\r\n      }\r\n      .banner-subtitle {\r\n        font-size: 24rpx;\r\n        color: #fff;\r\n        opacity: 0.9;\r\n      }\r\n    }\r\n    .invite-btn {\r\n      background-color: #fff;\r\n      border: 2rpx solid #ffa726;\r\n      padding: 16rpx 24rpx;\r\n      border-radius: 20rpx;\r\n      .invite-btn-text {\r\n        font-size: 24rpx;\r\n        color: #ffa726;\r\n        font-weight: 500;\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n/* Êï∞ÊçÆÂ±ïÁ§∫Âå∫ÂüüÊ†∑Âºè */\r\n.data-section {\r\n  display: flex;\r\n  gap: 20rpx;\r\n  margin: 20rpx 32rpx;\r\n}\r\n\r\n.data-card {\r\n  flex: 1;\r\n  background-color: #fff;\r\n  border-radius: 16rpx;\r\n  padding: 30rpx 20rpx;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  box-shadow: 0 2rpx 12rpx rgba(0, 0, 0, 0.08);\r\n  position: relative;\r\n  transition: all 0.3s ease;\r\n}\r\n\r\n.data-card:active {\r\n  transform: scale(0.95);\r\n  background-color: #f8f9fa;\r\n}\r\n\r\n.data-number {\r\n  font-size: 48rpx;\r\n  font-weight: 600;\r\n  color: #333;\r\n  margin-bottom: 8rpx;\r\n}\r\n\r\n.data-label {\r\n  font-size: 28rpx;\r\n  color: #666;\r\n  font-weight: 400;\r\n}\r\n\r\n.eye-icon {\r\n  position: absolute;\r\n  top: 20rpx;\r\n  right: 20rpx;\r\n  padding: 8rpx;\r\n  border-radius: 50%;\r\n  background-color: #f8f9fa;\r\n}\r\n\r\n/* ÂäüËÉΩÊ†èÊ†∑Âºè */\r\n.feature-bar {\r\n  background-color: #fff;\r\n  margin: 20rpx 32rpx;\r\n  border-radius: 16rpx;\r\n  padding: 30rpx 20rpx;\r\n  display: flex;\r\n  justify-content: space-around;\r\n  align-items: center;\r\n  box-shadow: 0 2rpx 12rpx rgba(0, 0, 0, 0.08);\r\n}\r\n\r\n.feature-item {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  flex: 1;\r\n  padding: 10rpx;\r\n  transition: all 0.3s ease;\r\n}\r\n\r\n.feature-item:active {\r\n  transform: scale(0.95);\r\n}\r\n\r\n.feature-icon {\r\n  width: 60rpx;\r\n  height: 60rpx;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  font-size: 40rpx;\r\n  margin-bottom: 12rpx;\r\n  border-radius: 50%;\r\n  background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);\r\n  box-shadow: 0 2rpx 8rpx rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.feature-icon.trophy {\r\n  background: linear-gradient(135deg, #ff6b6b 0%, #ee5a52 100%);\r\n  color: #fff;\r\n}\r\n\r\n.feature-icon.diamond {\r\n  background: linear-gradient(135deg, #ffa726 0%, #ff9800 100%);\r\n  color: #fff;\r\n}\r\n\r\n.feature-icon.star {\r\n  background: linear-gradient(135deg, #ffeb3b 0%, #ffc107 100%);\r\n  color: #fff;\r\n}\r\n\r\n.feature-text {\r\n  font-size: 28rpx;\r\n  color: #333;\r\n  font-weight: 500;\r\n  text-align: center;\r\n}\r\n\r\n.menu-container {\r\n  background-color: #fff;\r\n  padding: 0 16rpx;\r\n}\r\n\r\n/* Âçï‰∏™ËèúÂçïÈ°πÂ∏ÉÂ±Ä */\r\n.menu-item {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  padding: 20rpx 0;\r\n  border-bottom: 1px solid #f5f5f5; /* ÂàÜÈöîÁ∫ø */\r\n}\r\n\r\n/* ÊñáÂ≠óÂå∫ÂüüÔºà‰∏ªÊ†áÈ¢ò + ÂâØÊ†áÈ¢òÔºâ */\r\n.text-area {\r\n  display: flex;\r\n  flex-direction: column;\r\n  margin-left: 12rpx;\r\n  flex: 1; /* ËÆ©ÊñáÂ≠óÂå∫ÂüüÂç†Êª°‰∏≠Èó¥Á©∫Èó¥ */\r\n}\r\n\r\n.title {\r\n  font-size: 32rpx;\r\n  color: #333;\r\n  font-weight: 400;\r\n}\r\n\r\n.sub-title {\r\n  font-size: 28rpx;\r\n  color: #999;\r\n  margin-top: 4rpx;\r\n}\r\n\r\n/* ÊàëÁöÑÂÖÖÂÄºÂå∫Âüü */\r\n.recharge-section {\r\n  margin: 20rpx 32rpx;\r\n  .section-title {\r\n    font-size: 32rpx;\r\n    font-weight: 600;\r\n    color: #333;\r\n    margin-bottom: 20rpx;\r\n  }\r\n  .recharge-items {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    .recharge-item {\r\n      display: flex;\r\n      flex-direction: column;\r\n      align-items: center;\r\n      flex: 1;\r\n      .recharge-icon {\r\n        width: 60rpx;\r\n        height: 60rpx;\r\n        border-radius: 50%;\r\n        display: flex;\r\n        align-items: center;\r\n        justify-content: center;\r\n        font-size: 32rpx;\r\n        margin-bottom: 12rpx;\r\n        &.purple {\r\n          background-color: #9c27b0;\r\n          color: #fff;\r\n        }\r\n        &.blue {\r\n          background-color: #2196f3;\r\n          color: #fff;\r\n        }\r\n        &.yellow {\r\n          background-color: #ffeb3b;\r\n          color: #333;\r\n        }\r\n        &.red {\r\n          background-color: #f44336;\r\n          color: #fff;\r\n        }\r\n      }\r\n      .recharge-text {\r\n        font-size: 24rpx;\r\n        color: #333;\r\n        text-align: center;\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n/* ÂÖ∂‰ªñÊúçÂä°Âå∫Âüü */\r\n.services-section {\r\n  margin: 40rpx 32rpx 20rpx;\r\n  .section-title {\r\n    font-size: 32rpx;\r\n    font-weight: 600;\r\n    color: #333;\r\n    margin-bottom: 20rpx;\r\n  }\r\n  .services-grid {\r\n    display: grid;\r\n    grid-template-columns: repeat(4, 1fr);\r\n    gap: 30rpx;\r\n    .service-item {\r\n      display: flex;\r\n      flex-direction: column;\r\n      align-items: center;\r\n      .service-text {\r\n        font-size: 22rpx;\r\n        color: #333;\r\n        text-align: center;\r\n        margin-top: 12rpx;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import MiniProgramPage from 'C:/Ê¢ìÊ¢Ö2.0/Ê¢ìÊ¢Öxcx/my-painting-rules-project/pages/user/user.vue'\nwx.createPage(MiniProgramPage)"],"names":["reactive","ref","uni","getAccount","apiGetUserBalance","getToken","removeToken","onMounted","onShow"],"mappings":"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"}