{"version":3,"file":"forum.js","sources":["pages/forum/forum.vue","D:/uniapp/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvZm9ydW0vZm9ydW0udnVl"],"sourcesContent":["<template>\n  <view class=\"forum-container\">\n    <!-- 主导航栏 -->\n    <view class=\"main-navbar\">\n      <view class=\"nav-left\">\n        <uni-icons type=\"list\" size=\"20\" color=\"#fff\"></uni-icons>\n        <text class=\"nav-text\">说明</text>\n      </view>\n      <view class=\"nav-center\">\n        <view class=\"period-selector\" @click=\"togglePeriodDropdown\">\n          <text class=\"period-text\">{{ currentLotteryType.name }} {{ currentLotteryType.status }}</text>\n          <uni-icons type=\"arrowdown\" size=\"16\" color=\"#fff\" :class=\"{ 'rotate': showPeriodDropdown }\"></uni-icons>\n        </view>\n      </view>\n      \n      <!-- 期号下拉菜单遮罩 -->\n      <view v-if=\"showPeriodDropdown\" class=\"dropdown-mask\" @click=\"closePeriodDropdown\"></view>\n      \n      <!-- 期号下拉菜单 -->\n      <view v-if=\"showPeriodDropdown\" class=\"period-dropdown\" @click.stop>\n        <view class=\"dropdown-header\">\n          <text class=\"dropdown-title\">选择彩票类型</text>\n          <view class=\"close-btn\" @click=\"closePeriodDropdown\">\n            <uni-icons type=\"close\" size=\"16\" color=\"#999\"></uni-icons>\n          </view>\n        </view>\n        <scroll-view scroll-y class=\"dropdown-list\">\n          <view \n            class=\"dropdown-item\" \n            :class=\"{ active: lotteryType.id === currentLotteryType.id }\"\n            v-for=\"lotteryType in lotteryTypes\" \n            :key=\"lotteryType.id\"\n            @click=\"selectLotteryType(lotteryType)\"\n          >\n            <text class=\"period-item-text\">{{ lotteryType.name }} {{ lotteryType.status }}</text>\n            <text class=\"period-item-time\">{{ lotteryType.time }}</text>\n          </view>\n        </scroll-view>\n      </view>\n      <view class=\"nav-right\" @click=\"showPublishModal\">\n        <view class=\"post-icon\">\n          <uni-icons type=\"plus\" size=\"20\" color=\"#fff\"></uni-icons>\n        </view>\n        <text class=\"nav-text\">发帖</text>\n      </view>\n    </view>\n    \n    <!-- 切换标签栏 -->\n    <view class=\"switch-tabs\">\n      <view \n        class=\"tab-item\" \n        :class=\"{ active: activeTab === 'headlines' }\"\n        @click=\"switchTab('headlines')\"\n      >\n        <text class=\"tab-text\">头条</text>\n      </view>\n      <view \n        class=\"tab-item\" \n        :class=\"{ active: activeTab === 'follow' }\"\n        @click=\"switchTab('follow')\"\n      >\n        <text class=\"tab-text\">关注</text>\n      </view>\n      <view \n        class=\"tab-item\" \n        :class=\"{ active: activeTab === 'predict' }\"\n        @click=\"switchTab('predict')\"\n      >\n        <text class=\"tab-text\">预测</text>\n      </view>\n      <view \n        class=\"tab-item\" \n        :class=\"{ active: activeTab === 'soup' }\"\n        @click=\"switchTab('soup')\"\n      >\n        <text class=\"tab-text\">鸡汤</text>\n      </view>\n    </view>\n    \n    <!-- 搜索栏 -->\n    <view class=\"search-header\">\n      <text class=\"search-label\">搜索帖子</text>\n      <view class=\"search-input-wrapper\">\n        <uni-icons type=\"search\" size=\"16\" color=\"#999\"></uni-icons>\n        <input \n          type=\"text\" \n          placeholder=\"搜索头尾、芝麻、靓规等帖\" \n          class=\"search-input\" \n          v-model=\"searchKeyword\"\n          @input=\"handleSearchInput\"\n          @focus=\"showSearchSuggestions = true\"\n        />\n        <view v-if=\"searchKeyword\" class=\"clear-search\" @click=\"clearSearch\">\n          <uni-icons type=\"clear\" size=\"16\" color=\"#999\"></uni-icons>\n        </view>\n        <view class=\"filter-btn\" @click=\"showFilterModal\">\n          <uni-icons type=\"tune\" size=\"16\" color=\"#999\"></uni-icons>\n        </view>\n      </view>\n    </view>\n    \n    <!-- 搜索建议下拉框 -->\n    <view v-if=\"showSearchSuggestions && searchSuggestions.length > 0\" class=\"search-suggestions\">\n      <view \n        class=\"suggestion-item\" \n        v-for=\"(suggestion, index) in searchSuggestions\" \n        :key=\"index\"\n        @click=\"selectSuggestion(suggestion)\"\n      >\n        <uni-icons type=\"search\" size=\"14\" color=\"#999\"></uni-icons>\n        <text class=\"suggestion-text\">{{ suggestion }}</text>\n      </view>\n    </view>\n    \n    <!-- 分类标签栏 -->\n    <view class=\"category-tags\">\n      <scroll-view scroll-x class=\"category-scroll\">\n        <view class=\"tag-list\">\n          <view \n            class=\"tag-item\" \n            :class=\"{ active: activeTag === index }\"\n            v-for=\"(tag, index) in tags\" \n            :key=\"index\"\n            @click=\"selectTag(index)\"\n          >\n            {{ tag }}\n          </view>\n        </view>\n      </scroll-view>\n    </view>\n    \n    <!-- 论坛内容 -->\n    <view class=\"forum-content\">\n      <!-- 头条内容 -->\n      <view v-if=\"activeTab === 'headlines'\" class=\"tab-content\">\n        <view class=\"headlines-list\">\n          <view class=\"headline-item\" v-for=\"(headline, index) in headlinesList\" :key=\"index\">\n            <view class=\"headline-header\">\n              <text class=\"headline-title\">{{ headline.title }}</text>\n              <text class=\"headline-time\">{{ headline.time }}</text>\n            </view>\n            <text class=\"headline-content\">{{ headline.content }}</text>\n            <view class=\"headline-stats\">\n              <text class=\"stat-text\">阅读 {{ headline.views }}</text>\n              <text class=\"stat-text\">点赞 {{ headline.likes }}</text>\n            </view>\n          </view>\n        </view>\n      </view>\n      \n      <!-- 关注内容 -->\n      <view v-if=\"activeTab === 'follow'\" class=\"tab-content\">\n        <view class=\"follow-list\">\n          <view class=\"follow-item\" v-for=\"(follow, index) in followList\" :key=\"index\">\n            <view class=\"follow-header\">\n              <image :src=\"follow.avatar\" class=\"user-avatar\"></image>\n              <view class=\"user-info\">\n                <text class=\"username\">{{ follow.username }}</text>\n                <text class=\"follow-time\">{{ follow.time }}</text>\n              </view>\n              <view class=\"follow-btn\">\n                <text class=\"btn-text\">已关注</text>\n              </view>\n            </view>\n            <text class=\"follow-content\">{{ follow.content }}</text>\n          </view>\n        </view>\n      </view>\n      \n      <!-- 预测内容 -->\n      <view v-if=\"activeTab === 'predict'\" class=\"tab-content\">\n        <!-- 搜索状态提示 -->\n        <view v-if=\"isSearching && searchKeyword\" class=\"search-status\">\n          <text class=\"search-status-text\">搜索\"{{ searchKeyword }}\"的结果</text>\n          <text class=\"search-count\">共{{ filteredPredictList.length }}条</text>\n        </view>\n        \n        <view class=\"predict-list\">\n          <view class=\"predict-item\" v-for=\"(item, index) in (isSearching && searchKeyword ? filteredPredictList : predictList)\" :key=\"index\">\n            <!-- 帖子头部 -->\n            <view class=\"post-header\">\n              <view class=\"user-info\">\n                <image :src=\"item.avatar\" class=\"avatar\"></image>\n                <view class=\"username-and-url\">\n                  <text class=\"username\">{{ item.username }}</text>\n              </view>\n              </view>\n              <view class=\"more-options\">\n                <uni-icons type=\"more-filled\" size=\"20\" color=\"#999\"></uni-icons>\n            </view>\n              </view>\n              \n            <!-- 期号和时间 -->\n            <view class=\"issue-time\">\n              <text class=\"issue-no\">第{{ item.period }}期</text>\n              <text class=\"post-time\">{{ item.time }}</text>\n              </view>\n              \n            <!-- 帖子内容 -->\n            <view class=\"post-content\">\n              <text class=\"content-text\">{{ item.content }}</text>\n              <!-- 规律帖图片显示 - 支持多张图片 -->\n              <view v-if=\"item.image\" class=\"post-image-container\">\n                <!-- 单张图片 -->\n                <image \n                  v-if=\"!isMultipleImages(item.image)\"\n                  :src=\"item.image.startsWith('http') ? item.image : `http://video.caimizm.com/himg/${item.image}`\" \n                  class=\"post-image\"\n                  mode=\"aspectFit\"\n                  @click=\"previewImage(item.image, [item.image])\"\n                />\n                <!-- 多张图片 -->\n                <view v-else class=\"multiple-images\">\n                  <view \n                    v-for=\"(imageUrl, index) in getImageUrls(item.image)\" \n                    :key=\"index\" \n                    class=\"image-item\"\n                  >\n                    <image \n                      :src=\"imageUrl.startsWith('http') ? imageUrl : `http://video.caimizm.com/himg/${imageUrl}`\" \n                      class=\"post-image-small\"\n                      mode=\"aspectFit\"\n                      @click=\"previewImage(imageUrl, getImageUrls(item.image))\"\n                    />\n                  </view>\n                </view>\n              </view>\n            </view>\n            \n            <!-- 帖子底部操作 -->\n            <view class=\"post-footer\">\n              <view class=\"action-item\" :class=\"{ 'liked-disabled': item.isLiked }\" @click=\"handleLike(item)\">\n                <uni-icons type=\"hand-up\" size=\"18\" :color=\"item.isLiked ? '#ff4757' : '#999'\"></uni-icons>\n                <text class=\"count\" :class=\"{ 'liked': item.isLiked }\">{{ item.likes }}</text>\n                </view>\n              <view class=\"action-item\">\n                <uni-icons type=\"redo\" size=\"18\" color=\"#999\"></uni-icons>\n                <text class=\"count\">{{ item.shares }}</text>\n                </view>\n              <view class=\"action-item\">\n                <uni-icons type=\"chatbubble\" size=\"18\" color=\"#999\"></uni-icons>\n                <text class=\"count\">{{ item.comments }}</text>\n                </view>\n              <view class=\"action-item append-btn\" @click=\"handleAppendPost(item)\">\n                <uni-icons type=\"plus\" size=\"18\" color=\"#28B389\"></uni-icons>\n                <text class=\"count\">追帖</text>\n              </view>\n            </view>\n            </view>\n          \n          <!-- 暂无数据提示 -->\n          <view v-if=\"predictList.length === 0\" class=\"no-posts-tip\">\n            <text>暂无预测帖子</text>\n          </view>\n        </view>\n      </view>\n      \n      <!-- 鸡汤内容 -->\n      <view v-if=\"activeTab === 'soup'\" class=\"tab-content\">\n        <view class=\"soup-list\">\n          <view class=\"soup-item\" v-for=\"(soup, index) in soupList\" :key=\"index\">\n            <view class=\"soup-header\">\n              <image :src=\"soup.avatar\" class=\"user-avatar\"></image>\n              <view class=\"user-info\">\n                <text class=\"username\">{{ soup.username }}</text>\n                <text class=\"soup-time\">{{ soup.time }}</text>\n              </view>\n            </view>\n            <text class=\"soup-content\">{{ soup.content }}</text>\n            <view class=\"soup-footer\">\n              <view class=\"post-stats\">\n                <view class=\"stat-item\">\n                  <uni-icons type=\"heart\" size=\"14\" color=\"#999\"></uni-icons>\n                  <text class=\"stat-text\">{{ soup.likes }}</text>\n                </view>\n                <view class=\"stat-item\">\n                  <uni-icons type=\"chat\" size=\"14\" color=\"#999\"></uni-icons>\n                  <text class=\"stat-text\">{{ soup.comments }}</text>\n                </view>\n              </view>\n            </view>\n          </view>\n        </view>\n      </view>\n    </view>\n    \n    <!-- 发布按钮 -->\n    <view class=\"publish-btn\" @click=\"showPublishModal\">\n      <uni-icons type=\"plus\" size=\"20\" color=\"#fff\"></uni-icons>\n    </view>\n    \n    <!-- 发布弹出层 -->\n    <uni-popup \n      ref=\"publishPopup\" \n      type=\"bottom\" \n      :safe-area=\"false\" \n      :mask-click=\"false\" \n      :animation=\"true\"\n      :mask-background-color=\"'rgba(0,0,0,0.5)'\"\n      :duration=\"300\"\n    >\n      <view class=\"publish-modal\">\n        <view class=\"modal-header\">\n          <text class=\"modal-title\">发布帖子</text>\n          <view class=\"close-btn\" @click=\"hidePublishModal\">\n            <uni-icons type=\"close\" size=\"20\" color=\"#999\"></uni-icons>\n          </view>\n        </view>\n        \n        <view class=\"modal-content\">\n          <!-- 期号标题 -->\n          <view class=\"period-title\">\n            <text class=\"period-text\">彩迷</text>\n          </view>\n          \n          <!-- 协议确认 -->\n          <view class=\"agreement-section\">\n            <view class=\"checkbox-wrapper\" @click=\"toggleAgreementManually\">\n              <view class=\"custom-checkbox\" :class=\"{ checked: agreedToTerms }\">\n                <view v-if=\"agreedToTerms\" class=\"checkmark\">✓</view>\n              </view>\n              <text class=\"agreement-text\">同意并遵守《彩友圈管理规范》</text>\n            </view>\n          </view>\n          \n          <!-- 功能按钮区域 -->\n          <view class=\"function-buttons\">\n            <view class=\"button-row\">\n              <view class=\"function-btn\" @click=\"selectFunction('predict')\">\n                <view class=\"btn-icon predict-icon\">免</view>\n                <text class=\"btn-text\">预测帖(免审)</text>\n              </view>\n              <view class=\"function-btn\" @click=\"selectFunction('pattern')\">\n                <view class=\"btn-icon pattern-icon\">\n                  <uni-icons type=\"redo\" size=\"24\" color=\"#fff\"></uni-icons>\n                </view>\n                <text class=\"btn-text\">规律帖(上传规律)</text>\n              </view>\n              <view class=\"function-btn\" @click=\"selectFunction('filter')\">\n                <view class=\"btn-icon filter-icon\">\n                  <uni-icons type=\"gear\" size=\"24\" color=\"#fff\"></uni-icons>\n                </view>\n                <text class=\"btn-text\">过滤王帖(免审)</text>\n              </view>\n            </view>\n            <view class=\"button-row\">\n              <view class=\"function-btn\" @click=\"selectFunction('soup')\">\n                <view class=\"btn-icon soup-icon\">\n                  <uni-icons type=\"coffee\" size=\"24\" color=\"#fff\"></uni-icons>\n                </view>\n                <text class=\"btn-text\">老母鸡汤</text>\n              </view>\n            </view>\n          </view>\n        </view>\n        \n        <view class=\"modal-footer\">\n          <button class=\"close-btn-modal\" @click=\"hidePublishModal\">关闭</button>\n        </view>\n      </view>\n    </uni-popup>\n    \n    <!-- 搜索建议遮罩 -->\n    <view v-if=\"showSearchSuggestions\" class=\"search-suggestions-mask\" @click=\"showSearchSuggestions = false\"></view>\n    \n    <!-- 筛选弹窗 -->\n    <view v-if=\"showFilterDialog\" class=\"filter-dialog-mask\" @click=\"hideFilterModal\">\n      <view class=\"filter-dialog\" @click.stop>\n        <!-- 弹窗头部 -->\n        <view class=\"filter-header\">\n          <text class=\"filter-title\">心水预测</text>\n          <text class=\"filter-period\">第{{ currentLotteryType.name }}期 {{ currentLotteryType.status }}</text>\n        </view>\n        \n        <!-- 心水预测筛选 -->\n        <view class=\"filter-section\">\n          <view class=\"filter-grid\">\n            <view \n              class=\"filter-item\" \n              :class=\"{ active: selectedPredictionFilter === filter }\"\n              v-for=\"filter in predictionFilters\" \n              :key=\"filter\"\n              @click=\"togglePredictionFilter(filter)\"\n            >\n              {{ filter }}\n            </view>\n          </view>\n        </view>\n        \n        <!-- 其他筛选 -->\n        <view class=\"filter-section\">\n          <text class=\"section-title\">其他筛选</text>\n          <text class=\"section-subtitle\">(可结合上面选项选择一个)</text>\n          <view class=\"filter-grid\">\n            <view \n              class=\"filter-item\" \n              :class=\"{ active: selectedOtherFilter === filter }\"\n              v-for=\"filter in otherFilters\" \n              :key=\"filter\"\n              @click=\"toggleOtherFilter(filter)\"\n            >\n              {{ filter }}\n            </view>\n          </view>\n        </view>\n        \n        <!-- 搜索按钮 -->\n        <view class=\"filter-footer\">\n          <view class=\"filter-buttons\">\n            <button class=\"clear-filter-btn\" @click=\"clearFilterSelection\">\n              清空\n            </button>\n            <button class=\"search-btn\" @click=\"performSearch\">\n              {{ getSearchButtonText() }}\n            </button>\n          </view>\n        </view>\n      </view>\n    </view>\n  </view>\n</template>\n\n<script setup>\nimport { ref, onMounted } from 'vue'\nimport { apiGetIssueNo, apiPostListQuery, apiPostLike } from '@/api/apis.js'\nimport { getAccount } from '@/utils/request.js'\n\n// 工具与常量：安全本地存取、函数防抖、文本规范化\nconst safeGet = (key, fallback) => {\n  try {\n    const v = uni.getStorageSync(key)\n    return v === undefined || v === null ? fallback : v\n  } catch (e) {\n    return fallback\n  }\n}\n\nconst safeSet = (key, value) => {\n  try {\n    uni.setStorageSync(key, value)\n  } catch (e) {\n    // 非关键失败忽略\n  }\n}\n\nconst debounce = (fn, delay = 300) => {\n  let timer\n  return (...args) => {\n    clearTimeout(timer)\n    timer = setTimeout(() => fn(...args), delay)\n  }\n}\n\nconst normalizeText = (val) => String(val || '').toLowerCase()\n\n// 当前选中的标签\nconst activeTab = ref('predict')\n\n// 当前选中的标签（分类标签）\nconst activeTag = ref(0)\n\n// 彩票类型下拉框状态\nconst showPeriodDropdown = ref(false)\n\n// 弹出层引用\nconst publishPopup = ref(null)\n\n// 协议同意状态\nconst agreedToTerms = ref(false)\n\n// 选中的功能类型\nconst selectedFunction = ref('')\n\n// 筛选弹窗相关\nconst showFilterDialog = ref(false)\nconst selectedPredictionFilter = ref('') // 心水预测只能选择一个\nconst selectedOtherFilter = ref('') // 其他筛选只能选择一个\n\n// 搜索相关\nconst searchKeyword = ref('')\nconst showSearchSuggestions = ref(false)\nconst searchSuggestions = ref([])\nconst filteredPredictList = ref([])\nconst isSearching = ref(false)\n\n// 请求锁 - 防止重复请求\nconst isLoadingPosts = ref(false)\nconst isLoadingLottery = ref(false)\n\n// 请求缓存 - 记录当前正在请求的参数，避免重复请求\nconst currentQueryKey = ref(null) // 格式: \"tname_issueno\"\n\n// 心水预测筛选选项\nconst predictionFilters = ref([\n  '头尾', '芝麻', '定头', '定百', '定十', '定尾', '杀头', '杀百', '杀十', '杀尾', \n  '稳码', '中肚', '头尾合', '中肚合', '千百合', '千十合', '百个合', '十个合', \n  'ABXD', 'ABCX', 'AXCD', 'XBCD', 'ABXX', 'AXCX', 'XXCD', 'XBXD', '死数', \n  '二字现', '三字现', '过滤王二定', '过滤王三定', '过滤王四定', \n  '头尾不合', '中肚不合', '千百不合', '千十不合', '百个不合', '十个不合'\n])\n\n// 其他筛选选项\nconst otherFilters = ref(['大师帖子', '靓规贴子', '点赞最多', '讨论最热'])\n\n// 分类标签列表\nconst tags = ref([\n  '#全部', '#大师', '#靓规贴', '#过滤王', '#点赞最多'\n])\n\n// 彩票类别列表\nconst lotteryTypes = ref([\n  { id: 16, name: '排列三', code: 'pl3', status: '待开奖', time: '今天 21:30' },\n  { id: 17, name: '排列五', code: 'pl5', status: '待开奖', time: '今天 21:30' },\n  { id: 15, name: '七星彩', code: 'qxc', status: '待开奖', time: '今天 21:30' },\n  { id: 12, name: '福彩3D', code: 'fc3d', status: '待开奖', time: '今天 21:30' }\n])\n\n// 当前选中的彩票类别\nconst currentLotteryType = ref(lotteryTypes.value[0])\n\n// 头条列表\nconst headlinesList = ref([\n  {\n    id: 1,\n    title: '2024年彩票行业最新政策解读',\n    content: '国家彩票管理中心发布最新政策，对彩票销售和兑奖流程进行了优化调整...',\n    time: '2小时前',\n    views: 1256,\n    likes: 89\n  },\n  {\n    id: 2,\n    title: '数字彩票中奖概率分析报告',\n    content: '专业机构发布最新中奖概率分析，帮助彩民理性购彩...',\n    time: '5小时前',\n    views: 892,\n    likes: 67\n  },\n  {\n    id: 3,\n    title: '彩票公益金使用情况公示',\n    content: '本年度彩票公益金主要用于教育、医疗、体育等公益事业...',\n    time: '1天前',\n    views: 2156,\n    likes: 156\n  }\n])\n\n// 关注列表\nconst followList = ref([\n  {\n    id: 1,\n    username: '彩友小王',\n    avatar: '/static/images/defaultAvatar.png',\n    time: '刚刚',\n    content: '今天分享一个实用的选号技巧，希望对大家有帮助！'\n  },\n  {\n    id: 2,\n    username: '幸运星',\n    avatar: '/static/images/defaultAvatar.png',\n    time: '30分钟前',\n    content: '最近在研究号码走势，发现了一些有趣的规律'\n  },\n  {\n    id: 3,\n    username: '数字达人',\n    avatar: '/static/images/defaultAvatar.png',\n    time: '1小时前',\n    content: '新一期预测已发布，欢迎大家参考讨论'\n  }\n])\n\n// 预测列表\nconst predictList = ref([])\n\n// 当前期号信息\nconst currentIssueInfo = ref({\n  id: null,\n  number: null,\n  status: '待开奖',\n  time: '今天 21:30'\n})\n\n// 鸡汤列表\nconst soupList = ref([\n  {\n    id: 1,\n    username: '心灵导师',\n    avatar: '/static/images/defaultAvatar.png',\n    time: '1小时前',\n    content: '生活就像彩票，不买永远没有中奖的机会，但买了也不一定中奖。重要的是保持一颗平常心，享受过程，期待美好。',\n    likes: 45,\n    comments: 12\n  },\n  {\n    id: 2,\n    username: '正能量小王',\n    avatar: '/static/images/defaultAvatar.png',\n    time: '3小时前',\n    content: '每一次失败都是成功的垫脚石，每一次尝试都是成长的机会。相信自己，坚持下去，好运总会降临。',\n    likes: 67,\n    comments: 23\n  },\n  {\n    id: 3,\n    username: '励志达人',\n    avatar: '/static/images/defaultAvatar.png',\n    time: '6小时前',\n    content: '人生就像选号，没有标准答案，但有无数种可能。勇敢尝试，坚持梦想，你就是自己的幸运星。',\n    likes: 89,\n    comments: 34\n  }\n])\n\n// 页面是否已经初始化\nconst isPageInitialized = ref(false)\n\n// 页面加载完成\nonMounted(() => {\n  if (isPageInitialized.value) {\n    return\n  }\n  \n  const savedLotteryType = safeGet('currentLotteryType', null)\n  if (savedLotteryType) {\n    currentLotteryType.value = savedLotteryType\n  }\n  \n  autoSaveCurrentUserAvatar()\n  optimizeTouchEvents()\n  loadLotteryData(currentLotteryType.value.code)\n  isPageInitialized.value = true\n})\n\n// 切换标签\nconst switchTab = (tab) => {\n  activeTab.value = tab\n}\n\n// 选择分类标签\nconst selectTag = (index) => {\n  activeTag.value = index\n  const selectedTag = tags.value[index]\n  \n  // 提取标签内容（去掉#号）\n  const tagContent = selectedTag.replace('#', '')\n  \n  // 设置搜索关键词并执行搜索\n  searchKeyword.value = tagContent\n  performFuzzySearch()\n  \n  // 关闭搜索建议框\n  showSearchSuggestions.value = false\n}\n\n// 切换彩票类型下拉框\nconst togglePeriodDropdown = () => {\n  showPeriodDropdown.value = !showPeriodDropdown.value\n}\n\n// 关闭彩票类型下拉框\nconst closePeriodDropdown = () => {\n  showPeriodDropdown.value = false\n}\n\n// 选择彩票类型\nconst selectLotteryType = (lotteryType) => {\n  if (currentLotteryType.value.code === lotteryType.code) {\n    showPeriodDropdown.value = false\n    return\n  }\n  \n  currentLotteryType.value = lotteryType\n  showPeriodDropdown.value = false\n  \n  try {\n    uni.setStorageSync('currentLotteryType', lotteryType)\n  } catch (error) {\n    // 静默处理错误\n  }\n  \n  loadLotteryDataByType(lotteryType)\n}\n\n// 根据彩票类型对象加载数据（直接传入完整对象）\nconst loadLotteryDataByType = async (lotteryType) => {\n  if (isLoadingLottery.value) {\n    return\n  }\n  \n  if (!lotteryType || !lotteryType.name) {\n    return\n  }\n  \n  try {\n    isLoadingLottery.value = true\n    uni.showLoading({ title: '加载中...' })\n    const response = await apiGetIssueNo({ tname: lotteryType.name })\n    uni.hideLoading()\n    \n    if (response.code === 200 && response.data !== null && response.data !== undefined) {\n      let issueNumber = null\n      let issueStatus = '待开奖'\n      let issueTime = '今天 21:30'\n      \n      if (typeof response.data === 'number' || typeof response.data === 'string') {\n        issueNumber = response.data.toString()\n      } else if (typeof response.data === 'object') {\n        issueNumber = response.data.issueno || response.data.number || response.data.id\n        issueStatus = response.data.status || '待开奖'\n        issueTime = response.data.time || '今天 21:30'\n      }\n      \n      // 更新当前彩票类型的状态\n      lotteryType.status = issueStatus\n      lotteryType.time = issueTime\n      \n      // 更新当前选中的彩票类型状态\n      if (currentLotteryType.value.code === lotteryType.code) {\n        currentLotteryType.value.status = issueStatus\n        currentLotteryType.value.time = issueTime\n      }\n      \n      // 更新到lotteryTypes数组中对应的项\n      const index = lotteryTypes.value.findIndex(type => type.code === lotteryType.code)\n      if (index !== -1) {\n        lotteryTypes.value[index].status = issueStatus\n        lotteryTypes.value[index].time = issueTime\n      }\n      \n      // 检查期号是否真的发生了变化\n      const oldIssueNumber = currentIssueInfo.value?.number\n      const newIssueNumber = issueNumber\n      \n      currentIssueInfo.value = {\n        id: issueNumber,\n        number: issueNumber,\n        status: issueStatus,\n        time: issueTime\n      }\n      \n      safeSet('currentIssueInfo', currentIssueInfo.value)\n      \n      // 只有当期号发生变化或者是第一次加载时才加载帖子，避免重复请求\n      if (oldIssueNumber !== newIssueNumber || oldIssueNumber === null) {\n        loadPredictPosts()\n      }\n    } else {\n      uni.showToast({ title: response.msg || '数据加载失败', icon: 'none' })\n    }\n  } catch (error) {\n    uni.hideLoading()\n    const errorMsg = error?.msg || error?.message || '网络错误，请重试'\n    uni.showToast({ \n      title: errorMsg, \n      icon: 'none',\n      duration: 3000\n    })\n  } finally {\n    isLoadingLottery.value = false\n  }\n}\n\n// 根据彩票类型加载数据（兼容旧接口，通过code查找）\nconst loadLotteryData = async (lotteryCode) => {\n  const lotteryType = lotteryTypes.value.find(type => type.code === lotteryCode)\n  if (!lotteryType) {\n    return\n  }\n  await loadLotteryDataByType(lotteryType)\n}\n\n// 检查是否为多张图片（包含逗号分隔）\nconst isMultipleImages = (imageStr) => {\n  return imageStr && imageStr.includes(',')\n}\n\n// 获取图片URL数组\nconst getImageUrls = (imageStr) => {\n  if (!imageStr) return []\n  return imageStr.split(',').map(url => url.trim()).filter(url => url)\n}\n\n// 预览图片\nconst previewImage = (current, urls) => {\n  uni.previewImage({\n    current,\n    urls\n  })\n}\n\n// 显示发布弹出层\nconst showPublishModal = () => {\n  publishPopup.value.open()\n}\n\n// 隐藏发布弹出层\nconst hidePublishModal = () => {\n  publishPopup.value.close()\n}\n\n// 切换协议同意状态\nconst toggleAgreementManually = () => {\n  agreedToTerms.value = !agreedToTerms.value\n}\n\n// 选择功能类型\nconst selectFunction = (type) => {\n  \n  // 所有功能都需要先同意协议\n  if (!agreedToTerms.value) {\n    uni.showToast({\n      title: '请先同意管理规范',\n      icon: 'none'\n    })\n    return\n  }\n  \n  \n  selectedFunction.value = type\n  \n  // 根据选择的类型跳转到不同的发布页面\n  switch (type) {\n    case 'predict':\n      // 跳转到设置方案页面\n      uni.navigateTo({\n        url: '/pages/predict-scheme/predict-scheme',\n        success: () => {\n          hidePublishModal()\n        },\n        fail: () => {\n          uni.showToast({\n            title: '跳转失败',\n            icon: 'none'\n          })\n        }\n      })\n      break\n    case 'pattern':\n      // 跳转到规律预测页面\n      uni.navigateTo({\n        url: '/pages/pattern-predict/pattern-predict',\n        success: () => {\n          hidePublishModal()\n        },\n        fail: () => {\n          uni.showToast({\n            title: '跳转失败',\n            icon: 'none'\n          })\n        }\n      })\n      break\n    case 'filter':\n      uni.showToast({\n        title: '跳转到过滤王帖发布',\n        icon: 'none'\n      })\n      break\n    case 'soup':\n      uni.showToast({\n        title: '跳转到老母鸡汤发布',\n        icon: 'none'\n      })\n      break\n  }\n  \n  // 关闭弹出层\n  hidePublishModal()\n}\n\n// 显示筛选弹窗\nconst showFilterModal = () => {\n  showFilterDialog.value = true\n}\n\n// 隐藏筛选弹窗\nconst hideFilterModal = () => {\n  showFilterDialog.value = false\n}\n\n// 切换筛选选项\n// 切换心水预测筛选\nconst togglePredictionFilter = (filter) => {\n  if (selectedPredictionFilter.value === filter) {\n    selectedPredictionFilter.value = '' // 取消选择\n  } else {\n    selectedPredictionFilter.value = filter // 选择新的\n  }\n}\n\n// 切换其他筛选\nconst toggleOtherFilter = (filter) => {\n  if (selectedOtherFilter.value === filter) {\n    selectedOtherFilter.value = '' // 取消选择\n  } else {\n    selectedOtherFilter.value = filter // 选择新的\n  }\n}\n\n// 处理搜索输入\nconst _handleSearchInput = () => {\n  if (searchKeyword.value.trim()) {\n    // 生成搜索建议\n    generateSearchSuggestions()\n    // 执行模糊搜索\n    performFuzzySearch()\n  } else {\n    // 清空搜索\n    clearSearchResults()\n  }\n}\nconst handleSearchInput = debounce(_handleSearchInput, 300)\n\n// 生成搜索建议\nconst generateSearchSuggestions = () => {\n  const keyword = normalizeText(searchKeyword.value.trim())\n  const suggestions = []\n  \n  // 从两类筛选选项中生成建议\n  const candidates = [...predictionFilters.value, ...otherFilters.value]\n  candidates.forEach(filter => {\n    if (normalizeText(filter).includes(keyword)) {\n      suggestions.push(filter)\n    }\n  })\n  \n  // 限制建议数量\n  searchSuggestions.value = suggestions.slice(0, 5)\n}\n\n// 选择搜索建议\nconst selectSuggestion = (suggestion) => {\n  searchKeyword.value = suggestion\n  showSearchSuggestions.value = false\n  performFuzzySearch()\n}\n\n// 清空搜索\nconst clearSearch = () => {\n  searchKeyword.value = ''\n  showSearchSuggestions.value = false\n  activeTag.value = -1 // 重置标签选中状态\n  clearSearchResults()\n}\n\n// 执行模糊搜索\nconst performFuzzySearch = () => {\n  const keyword = normalizeText(searchKeyword.value.trim())\n  \n  if (!keyword) {\n    clearSearchResults()\n    return\n  }\n  \n  isSearching.value = true\n  \n  // 对预测帖子进行模糊搜索\n  filteredPredictList.value = predictList.value.filter(post => {\n    // 搜索用户名\n    if (post.username && normalizeText(post.username).includes(keyword)) {\n      return true\n    }\n    \n    // 搜索帖子内容\n    if (post.content && normalizeText(post.content).includes(keyword)) {\n      return true\n    }\n    \n    // 搜索期号\n    if (post.period && post.period.toString().includes(keyword)) {\n      return true\n    }\n    \n    // 特殊标签搜索逻辑\n    if (keyword === '全部') {\n      return true // 显示所有帖子\n    }\n    \n    if (keyword === '大师' || keyword === '大师帖子') {\n      // 搜索包含\"大师\"关键词的帖子\n      return post.content && post.content.includes('大师')\n    }\n    \n    if (keyword === '靓规贴' || keyword === '靓规贴子') {\n      // 搜索包含\"靓规\"关键词的帖子\n      return post.content && post.content.includes('靓规')\n    }\n    \n    if (keyword === '过滤王') {\n      // 搜索包含\"过滤王\"关键词的帖子\n      return post.content && post.content.includes('过滤王')\n    }\n    \n    if (keyword === '点赞最多') {\n      // 按点赞数排序（这里简化处理，实际可以按likes字段排序）\n      return post.likes > 0\n    }\n    \n    return false\n  })\n  \n  // 如果是\"点赞最多\"标签，按点赞数排序\n  if (keyword === '点赞最多') {\n    filteredPredictList.value.sort((a, b) => b.likes - a.likes)\n  }\n  \n  uni.showToast({\n    title: `找到${filteredPredictList.value.length}条结果`,\n    icon: 'success'\n  })\n}\n\n// 清空搜索结果\nconst clearSearchResults = () => {\n  filteredPredictList.value = []\n  isSearching.value = false\n}\n\n// 执行筛选搜索\nconst performSearch = () => {\n  const filters = []\n  if (selectedPredictionFilter.value) {\n    filters.push(selectedPredictionFilter.value)\n  }\n  if (selectedOtherFilter.value) {\n    filters.push(selectedOtherFilter.value)\n  }\n  \n  \n  // 检查是否选择了筛选条件\n  if (filters.length === 0) {\n    uni.showToast({\n      title: '请选择筛选条件',\n      icon: 'none'\n    })\n    return\n  }\n  \n  // 设置搜索关键词\n  searchKeyword.value = filters.join('+')\n  \n  // 执行筛选搜索\n  performFilterSearch(filters)\n  \n  // 关闭筛选弹窗\n  hideFilterModal()\n  \n  // 重置标签选中状态\n  activeTag.value = -1\n  \n  uni.showToast({\n    title: `搜索${filters.join('+')}`,\n    icon: 'success'\n  })\n}\n\n// 执行筛选搜索的具体逻辑\nconst performFilterSearch = (filters) => {\n  isSearching.value = true\n  \n  // 对预测帖子进行筛选搜索\n  filteredPredictList.value = predictList.value.filter(post => {\n    let matches = false\n    \n    // 检查心水预测筛选条件\n    if (selectedPredictionFilter.value) {\n      const predictionFilter = selectedPredictionFilter.value.toLowerCase()\n      \n      // 在帖子内容中搜索匹配的筛选条件\n      if (post.content && post.content.toLowerCase().includes(predictionFilter)) {\n        matches = true\n      }\n      \n      // 特殊处理一些筛选条件\n      if (predictionFilter === '头尾' && post.content && \n          (post.content.includes('头') || post.content.includes('尾'))) {\n        matches = true\n      }\n      \n      if (predictionFilter === '芝麻' && post.content && \n          post.content.includes('芝麻')) {\n        matches = true\n      }\n      \n      if (predictionFilter === '中肚' && post.content && \n          post.content.includes('中肚')) {\n        matches = true\n      }\n      \n      if (predictionFilter.includes('定') && post.content && \n          post.content.includes('定')) {\n        matches = true\n      }\n      \n      if (predictionFilter.includes('杀') && post.content && \n          post.content.includes('杀')) {\n        matches = true\n      }\n      \n      if (predictionFilter.includes('合') && post.content && \n          post.content.includes('合')) {\n        matches = true\n      }\n      \n      if (predictionFilter.includes('过滤王') && post.content && \n          post.content.includes('过滤王')) {\n        matches = true\n      }\n    }\n    \n    // 检查其他筛选条件\n    if (selectedOtherFilter.value) {\n      const otherFilter = selectedOtherFilter.value.toLowerCase()\n      \n      if (otherFilter === '大师帖子' && post.content && \n          post.content.includes('大师')) {\n        matches = true\n      }\n      \n      if (otherFilter === '靓规贴子' && post.content && \n          post.content.includes('靓规')) {\n        matches = true\n      }\n      \n      if (otherFilter === '点赞最多' && post.likes > 0) {\n        matches = true\n      }\n      \n      if (otherFilter === '讨论最热' && post.comments > 0) {\n        matches = true\n      }\n    }\n    \n    return matches\n  })\n  \n  // 如果是\"点赞最多\"或\"讨论最热\"，按相应字段排序\n  if (selectedOtherFilter.value === '点赞最多') {\n    filteredPredictList.value.sort((a, b) => b.likes - a.likes)\n  } else if (selectedOtherFilter.value === '讨论最热') {\n    filteredPredictList.value.sort((a, b) => b.comments - a.comments)\n  }\n  \n}\n\n// 获取搜索按钮文本\nconst getSearchButtonText = () => {\n  const filters = []\n  if (selectedPredictionFilter.value) {\n    filters.push(selectedPredictionFilter.value)\n  }\n  if (selectedOtherFilter.value) {\n    filters.push(selectedOtherFilter.value)\n  }\n  \n  if (filters.length === 0) {\n    return '搜索'\n  }\n  \n  return filters.join('+')\n}\n\n// 加载预测帖子数据\nconst loadPredictPosts = async () => {\n  // 先检查是否正在加载，避免重复请求\n  if (isLoadingPosts.value) {\n    return\n  }\n  \n  // 构建查询参数\n  const tname = currentLotteryType.value?.name\n  const issueno = currentIssueInfo.value?.number || currentIssueInfo.value?.id || '--'\n  \n  // 如果参数不完整，不执行请求\n  if (!tname || !issueno) {\n    return\n  }\n  \n  // 生成请求唯一标识\n  const queryKey = `${tname}_${issueno}`\n  \n  // 如果正在请求相同的参数，跳过（防止重复请求）\n  if (currentQueryKey.value === queryKey) {\n    return\n  }\n  \n  try {\n    isLoadingPosts.value = true\n    currentQueryKey.value = queryKey\n    \n    // 构建查询参数 - 同时查询预测帖和规律帖\n    const queryData = {\n      tname: tname, // 查询预测帖\n      issueno: issueno,\n      page: '1',\n      limit: '20'\n    }\n    \n    // 查询预测帖\n    const response = await apiPostListQuery(queryData)\n    \n    let allPosts = []\n    \n    if (response.code === 200) {\n      if (response.data && response.data.records && Array.isArray(response.data.records)) {\n        allPosts = [...response.data.records]\n      }\n    }\n    \n    // 查询规律帖 - 使用规律帖的tname格式\n    const patternQueryData = {\n      tname: `${tname}-规律预测`, // 查询规律帖\n      issueno: issueno,\n      page: '1',\n      limit: '20'\n    }\n    \n    const patternResponse = await apiPostListQuery(patternQueryData)\n    \n    if (patternResponse.code === 200) {\n      if (patternResponse.data && patternResponse.data.records && Array.isArray(patternResponse.data.records)) {\n        allPosts = [...allPosts, ...patternResponse.data.records]\n      }\n    }\n    \n    // 处理所有帖子数据\n    if (allPosts.length > 0) {\n      predictList.value = allPosts.map((post) => {\n        const postId = post.id\n        \n        // 检查postId是否有效\n        if (!postId) {\n          return null // 跳过无效的帖子\n        }\n        \n        // 检查当前用户是否点赞过这个帖子\n        const currentAccount = getAccount()\n        const userLikedKey = `${postId}_${currentAccount}`\n        const isLiked = getLikedStatus(userLikedKey)\n        \n        // 使用服务器返回的点赞数\n        const serverLikeCount = post.likeCount || 0\n        \n        // 处理用户头像\n        let userAvatar = 'http://video.caimizm.com/himg/user.png'\n        \n        // 使用getUserAvatar函数获取头像（不再使用pimg作为头像）\n        userAvatar = getUserAvatar(post.account)\n        \n        return {\n          id: postId,\n          username: post.account || '匿名用户',\n          avatar: userAvatar, // 使用处理后的头像\n          time: formatTime(post.createTime),\n          status: '预测中',\n          period: post.issueno || currentIssueInfo.value.number,\n          content: post.content || '',\n          image: post.pimg || '', // 帖子图片（规律帖的图片）\n          likes: serverLikeCount, // 使用服务器返回的点赞数\n          comments: post.comment || 0,\n          shares: 0,\n          isLiked: isLiked, // 检查当前用户是否点赞过\n          isLiking: false // 点赞中状态\n        }\n      }).filter(post => post !== null)\n    } else {\n      predictList.value = []\n    }\n  } catch (error) {\n    predictList.value = []\n  } finally {\n    isLoadingPosts.value = false\n    currentQueryKey.value = null\n  }\n}\n\n// 获取本地存储的点赞状态和数字\nconst getLikedStatus = (postId) => {\n  const likedPosts = safeGet('likedPosts', {})\n  return likedPosts[postId] || false\n}\n\n// 获取本地存储的点赞数字\nconst getLikedCount = (postId) => {\n  const likedCounts = safeGet('likedCounts', {})\n  return likedCounts[postId] || 0\n}\n\n// 保存点赞状态到本地存储\nconst saveLikedStatus = (postId, isLiked) => {\n  const likedPosts = safeGet('likedPosts', {})\n  likedPosts[postId] = isLiked\n  safeSet('likedPosts', likedPosts)\n}\n\n// 保存点赞数字到本地存储\nconst saveLikedCount = (postId, count) => {\n  const likedCounts = safeGet('likedCounts', {})\n  likedCounts[postId] = count\n  safeSet('likedCounts', likedCounts)\n}\n\n// 获取用户头像\nconst getUserAvatar = (account) => {\n  try {\n    const currentAccount = getAccount()\n    if (account === currentAccount) {\n      const loginData = safeGet('loginData', {})\n      if (loginData.himg) return loginData.himg\n    }\n    const userAvatars = safeGet('userAvatars', {})\n    return userAvatars[account] || 'http://video.caimizm.com/himg/user.png'\n  } catch (error) {\n    return 'http://video.caimizm.com/himg/user.png'\n  }\n}\n\n// 保存用户头像信息\nconst saveUserAvatar = (account, avatarUrl) => {\n  const userAvatars = safeGet('userAvatars', {})\n  userAvatars[account] = avatarUrl\n  safeSet('userAvatars', userAvatars)\n}\n\n// 格式化时间\nconst formatTime = (timeStr) => {\n  if (!timeStr) return '刚刚'\n  \n  try {\n    const time = new Date(timeStr)\n    const now = new Date()\n    const diff = now - time\n    \n    if (diff < 60000) return '刚刚'\n    if (diff < 3600000) return `${Math.floor(diff / 60000)}分钟前`\n    if (diff < 86400000) return `${Math.floor(diff / 3600000)}小时前`\n    return `${Math.floor(diff / 86400000)}天前`\n  } catch (error) {\n    return '刚刚'\n  }\n}\n\n// 清空筛选选择\nconst clearFilterSelection = () => {\n  selectedPredictionFilter.value = ''\n  selectedOtherFilter.value = ''\n  \n  uni.showToast({\n    title: '已清空筛选条件',\n    icon: 'success'\n  })\n}\n\n  // 处理帖子点赞\n  const handleLike = async (post) => {\n    try {\n      // 防止重复点击\n      if (post.isLiking) {\n        return\n      }\n      \n      // 检查当前用户是否已经点赞过这个帖子\n      const currentAccount = getAccount()\n      const userLikedKey = `${post.id}_${currentAccount}`\n      const hasUserLiked = getLikedStatus(userLikedKey)\n      \n      if (hasUserLiked) {\n        uni.showToast({\n          title: '你已经点赞过了',\n          icon: 'none'\n        })\n        return\n      }\n      \n      // 检查postId是否有效\n      if (!post.id) {\n        uni.showToast({\n          title: '帖子数据异常，无法点赞',\n          icon: 'none'\n        })\n        return\n      }\n      \n      post.isLiking = true\n      \n      // 调用点赞接口\n      const likeData = {\n        postId: post.id,\n        account: currentAccount // 使用当前登录用户账号\n      }\n      \n      const response = await apiPostLike(likeData)\n      \n      if (response.code === 200) {\n        // 点赞成功，更新状态\n        post.isLiked = true\n        post.likes += 1\n        \n        // 保存当前用户对这个帖子的点赞状态\n        saveLikedStatus(userLikedKey, true)\n        \n        uni.showToast({\n          title: response.msg || '点赞成功',\n          icon: 'success'\n        })\n        \n        // 更新列表中的对应帖子\n        updatePostInList(post)\n        \n      } else {\n        uni.showToast({\n          title: response.msg || '点赞失败',\n          icon: 'none'\n        })\n      }\n      \n    } catch (error) {\n      uni.showToast({\n        title: '网络错误，请重试',\n        icon: 'none'\n      })\n    } finally {\n      post.isLiking = false\n    }\n  }\n\n// 更新列表中的帖子数据\nconst updatePostInList = (updatedPost) => {\n  // 更新原始列表\n  const originalIndex = predictList.value.findIndex(p => p.id === updatedPost.id)\n  if (originalIndex !== -1) {\n    predictList.value[originalIndex] = { ...updatedPost }\n  }\n  \n  // 更新筛选列表\n  const filteredIndex = filteredPredictList.value.findIndex(p => p.id === updatedPost.id)\n  if (filteredIndex !== -1) {\n    filteredPredictList.value[filteredIndex] = { ...updatedPost }\n  }\n}\n\n// 自动保存当前用户头像到本地存储\nconst autoSaveCurrentUserAvatar = () => {\n  try {\n    const loginData = safeGet('loginData', {})\n    const currentAccount = getAccount()\n    if (loginData.himg && currentAccount) {\n      const userAvatars = safeGet('userAvatars', {})\n      if (!userAvatars[currentAccount]) {\n        userAvatars[currentAccount] = loginData.himg\n        safeSet('userAvatars', userAvatars)\n      }\n    }\n  } catch (error) {\n    // ignore\n  }\n}\n\n// 优化触摸事件性能\nconst optimizeTouchEvents = () => {\n  try {\n    // 在H5环境下优化触摸事件\n    if (typeof window !== 'undefined' && window.addEventListener) {\n      // 为所有元素添加被动事件监听器\n      const addPassiveListener = (element, event, handler) => {\n        element.addEventListener(event, handler, { passive: true })\n      }\n      \n      // 为滚动容器添加被动滚动监听器\n      const scrollContainers = document.querySelectorAll('.predict-list, .modal-content, .dropdown-list, .filter-dialog')\n      scrollContainers.forEach(container => {\n        addPassiveListener(container, 'touchstart', () => {})\n        addPassiveListener(container, 'touchmove', () => {})\n        addPassiveListener(container, 'touchend', () => {})\n      })\n    }\n  } catch (error) {\n    // 静默处理错误\n  }\n}\n\n// 处理追帖按钮点击\nconst handleAppendPost = (post) => {\n  try {\n    // 检查帖子ID是否有效\n    if (!post.id) {\n      uni.showToast({\n        title: '帖子数据异常，无法追帖',\n        icon: 'none'\n      })\n      return\n    }\n    \n    // 检查是否是当前用户自己的帖子\n    const currentAccount = getAccount()\n    if (post.username === currentAccount) {\n      uni.showModal({\n        title: '追帖确认',\n        content: `确定要对帖子\"第${post.period}期\"进行追帖吗？`,\n        confirmText: '确定追帖',\n        cancelText: '取消',\n        success: (res) => {\n          if (res.confirm) {\n            // 跳转到追帖页面\n            navigateToAppendPost(post)\n          }\n        }\n      })\n    } else {\n      uni.showToast({\n        title: '只能追帖自己的帖子',\n        icon: 'none'\n      })\n    }\n  } catch (error) {\n    uni.showToast({\n      title: '操作失败，请重试',\n      icon: 'none'\n    })\n  }\n}\n\n// 跳转到追帖页面\nconst navigateToAppendPost = (post) => {\n  try {\n    // 从帖子内容中提取所有方案信息\n    const schemeIds = extractSchemeFromContent(post.content)\n    // 保存帖子信息到本地存储，供predict-scheme.vue使用\n    const appendPostData = {\n      postId: post.id,\n      schemeIds: schemeIds, // 改为数组，包含所有方案\n      postContent: post.content,\n      period: post.period,\n      lotteryType: currentLotteryType.value.name, // 添加彩票类型\n      timestamp: Date.now()\n    }\n    \n    uni.setStorageSync('appendPostData', appendPostData)\n    \n    // 跳转到方案设置页面，让用户选择要追加的方案\n    uni.navigateTo({\n      url: '/pages/predict-scheme/predict-scheme',\n      success: () => {\n        uni.showToast({\n          title: '请选择要追加的方案',\n          icon: 'success'\n        })\n      },\n      fail: () => {\n        uni.showToast({\n          title: '跳转失败',\n          icon: 'none'\n        })\n      }\n    })\n    \n  } catch (error) {\n    uni.showToast({\n      title: '跳转失败',\n      icon: 'none'\n    })\n  }\n}\n\n// 从帖子内容中提取所有方案ID\nconst extractSchemeFromContent = (content) => {\n  try {\n    if (!content) return []\n    \n    // 常见的方案类型列表\n    const schemeTypes = [\n      '头尾', '中肚', 'ABXX', 'AXCX', 'XBXD', 'XXCD', 'ABCX', 'ABXD', 'AXCD', 'XBCD',\n      '芝麻', '二字现', '三字现', '定头', '定百', '定十', '定尾', '杀头', '杀百', '杀十', '杀尾',\n      '稳码', '头尾合', '中肚合', '千百合', '千十合', '百个合', '十个合', '死数',\n      '头尾不合', '中肚不合', '千百不合', '千十不合', '百个不合', '十个不合',\n      '过滤王二定', '过滤王三定', '过滤王四定'\n    ]\n    \n    const foundSchemes = []\n    \n    // 在内容中查找所有方案类型\n    schemeTypes.forEach(scheme => {\n      if (content.includes(scheme)) {\n        foundSchemes.push(scheme)\n      }\n    })\n    \n    return foundSchemes\n    \n  } catch (error) {\n    return []\n  }\n}\n\n\n</script>\n\n<style scoped>\n/* 滚动容器特殊处理 */\n.scroll-container {\n  touch-action: pan-y;\n}\n\n/* 输入框特殊处理 */\ninput, textarea {\n  touch-action: manipulation;\n}\n.forum-container {\n  min-height: 100vh;\n  background-color: #f5f5f5;\n  /* 优化滚动性能 */\n  -webkit-overflow-scrolling: touch;\n}\n\n/* 主导航栏 */\n.main-navbar {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  height: 88rpx;\n  background-color: #28B389;\n  z-index: 999;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 0 30rpx;\n  /* 优化触摸性能 */\n  touch-action: manipulation;\n}\n\n.nav-left, .nav-right {\n  display: flex;\n  align-items: center;\n}\n\n.nav-center {\n  flex: 1;\n  display: flex;\n  justify-content: center;\n}\n\n.period-selector {\n  display: flex;\n  align-items: center;\n  background-color: rgba(255, 255, 255, 0.2);\n  padding: 8rpx 16rpx;\n  border-radius: 20rpx;\n}\n\n.period-text {\n  font-size: 24rpx;\n  color: #fff;\n  margin-right: 8rpx;\n}\n\n.period-selector {\n  cursor: pointer;\n  transition: all 0.3s ease;\n}\n\n.period-selector:active {\n  opacity: 0.8;\n}\n\n.rotate {\n  transform: rotate(180deg);\n}\n\n/* 下拉菜单遮罩 */\n.dropdown-mask {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: rgba(0, 0, 0, 0.3);\n  z-index: 999;\n}\n\n/* 期号下拉菜单 */\n.period-dropdown {\n  position: fixed;\n  top: 88rpx;\n  left: 50%;\n  transform: translateX(-50%);\n  width: 600rpx;\n  max-height: 600rpx;\n  background-color: #fff;\n  border-radius: 20rpx;\n  box-shadow: 0 8rpx 30rpx rgba(0,0,0,0.15);\n  z-index: 1000;\n  overflow: hidden;\n  /* 优化触摸性能 */\n  touch-action: manipulation;\n  /* 防止滚动穿透 */\n  overscroll-behavior: contain;\n}\n\n.dropdown-header {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 30rpx;\n  border-bottom: 1rpx solid #f0f0f0;\n}\n\n.dropdown-title {\n  font-size: 32rpx;\n  font-weight: 600;\n  color: #333;\n}\n\n.close-btn {\n  width: 40rpx;\n  height: 40rpx;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: 50%;\n  background-color: #f5f5f5;\n}\n\n.dropdown-list {\n  max-height: 500rpx;\n  /* 优化滚动性能 */\n  -webkit-overflow-scrolling: touch;\n  /* 防止滚动穿透 */\n  overscroll-behavior: contain;\n  /* 优化触摸性能 */\n  touch-action: pan-y;\n}\n\n.dropdown-item {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 30rpx;\n  border-bottom: 1rpx solid #f8f8f8;\n  transition: background-color 0.2s ease;\n}\n\n.dropdown-item:last-child {\n  border-bottom: none;\n}\n\n.dropdown-item:active {\n  background-color: #f8f8f8;\n}\n\n.dropdown-item.active {\n  background-color: #fff2f0;\n}\n\n.period-item-text {\n  font-size: 28rpx;\n  color: #333;\n  font-weight: 500;\n}\n\n.dropdown-item.active .period-item-text {\n  color: #ff4757;\n}\n\n.period-item-time {\n  font-size: 24rpx;\n  color: #999;\n}\n\n.post-icon {\n  width: 32rpx;\n  height: 32rpx;\n  background-color: #ff4757;\n  border-radius: 6rpx;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin-right: 8rpx;\n}\n\n.nav-text {\n  font-size: 22rpx;\n  color: #fff;\n}\n\n/* 切换标签栏 */\n.switch-tabs {\n  position: fixed;\n  top: 88rpx;\n  left: 0;\n  right: 0;\n  height: 88rpx;\n  background-color: #fff;\n  z-index: 998;\n  display: flex;\n  /* 优化触摸性能 */\n  touch-action: manipulation;\n}\n\n.tab-item {\n  flex: 1;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  position: relative;\n  border-bottom: 4rpx solid transparent;\n  /* 优化触摸性能 */\n  touch-action: manipulation;\n  transition: all 0.2s ease;\n}\n\n.tab-item.active {\n  border-bottom-color: #ff4757;\n}\n\n.tab-text {\n  font-size: 28rpx;\n  color: #333;\n  font-weight: 500;\n}\n\n.tab-item.active .tab-text {\n  color: #ff4757;\n}\n\n/* 搜索栏 */\n.search-header {\n  position: fixed;\n  top: 176rpx;\n  left: 0;\n  right: 0;\n  height: 80rpx;\n  background-color: #fff;\n  z-index: 997;\n  display: flex;\n  align-items: center;\n  padding: 0 30rpx;\n  /* 优化触摸性能 */\n  touch-action: manipulation;\n}\n\n.search-label {\n  font-size: 24rpx;\n  color: #333;\n  margin-right: 20rpx;\n}\n\n.search-input-wrapper {\n  flex: 1;\n  display: flex;\n  align-items: center;\n  background-color: #f5f5f5;\n  border-radius: 20rpx;\n  padding: 12rpx 20rpx;\n}\n\n.search-input {\n  flex: 1;\n  margin-left: 12rpx;\n  font-size: 24rpx;\n  background: transparent;\n  border: none;\n}\n\n.clear-search, .filter-btn {\n  width: 32rpx;\n  height: 32rpx;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin-left: 12rpx;\n  border-radius: 50%;\n  background-color: rgba(0, 0, 0, 0.1);\n}\n\n.clear-search:active, .filter-btn:active {\n  background-color: rgba(0, 0, 0, 0.2);\n}\n\n/* 搜索建议遮罩 */\n.search-suggestions-mask {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: transparent;\n  z-index: 999;\n}\n\n/* 搜索建议下拉框 */\n.search-suggestions {\n  position: fixed;\n  top: 256rpx;\n  left: 30rpx;\n  right: 30rpx;\n  background-color: #fff;\n  border-radius: 12rpx;\n  box-shadow: 0 4rpx 20rpx rgba(0, 0, 0, 0.1);\n  z-index: 1000;\n  max-height: 400rpx;\n  overflow-y: auto;\n}\n\n.suggestion-item {\n  display: flex;\n  align-items: center;\n  padding: 20rpx 24rpx;\n  border-bottom: 1rpx solid #f0f0f0;\n  transition: background-color 0.2s ease;\n}\n\n.suggestion-item:last-child {\n  border-bottom: none;\n}\n\n.suggestion-item:active {\n  background-color: #f8f8f8;\n}\n\n.suggestion-text {\n  margin-left: 12rpx;\n  font-size: 26rpx;\n  color: #333;\n}\n\n/* 搜索状态提示 */\n.search-status {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 20rpx 30rpx;\n  background-color: #f8f9fa;\n  border-radius: 12rpx;\n  margin-bottom: 20rpx;\n}\n\n.search-status-text {\n  font-size: 26rpx;\n  color: #666;\n}\n\n.search-count {\n  font-size: 24rpx;\n  color: #28B389;\n  font-weight: 500;\n}\n\n/* 分类标签栏 */\n.category-tags {\n  position: fixed;\n  top: 256rpx;\n  left: 0;\n  right: 0;\n  height: 80rpx;\n  background-color: #fff;\n  z-index: 996;\n  padding: 20rpx 0;\n  /* 优化触摸性能 */\n  touch-action: manipulation;\n}\n\n.category-scroll {\n  white-space: nowrap;\n}\n\n.tag-list {\n  display: flex;\n  padding: 0 30rpx;\n}\n\n.tag-item {\n  padding: 12rpx 24rpx;\n  margin-right: 20rpx;\n  background-color: #f5f5f5;\n  border-radius: 20rpx;\n  font-size: 22rpx;\n  color: #666;\n  white-space: nowrap;\n  transition: all 0.3s ease;\n  cursor: pointer;\n  /* 优化触摸性能 */\n  touch-action: manipulation;\n}\n\n.tag-item.active {\n  background-color: #ff4757;\n  color: #fff;\n}\n\n.tag-item:active {\n  transform: scale(0.95);\n  background-color: #e0e0e0;\n}\n\n.tag-item.active:active {\n  background-color: #e63946;\n}\n\n.forum-content {\n  padding: 20rpx;\n  padding-top: 356rpx; /* 为四个固定区域留出空间 */\n  /* 优化滚动性能 */\n  -webkit-overflow-scrolling: touch;\n}\n\n/* 标签内容区域 */\n.tab-content {\n  padding-bottom: 100rpx;\n}\n\n/* 头条样式 */\n.headline-item {\n  background-color: #fff;\n  border-radius: 20rpx;\n  padding: 30rpx;\n  margin-bottom: 20rpx;\n  box-shadow: 0 2rpx 10rpx rgba(0,0,0,0.1);\n}\n\n.headline-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 20rpx;\n}\n\n.headline-title {\n  font-size: 32rpx;\n  font-weight: 600;\n  color: #333;\n  flex: 1;\n}\n\n.headline-time {\n  font-size: 24rpx;\n  color: #999;\n}\n\n.headline-content {\n  font-size: 28rpx;\n  line-height: 1.6;\n  color: #666;\n  margin-bottom: 20rpx;\n}\n\n.headline-stats {\n  display: flex;\n  gap: 30rpx;\n}\n\n.headline-stats .stat-text {\n  font-size: 24rpx;\n  color: #999;\n}\n\n/* 关注样式 */\n.follow-item {\n  background-color: #fff;\n  border-radius: 20rpx;\n  padding: 30rpx;\n  margin-bottom: 20rpx;\n  box-shadow: 0 2rpx 10rpx rgba(0,0,0,0.1);\n}\n\n.follow-header {\n  display: flex;\n  align-items: center;\n  margin-bottom: 20rpx;\n}\n\n.user-avatar {\n  width: 80rpx;\n  height: 80rpx;\n  border-radius: 50%;\n  margin-right: 20rpx;\n}\n\n.user-info {\n  flex: 1;\n}\n\n.username {\n  display: block;\n  font-size: 28rpx;\n  font-weight: 500;\n  color: #333;\n  margin-bottom: 8rpx;\n}\n\n.follow-time, .predict-time, .soup-time {\n  font-size: 24rpx;\n  color: #999;\n}\n\n.follow-btn {\n  background-color: #f0f0f0;\n  padding: 8rpx 16rpx;\n  border-radius: 15rpx;\n}\n\n.btn-text {\n  font-size: 22rpx;\n  color: #666;\n}\n\n.follow-content {\n  font-size: 28rpx;\n  line-height: 1.6;\n  color: #333;\n}\n\n/* 预测列表样式 */\n.predict-list {\n  padding: 20rpx;\n  background-color: #f8f8f8;\n  /* 优化滚动性能 */\n  -webkit-overflow-scrolling: touch;\n}\n\n.predict-item {\n  background-color: #fff;\n  border-radius: 16rpx;\n  margin-bottom: 20rpx;\n  padding: 20rpx;\n  box-shadow: 0 2rpx 8rpx rgba(0, 0, 0, 0.05);\n  /* 优化触摸性能 */\n  touch-action: manipulation;\n  transition: transform 0.2s ease;\n}\n\n.post-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 20rpx;\n}\n\n.user-info {\n  display: flex;\n  align-items: center;\n}\n\n.avatar {\n  width: 80rpx;\n  height: 80rpx;\n  border-radius: 50%;\n  margin-right: 16rpx;\n  background-color: #eee;\n  flex-shrink: 0;\n}\n\n.username-and-url {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n}\n\n.username {\n  font-size: 28rpx;\n  font-weight: bold;\n  color: #333;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n\n.more-options {\n  padding: 10rpx;\n}\n\n.issue-time {\n  display: flex;\n  align-items: center;\n  margin-bottom: 20rpx;\n  font-size: 24rpx;\n  color: #666;\n}\n\n.issue-no {\n  font-weight: bold;\n  margin-right: 10rpx;\n  color: #333;\n}\n\n.post-time {\n  color: #999;\n}\n\n.post-content {\n  margin-bottom: 20rpx;\n  line-height: 1.6;\n  font-size: 28rpx;\n  color: #333;\n  white-space: pre-wrap;\n  word-break: break-word;\n}\n\n/* 帖子图片样式 */\n.post-image-container {\n  margin-top: 20rpx;\n  text-align: center;\n}\n\n.post-image {\n  max-width: 100%;\n  max-height: 400rpx;\n  border-radius: 12rpx;\n  box-shadow: 0 2rpx 8rpx rgba(0, 0, 0, 0.1);\n}\n\n/* 多张图片样式 */\n.multiple-images {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 10rpx;\n  justify-content: center;\n}\n\n.image-item {\n  flex: 0 0 auto;\n}\n\n.post-image-small {\n  width: 200rpx;\n  height: 200rpx;\n  border-radius: 12rpx;\n  box-shadow: 0 2rpx 8rpx rgba(0, 0, 0, 0.1);\n}\n\n.post-footer {\n  display: flex;\n  justify-content: space-around;\n  align-items: center;\n  padding-top: 20rpx;\n  border-top: 1rpx solid #eee;\n}\n\n.action-item {\n  display: flex;\n  align-items: center;\n  color: #999;\n  font-size: 24rpx;\n  /* 优化触摸性能 */\n  touch-action: manipulation;\n  transition: transform 0.2s ease;\n}\n\n.action-item .count {\n  margin-left: 8rpx;\n}\n\n.action-item .count.liked {\n  color: #ff4757;\n  font-weight: 600;\n}\n\n.action-item:active {\n  opacity: 0.7;\n}\n\n.action-item.liked-disabled {\n  opacity: 0.6;\n  cursor: not-allowed;\n}\n\n.action-item.liked-disabled:active {\n  opacity: 0.6; /* 保持禁用状态，不响应点击效果 */\n}\n\n/* 追帖按钮样式 */\n.action-item.append-btn {\n  color: #28B389;\n}\n\n.action-item.append-btn .count {\n  color: #28B389;\n  font-weight: 500;\n}\n\n.action-item.append-btn:active {\n  opacity: 0.7;\n  transform: scale(0.95);\n}\n\n.no-posts-tip {\n  text-align: center;\n  padding: 40rpx;\n  color: #999;\n  font-size: 28rpx;\n}\n\n/* 鸡汤样式 */\n.soup-item {\n  background-color: #fff;\n  border-radius: 20rpx;\n  padding: 30rpx;\n  margin-bottom: 20rpx;\n  box-shadow: 0 2rpx 10rpx rgba(0,0,0,0.1);\n}\n\n.soup-header {\n  display: flex;\n  align-items: center;\n  margin-bottom: 20rpx;\n}\n\n.soup-content {\n  font-size: 28rpx;\n  line-height: 1.8;\n  color: #333;\n  margin-bottom: 20rpx;\n  font-style: italic;\n}\n\n.soup-footer {\n  border-top: 1rpx solid #f0f0f0;\n  padding-top: 20rpx;\n}\n\n/* 发布按钮 */\n.publish-btn {\n  position: fixed;\n  right: 30rpx;\n  bottom: 120rpx;\n  width: 100rpx;\n  height: 100rpx;\n  background-color: #28B389;\n  border-radius: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  box-shadow: 0 4rpx 20rpx rgba(40, 179, 137, 0.3);\n  z-index: 999;\n  /* 优化触摸性能 */\n  touch-action: manipulation;\n  transition: transform 0.2s ease;\n}\n\n.publish-btn:active {\n  transform: scale(0.95);\n}\n\n\n/* 发布弹出层样式 */\n.publish-modal {\n  background-color: #fff;\n  border-radius: 30rpx 30rpx 0 0;\n  max-height: 65vh;\n  min-height: 400rpx;\n  overflow: hidden;\n  display: flex;\n  flex-direction: column;\n  position: relative;\n  /* 优化触摸性能 */\n  touch-action: manipulation;\n  will-change: transform;\n  /* 防止滚动穿透 */\n  overscroll-behavior: contain;\n}\n\n.modal-header {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 30rpx;\n  border-bottom: 1rpx solid #f0f0f0;\n  flex-shrink: 0;\n}\n\n.modal-title {\n  font-size: 36rpx;\n  font-weight: 600;\n  color: #333;\n}\n\n.close-btn {\n  width: 60rpx;\n  height: 60rpx;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: 50%;\n  background-color: #f5f5f5;\n}\n\n.modal-content {\n  padding: 30rpx;\n  flex: 1;\n  overflow-y: auto;\n  /* 优化滚动性能 */\n  -webkit-overflow-scrolling: touch;\n  /* 防止滚动穿透 */\n  overscroll-behavior: contain;\n  /* 优化触摸性能 */\n  touch-action: pan-y;\n}\n\n/* 期号标题 */\n.period-title {\n  text-align: center;\n  margin-bottom: 30rpx;\n}\n\n.period-text {\n  font-size: 36rpx;\n  font-weight: 600;\n  color: #333;\n}\n\n/* 协议确认 */\n.agreement-section {\n  margin-bottom: 20rpx;\n  padding: 20rpx;\n  background-color: #f8f8f8;\n  border-radius: 15rpx;\n}\n\n.checkbox-wrapper {\n  display: flex;\n  align-items: center;\n}\n\n.custom-checkbox {\n  width: 40rpx;\n  height: 40rpx;\n  border: 2rpx solid #ddd;\n  border-radius: 6rpx;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin-right: 15rpx;\n  transition: all 0.3s ease;\n}\n\n.custom-checkbox.checked {\n  background-color: #ff4757;\n  border-color: #ff4757;\n}\n\n.checkmark {\n  color: #fff;\n  font-size: 24rpx;\n  font-weight: bold;\n}\n\n.agreement-text {\n  font-size: 26rpx;\n  color: #ff4757;\n}\n\n/* 功能按钮区域 */\n.function-buttons {\n  margin-bottom: 10rpx;\n}\n\n.button-row {\n  display: flex;\n  justify-content: space-around;\n  margin-bottom: 20rpx;\n}\n\n.button-row:last-child {\n  margin-bottom: 10rpx;\n}\n\n.function-btn {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  flex: 1;\n  margin: 0 15rpx;\n  /* 优化触摸性能 */\n  touch-action: manipulation;\n  transition: transform 0.2s ease;\n}\n\n.function-btn:active {\n  transform: scale(0.95);\n}\n\n.btn-icon {\n  width: 100rpx;\n  height: 100rpx;\n  border-radius: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin-bottom: 15rpx;\n  font-size: 32rpx;\n  font-weight: 600;\n  color: #fff;\n}\n\n.predict-icon {\n  background-color: #28B389;\n}\n\n.pattern-icon {\n  background-color: #ff6b35;\n}\n\n.filter-icon {\n  background-color: #9b59b6;\n}\n\n.soup-icon {\n  background-color: #3498db;\n}\n\n.btn-text {\n  font-size: 24rpx;\n  color: #333;\n  text-align: center;\n  line-height: 1.4;\n}\n\n/* 底部按钮 */\n.modal-footer {\n  padding: 30rpx;\n  border-top: 1rpx solid #f0f0f0;\n  text-align: center;\n  flex-shrink: 0;\n}\n\n.close-btn-modal {\n  background: transparent;\n  border: none;\n  color: #333;\n  font-size: 32rpx;\n  padding: 20rpx 40rpx;\n}\n\n/* 筛选弹窗样式 */\n.filter-dialog-mask {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: rgba(0, 0, 0, 0.5);\n  z-index: 1000;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.filter-dialog {\n  width: 90%;\n  max-width: 600rpx;\n  background-color: #fff;\n  border-radius: 20rpx;\n  padding: 40rpx;\n  max-height: 80vh;\n  overflow-y: auto;\n  /* 优化滚动性能 */\n  -webkit-overflow-scrolling: touch;\n  /* 防止滚动穿透 */\n  overscroll-behavior: contain;\n  /* 优化触摸性能 */\n  touch-action: pan-y;\n}\n\n.filter-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 30rpx;\n  padding-bottom: 20rpx;\n  border-bottom: 1rpx solid #f0f0f0;\n}\n\n.filter-title {\n  font-size: 36rpx;\n  font-weight: 600;\n  color: #333;\n}\n\n.filter-period {\n  font-size: 24rpx;\n  color: #666;\n}\n\n.filter-section {\n  margin-bottom: 30rpx;\n}\n\n.section-title {\n  display: block;\n  font-size: 28rpx;\n  font-weight: 600;\n  color: #333;\n  margin-bottom: 10rpx;\n}\n\n.section-subtitle {\n  display: block;\n  font-size: 22rpx;\n  color: #999;\n  margin-bottom: 20rpx;\n}\n\n.filter-grid {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 15rpx;\n}\n\n.filter-item {\n  padding: 12rpx 20rpx;\n  background-color: #f5f5f5;\n  border-radius: 20rpx;\n  font-size: 24rpx;\n  color: #666;\n  border: 1rpx solid #e0e0e0;\n  transition: all 0.3s ease;\n}\n\n.filter-item.active {\n  background-color: #ff4757;\n  color: #fff;\n  border-color: #ff4757;\n}\n\n.filter-footer {\n  margin-top: 30rpx;\n  text-align: center;\n}\n\n.filter-buttons {\n  display: flex;\n  gap: 20rpx;\n}\n\n.clear-filter-btn {\n  flex: 1;\n  height: 80rpx;\n  background-color: #f5f5f5;\n  color: #666;\n  border: 1rpx solid #ddd;\n  border-radius: 40rpx;\n  font-size: 28rpx;\n  font-weight: 500;\n}\n\n.clear-filter-btn:active {\n  background-color: #e0e0e0;\n}\n\n.search-btn {\n  flex: 2;\n  height: 80rpx;\n  background-color: #ff4757;\n  color: #fff;\n  border: none;\n  border-radius: 40rpx;\n  font-size: 32rpx;\n  font-weight: 600;\n}\n\n.search-btn:active {\n  background-color: #e63946;\n}\n\n</style>\n","import MiniProgramPage from 'C:/梓梅2.0/梓梅xcx/my-painting-rules-project/pages/forum/forum.vue'\nwx.createPage(MiniProgramPage)"],"names":["uni","ref","onMounted","apiGetIssueNo","apiPostListQuery","getAccount","apiPostLike"],"mappings":"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"}