{"version":3,"file":"forum.js","sources":["pages/forum/forum.vue","D:/uniapp/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvZm9ydW0vZm9ydW0udnVl"],"sourcesContent":["<template>\r\n  <view class=\"forum-container\">\r\n    <!-- 主导航栏 -->\r\n    <view class=\"main-navbar\">\r\n      <view class=\"nav-left\">\r\n        <uni-icons type=\"list\" size=\"20\" color=\"#fff\"></uni-icons>\r\n        <text class=\"nav-text\">说明</text>\r\n      </view>\r\n      <view class=\"nav-center\">\r\n        <view class=\"period-selector\" @click=\"togglePeriodDropdown\">\r\n          <text class=\"period-text\">{{ currentLotteryType.name }} {{ currentLotteryType.status }}</text>\r\n          <uni-icons type=\"arrowdown\" size=\"16\" color=\"#fff\" :class=\"{ 'rotate': showPeriodDropdown }\"></uni-icons>\r\n        </view>\r\n      </view>\r\n      \r\n      <!-- 期号下拉菜单遮罩 -->\r\n      <view v-if=\"showPeriodDropdown\" class=\"dropdown-mask\" @click=\"closePeriodDropdown\"></view>\r\n      \r\n      <!-- 期号下拉菜单 -->\r\n      <view v-if=\"showPeriodDropdown\" class=\"period-dropdown\" @click.stop>\r\n        <view class=\"dropdown-header\">\r\n          <text class=\"dropdown-title\">选择彩票类型</text>\r\n          <view class=\"close-btn\" @click=\"closePeriodDropdown\">\r\n            <uni-icons type=\"close\" size=\"16\" color=\"#999\"></uni-icons>\r\n          </view>\r\n        </view>\r\n        <scroll-view scroll-y class=\"dropdown-list\">\r\n          <view \r\n            class=\"dropdown-item\" \r\n            :class=\"{ active: lotteryType.id === currentLotteryType.id }\"\r\n            v-for=\"lotteryType in lotteryTypes\" \r\n            :key=\"lotteryType.id\"\r\n            @click=\"selectLotteryType(lotteryType)\"\r\n          >\r\n            <text class=\"period-item-text\">{{ lotteryType.name }} {{ lotteryType.status }}</text>\r\n            <text class=\"period-item-time\">{{ lotteryType.time }}</text>\r\n          </view>\r\n        </scroll-view>\r\n      </view>\r\n      <view class=\"nav-right\" @click=\"showPublishModal\">\r\n        <view class=\"post-icon\">\r\n          <uni-icons type=\"plus\" size=\"20\" color=\"#fff\"></uni-icons>\r\n        </view>\r\n        <text class=\"nav-text\">发帖</text>\r\n      </view>\r\n    </view>\r\n    \r\n    <!-- 切换标签栏 -->\r\n    <view class=\"switch-tabs\">\r\n      <view \r\n        class=\"tab-item\" \r\n        :class=\"{ active: activeTab === 'headlines' }\"\r\n        @click=\"switchTab('headlines')\"\r\n      >\r\n        <text class=\"tab-text\">头条</text>\r\n      </view>\r\n      <view \r\n        class=\"tab-item\" \r\n        :class=\"{ active: activeTab === 'follow' }\"\r\n        @click=\"switchTab('follow')\"\r\n      >\r\n        <text class=\"tab-text\">关注</text>\r\n      </view>\r\n      <view \r\n        class=\"tab-item\" \r\n        :class=\"{ active: activeTab === 'predict' }\"\r\n        @click=\"switchTab('predict')\"\r\n      >\r\n        <text class=\"tab-text\">预测</text>\r\n      </view>\r\n      <view \r\n        class=\"tab-item\" \r\n        :class=\"{ active: activeTab === 'soup' }\"\r\n        @click=\"switchTab('soup')\"\r\n      >\r\n        <text class=\"tab-text\">鸡汤</text>\r\n      </view>\r\n    </view>\r\n    \r\n    <!-- 搜索栏 -->\r\n    <view class=\"search-header\">\r\n      <text class=\"search-label\">搜索帖子</text>\r\n      <view class=\"search-input-wrapper\">\r\n        <uni-icons type=\"search\" size=\"16\" color=\"#999\"></uni-icons>\r\n        <input \r\n          type=\"text\" \r\n          placeholder=\"搜索头尾、芝麻、靓规等帖\" \r\n          class=\"search-input\" \r\n          v-model=\"searchKeyword\"\r\n          @input=\"handleSearchInput\"\r\n          @focus=\"showSearchSuggestions = true\"\r\n        />\r\n        <view v-if=\"searchKeyword\" class=\"clear-search\" @click=\"clearSearch\">\r\n          <uni-icons type=\"clear\" size=\"16\" color=\"#999\"></uni-icons>\r\n        </view>\r\n        <view class=\"filter-btn\" @click=\"showFilterModal\">\r\n          <uni-icons type=\"tune\" size=\"16\" color=\"#999\"></uni-icons>\r\n        </view>\r\n      </view>\r\n    </view>\r\n    \r\n    <!-- 搜索建议下拉框 -->\r\n    <view v-if=\"showSearchSuggestions && searchSuggestions.length > 0\" class=\"search-suggestions\">\r\n      <view \r\n        class=\"suggestion-item\" \r\n        v-for=\"(suggestion, index) in searchSuggestions\" \r\n        :key=\"index\"\r\n        @click=\"selectSuggestion(suggestion)\"\r\n      >\r\n        <uni-icons type=\"search\" size=\"14\" color=\"#999\"></uni-icons>\r\n        <text class=\"suggestion-text\">{{ suggestion }}</text>\r\n      </view>\r\n    </view>\r\n    \r\n    <!-- 分类标签栏 -->\r\n    <view class=\"category-tags\">\r\n      <scroll-view scroll-x class=\"category-scroll\">\r\n        <view class=\"tag-list\">\r\n          <view \r\n            class=\"tag-item\" \r\n            :class=\"{ active: activeTag === index }\"\r\n            v-for=\"(tag, index) in tags\" \r\n            :key=\"index\"\r\n            @click=\"selectTag(index)\"\r\n          >\r\n            {{ tag }}\r\n          </view>\r\n        </view>\r\n      </scroll-view>\r\n    </view>\r\n    \r\n    <!-- 论坛内容 -->\r\n    <view class=\"forum-content\">\r\n      <!-- 头条内容 -->\r\n      <view v-if=\"activeTab === 'headlines'\" class=\"tab-content\">\r\n        <view class=\"headlines-list\">\r\n          <view class=\"headline-item\" v-for=\"(headline, index) in headlinesList\" :key=\"index\">\r\n            <view class=\"headline-header\">\r\n              <text class=\"headline-title\">{{ headline.title }}</text>\r\n              <text class=\"headline-time\">{{ headline.time }}</text>\r\n            </view>\r\n            <text class=\"headline-content\">{{ headline.content }}</text>\r\n            <view class=\"headline-stats\">\r\n              <text class=\"stat-text\">阅读 {{ headline.views }}</text>\r\n              <text class=\"stat-text\">点赞 {{ headline.likes }}</text>\r\n            </view>\r\n          </view>\r\n        </view>\r\n      </view>\r\n      \r\n      <!-- 关注内容 -->\r\n      <view v-if=\"activeTab === 'follow'\" class=\"tab-content\">\r\n        <view class=\"follow-list\">\r\n          <view class=\"follow-item\" v-for=\"(follow, index) in followList\" :key=\"index\">\r\n            <view class=\"follow-header\">\r\n              <image :src=\"follow.avatar\" class=\"user-avatar\"></image>\r\n              <view class=\"user-info\">\r\n                <text class=\"username\">{{ follow.username }}</text>\r\n                <text class=\"follow-time\">{{ follow.time }}</text>\r\n              </view>\r\n              <view class=\"follow-btn\">\r\n                <text class=\"btn-text\">已关注</text>\r\n              </view>\r\n            </view>\r\n            <text class=\"follow-content\">{{ follow.content }}</text>\r\n          </view>\r\n        </view>\r\n      </view>\r\n      \r\n      <!-- 预测内容 -->\r\n      <view v-if=\"activeTab === 'predict'\" class=\"tab-content\">\r\n        <!-- 搜索状态提示 -->\r\n        <view v-if=\"isSearching && searchKeyword\" class=\"search-status\">\r\n          <text class=\"search-status-text\">搜索\"{{ searchKeyword }}\"的结果</text>\r\n          <text class=\"search-count\">共{{ filteredPredictList.length }}条</text>\r\n        </view>\r\n        \r\n        <view class=\"predict-list\">\r\n          <view class=\"predict-item\" v-for=\"(item, index) in (isSearching && searchKeyword ? filteredPredictList : predictList)\" :key=\"index\">\r\n            <!-- 帖子头部 -->\r\n            <view class=\"post-header\">\r\n              <view class=\"user-info\">\r\n                <image :src=\"item.avatar\" class=\"avatar\"></image>\r\n                <view class=\"username-and-url\">\r\n                  <text class=\"username\">{{ item.username }}</text>\r\n              </view>\r\n              </view>\r\n              <view class=\"more-options\">\r\n                <uni-icons type=\"more-filled\" size=\"20\" color=\"#999\"></uni-icons>\r\n            </view>\r\n              </view>\r\n              \r\n            <!-- 期号和时间 -->\r\n            <view class=\"issue-time\">\r\n              <text class=\"issue-no\">第{{ item.period }}期</text>\r\n              <text class=\"post-time\">{{ item.time }}</text>\r\n              </view>\r\n              \r\n            <!-- 帖子内容 -->\r\n            <view class=\"post-content\">\r\n              <text class=\"content-text\">{{ item.content }}</text>\r\n              <!-- 规律帖图片显示 - 支持多张图片 -->\r\n              <view v-if=\"item.image\" class=\"post-image-container\">\r\n                <!-- 单张图片 -->\r\n                <image \r\n                  v-if=\"!isMultipleImages(item.image)\"\r\n                  :src=\"item.image.startsWith('http') ? item.image : `http://video.caimizm.com/himg/${item.image}`\" \r\n                  class=\"post-image\"\r\n                  mode=\"aspectFit\"\r\n                  @click=\"previewImage(item.image, [item.image])\"\r\n                />\r\n                <!-- 多张图片 -->\r\n                <view v-else class=\"multiple-images\">\r\n                  <view \r\n                    v-for=\"(imageUrl, index) in getImageUrls(item.image)\" \r\n                    :key=\"index\" \r\n                    class=\"image-item\"\r\n                  >\r\n                    <image \r\n                      :src=\"imageUrl.startsWith('http') ? imageUrl : `http://video.caimizm.com/himg/${imageUrl}`\" \r\n                      class=\"post-image-small\"\r\n                      mode=\"aspectFit\"\r\n                      @click=\"previewImage(imageUrl, getImageUrls(item.image))\"\r\n                    />\r\n                  </view>\r\n                </view>\r\n              </view>\r\n            </view>\r\n            \r\n            <!-- 帖子底部操作 -->\r\n            <view class=\"post-footer\">\r\n              <view class=\"action-item\" :class=\"{ 'liked-disabled': item.isLiked }\" @click=\"handleLike(item)\">\r\n                <uni-icons type=\"hand-up\" size=\"18\" :color=\"item.isLiked ? '#ff4757' : '#999'\"></uni-icons>\r\n                <text class=\"count\" :class=\"{ 'liked': item.isLiked }\">{{ item.likes }}</text>\r\n                </view>\r\n              <view class=\"action-item\">\r\n                <uni-icons type=\"redo\" size=\"18\" color=\"#999\"></uni-icons>\r\n                <text class=\"count\">{{ item.shares }}</text>\r\n                </view>\r\n              <view class=\"action-item\">\r\n                <uni-icons type=\"chatbubble\" size=\"18\" color=\"#999\"></uni-icons>\r\n                <text class=\"count\">{{ item.comments }}</text>\r\n                </view>\r\n              <view class=\"action-item append-btn\" @click=\"handleAppendPost(item)\">\r\n                <uni-icons type=\"plus\" size=\"18\" color=\"#28B389\"></uni-icons>\r\n                <text class=\"count\">追帖</text>\r\n              </view>\r\n            </view>\r\n            </view>\r\n          \r\n          <!-- 暂无数据提示 -->\r\n          <view v-if=\"predictList.length === 0\" class=\"no-posts-tip\">\r\n            <text>暂无预测帖子</text>\r\n          </view>\r\n        </view>\r\n      </view>\r\n      \r\n      <!-- 鸡汤内容 -->\r\n      <view v-if=\"activeTab === 'soup'\" class=\"tab-content\">\r\n        <view class=\"soup-list\">\r\n          <view class=\"soup-item\" v-for=\"(soup, index) in soupList\" :key=\"index\">\r\n            <view class=\"soup-header\">\r\n              <image :src=\"soup.avatar\" class=\"user-avatar\"></image>\r\n              <view class=\"user-info\">\r\n                <text class=\"username\">{{ soup.username }}</text>\r\n                <text class=\"soup-time\">{{ soup.time }}</text>\r\n              </view>\r\n            </view>\r\n            <text class=\"soup-content\">{{ soup.content }}</text>\r\n            <view class=\"soup-footer\">\r\n              <view class=\"post-stats\">\r\n                <view class=\"stat-item\">\r\n                  <uni-icons type=\"heart\" size=\"14\" color=\"#999\"></uni-icons>\r\n                  <text class=\"stat-text\">{{ soup.likes }}</text>\r\n                </view>\r\n                <view class=\"stat-item\">\r\n                  <uni-icons type=\"chat\" size=\"14\" color=\"#999\"></uni-icons>\r\n                  <text class=\"stat-text\">{{ soup.comments }}</text>\r\n                </view>\r\n              </view>\r\n            </view>\r\n          </view>\r\n        </view>\r\n      </view>\r\n    </view>\r\n    \r\n    <!-- 发布按钮 -->\r\n    <view class=\"publish-btn\" @click=\"showPublishModal\">\r\n      <uni-icons type=\"plus\" size=\"20\" color=\"#fff\"></uni-icons>\r\n    </view>\r\n    \r\n    <!-- 发布弹出层 -->\r\n    <uni-popup \r\n      ref=\"publishPopup\" \r\n      type=\"bottom\" \r\n      :safe-area=\"false\" \r\n      :mask-click=\"false\" \r\n      :animation=\"true\"\r\n      :mask-background-color=\"'rgba(0,0,0,0.5)'\"\r\n      :duration=\"300\"\r\n    >\r\n      <view class=\"publish-modal\">\r\n        <view class=\"modal-header\">\r\n          <text class=\"modal-title\">发布帖子</text>\r\n          <view class=\"close-btn\" @click=\"hidePublishModal\">\r\n            <uni-icons type=\"close\" size=\"20\" color=\"#999\"></uni-icons>\r\n          </view>\r\n        </view>\r\n        \r\n        <view class=\"modal-content\">\r\n          <!-- 期号标题 -->\r\n          <view class=\"period-title\">\r\n            <text class=\"period-text\">彩迷</text>\r\n          </view>\r\n          \r\n          <!-- 协议确认 -->\r\n          <view class=\"agreement-section\">\r\n            <view class=\"checkbox-wrapper\" @click=\"toggleAgreementManually\">\r\n              <view class=\"custom-checkbox\" :class=\"{ checked: agreedToTerms }\">\r\n                <view v-if=\"agreedToTerms\" class=\"checkmark\">✓</view>\r\n              </view>\r\n              <text class=\"agreement-text\">同意并遵守《彩友圈管理规范》</text>\r\n            </view>\r\n          </view>\r\n          \r\n          <!-- 功能按钮区域 -->\r\n          <view class=\"function-buttons\">\r\n            <view class=\"button-row\">\r\n              <view class=\"function-btn\" @click=\"selectFunction('predict')\">\r\n                <view class=\"btn-icon predict-icon\">免</view>\r\n                <text class=\"btn-text\">预测帖(免审)</text>\r\n              </view>\r\n              <view class=\"function-btn\" @click=\"selectFunction('pattern')\">\r\n                <view class=\"btn-icon pattern-icon\">\r\n                  <uni-icons type=\"redo\" size=\"24\" color=\"#fff\"></uni-icons>\r\n                </view>\r\n                <text class=\"btn-text\">规律帖(上传规律)</text>\r\n              </view>\r\n              <view class=\"function-btn\" @click=\"selectFunction('filter')\">\r\n                <view class=\"btn-icon filter-icon\">\r\n                  <uni-icons type=\"gear\" size=\"24\" color=\"#fff\"></uni-icons>\r\n                </view>\r\n                <text class=\"btn-text\">过滤王帖(免审)</text>\r\n              </view>\r\n            </view>\r\n            <view class=\"button-row\">\r\n              <view class=\"function-btn\" @click=\"selectFunction('soup')\">\r\n                <view class=\"btn-icon soup-icon\">\r\n                  <uni-icons type=\"coffee\" size=\"24\" color=\"#fff\"></uni-icons>\r\n                </view>\r\n                <text class=\"btn-text\">老母鸡汤</text>\r\n              </view>\r\n            </view>\r\n          </view>\r\n        </view>\r\n        \r\n        <view class=\"modal-footer\">\r\n          <button class=\"close-btn-modal\" @click=\"hidePublishModal\">关闭</button>\r\n        </view>\r\n      </view>\r\n    </uni-popup>\r\n    \r\n    <!-- 搜索建议遮罩 -->\r\n    <view v-if=\"showSearchSuggestions\" class=\"search-suggestions-mask\" @click=\"showSearchSuggestions = false\"></view>\r\n    \r\n    <!-- 筛选弹窗 -->\r\n    <view v-if=\"showFilterDialog\" class=\"filter-dialog-mask\" @click=\"hideFilterModal\">\r\n      <view class=\"filter-dialog\" @click.stop>\r\n        <!-- 弹窗头部 -->\r\n        <view class=\"filter-header\">\r\n          <text class=\"filter-title\">心水预测</text>\r\n          <text class=\"filter-period\">第{{ currentLotteryType.name }}期 {{ currentLotteryType.status }}</text>\r\n        </view>\r\n        \r\n        <!-- 心水预测筛选 -->\r\n        <view class=\"filter-section\">\r\n          <view class=\"filter-grid\">\r\n            <view \r\n              class=\"filter-item\" \r\n              :class=\"{ active: selectedPredictionFilter === filter }\"\r\n              v-for=\"filter in predictionFilters\" \r\n              :key=\"filter\"\r\n              @click=\"togglePredictionFilter(filter)\"\r\n            >\r\n              {{ filter }}\r\n            </view>\r\n          </view>\r\n        </view>\r\n        \r\n        <!-- 其他筛选 -->\r\n        <view class=\"filter-section\">\r\n          <text class=\"section-title\">其他筛选</text>\r\n          <text class=\"section-subtitle\">(可结合上面选项选择一个)</text>\r\n          <view class=\"filter-grid\">\r\n            <view \r\n              class=\"filter-item\" \r\n              :class=\"{ active: selectedOtherFilter === filter }\"\r\n              v-for=\"filter in otherFilters\" \r\n              :key=\"filter\"\r\n              @click=\"toggleOtherFilter(filter)\"\r\n            >\r\n              {{ filter }}\r\n            </view>\r\n          </view>\r\n        </view>\r\n        \r\n        <!-- 搜索按钮 -->\r\n        <view class=\"filter-footer\">\r\n          <view class=\"filter-buttons\">\r\n            <button class=\"clear-filter-btn\" @click=\"clearFilterSelection\">\r\n              清空\r\n            </button>\r\n            <button class=\"search-btn\" @click=\"performSearch\">\r\n              {{ getSearchButtonText() }}\r\n            </button>\r\n          </view>\r\n        </view>\r\n      </view>\r\n    </view>\r\n  </view>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, onMounted } from 'vue'\r\nimport { apiGetIssueNo, apiPostListQuery, apiPostLike } from '@/api/apis.js'\r\nimport { getAccount } from '@/utils/request.js'\r\n\r\n// 当前选中的标签\r\nconst activeTab = ref('predict')\r\n\r\n// 当前选中的标签（分类标签）\r\nconst activeTag = ref(0)\r\n\r\n// 彩票类型下拉框状态\r\nconst showPeriodDropdown = ref(false)\r\n\r\n// 弹出层引用\r\nconst publishPopup = ref(null)\r\n\r\n// 协议同意状态\r\nconst agreedToTerms = ref(false)\r\n\r\n// 选中的功能类型\r\nconst selectedFunction = ref('')\r\n\r\n// 筛选弹窗相关\r\nconst showFilterDialog = ref(false)\r\nconst selectedPredictionFilter = ref('') // 心水预测只能选择一个\r\nconst selectedOtherFilter = ref('') // 其他筛选只能选择一个\r\n\r\n// 搜索相关\r\nconst searchKeyword = ref('')\r\nconst showSearchSuggestions = ref(false)\r\nconst searchSuggestions = ref([])\r\nconst filteredPredictList = ref([])\r\nconst isSearching = ref(false)\r\n\r\n// 请求锁 - 防止重复请求\r\nconst isLoadingPosts = ref(false)\r\nconst isLoadingLottery = ref(false)\r\n\r\n// 心水预测筛选选项\r\nconst predictionFilters = ref([\r\n  '头尾', '芝麻', '定头', '定百', '定十', '定尾', '杀头', '杀百', '杀十', '杀尾', \r\n  '稳码', '中肚', '头尾合', '中肚合', '千百合', '千十合', '百个合', '十个合', \r\n  'ABXD', 'ABCX', 'AXCD', 'XBCD', 'ABXX', 'AXCX', 'XXCD', 'XBXD', '死数', \r\n  '二字现', '三字现', '过滤王二定', '过滤王三定', '过滤王四定', \r\n  '头尾不合', '中肚不合', '千百不合', '千十不合', '百个不合', '十个不合'\r\n])\r\n\r\n// 其他筛选选项\r\nconst otherFilters = ref([\r\n  '大师帖子', '靓规贴子', '点赞最多', '讨论最热'\r\n])\r\n\r\n// 分类标签列表\r\nconst tags = ref([\r\n  '#全部', '#大师', '#靓规贴', '#过滤王', '#点赞最多'\r\n])\r\n\r\n// 彩票类别列表\r\nconst lotteryTypes = ref([\r\n  { id: 16, name: '排列三', code: 'pl3', status: '待开奖', time: '今天 21:30' },\r\n  { id: 17, name: '排列五', code: 'pl5', status: '待开奖', time: '今天 21:30' },\r\n  { id: 15, name: '七星彩', code: 'qxc', status: '待开奖', time: '今天 21:30' },\r\n  { id: 12, name: '福彩3D', code: 'fc3d', status: '待开奖', time: '今天 21:30' }\r\n])\r\n\r\n// 当前选中的彩票类别\r\nconst currentLotteryType = ref(lotteryTypes.value[0])\r\n\r\n// 头条列表\r\nconst headlinesList = ref([\r\n  {\r\n    id: 1,\r\n    title: '2024年彩票行业最新政策解读',\r\n    content: '国家彩票管理中心发布最新政策，对彩票销售和兑奖流程进行了优化调整...',\r\n    time: '2小时前',\r\n    views: 1256,\r\n    likes: 89\r\n  },\r\n  {\r\n    id: 2,\r\n    title: '数字彩票中奖概率分析报告',\r\n    content: '专业机构发布最新中奖概率分析，帮助彩民理性购彩...',\r\n    time: '5小时前',\r\n    views: 892,\r\n    likes: 67\r\n  },\r\n  {\r\n    id: 3,\r\n    title: '彩票公益金使用情况公示',\r\n    content: '本年度彩票公益金主要用于教育、医疗、体育等公益事业...',\r\n    time: '1天前',\r\n    views: 2156,\r\n    likes: 156\r\n  }\r\n])\r\n\r\n// 关注列表\r\nconst followList = ref([\r\n  {\r\n    id: 1,\r\n    username: '彩友小王',\r\n    avatar: '/static/images/defaultAvatar.png',\r\n    time: '刚刚',\r\n    content: '今天分享一个实用的选号技巧，希望对大家有帮助！'\r\n  },\r\n  {\r\n    id: 2,\r\n    username: '幸运星',\r\n    avatar: '/static/images/defaultAvatar.png',\r\n    time: '30分钟前',\r\n    content: '最近在研究号码走势，发现了一些有趣的规律'\r\n  },\r\n  {\r\n    id: 3,\r\n    username: '数字达人',\r\n    avatar: '/static/images/defaultAvatar.png',\r\n    time: '1小时前',\r\n    content: '新一期预测已发布，欢迎大家参考讨论'\r\n  }\r\n])\r\n\r\n// 预测列表\r\nconst predictList = ref([])\r\n\r\n// 当前期号信息\r\nconst currentIssueInfo = ref({\r\n  id: null,\r\n  number: null,\r\n  status: '待开奖',\r\n  time: '今天 21:30'\r\n})\r\n\r\n// 鸡汤列表\r\nconst soupList = ref([\r\n  {\r\n    id: 1,\r\n    username: '心灵导师',\r\n    avatar: '/static/images/defaultAvatar.png',\r\n    time: '1小时前',\r\n    content: '生活就像彩票，不买永远没有中奖的机会，但买了也不一定中奖。重要的是保持一颗平常心，享受过程，期待美好。',\r\n    likes: 45,\r\n    comments: 12\r\n  },\r\n  {\r\n    id: 2,\r\n    username: '正能量小王',\r\n    avatar: '/static/images/defaultAvatar.png',\r\n    time: '3小时前',\r\n    content: '每一次失败都是成功的垫脚石，每一次尝试都是成长的机会。相信自己，坚持下去，好运总会降临。',\r\n    likes: 67,\r\n    comments: 23\r\n  },\r\n  {\r\n    id: 3,\r\n    username: '励志达人',\r\n    avatar: '/static/images/defaultAvatar.png',\r\n    time: '6小时前',\r\n    content: '人生就像选号，没有标准答案，但有无数种可能。勇敢尝试，坚持梦想，你就是自己的幸运星。',\r\n    likes: 89,\r\n    comments: 34\r\n  }\r\n])\r\n\r\n// 页面是否已经初始化\r\nconst isPageInitialized = ref(false)\r\n\r\n// 页面加载完成\r\nonMounted(() => {\r\n  // 防止重复初始化\r\n  if (isPageInitialized.value) {\r\n    console.log('页面已经初始化，跳过重复加载')\r\n    return\r\n  }\r\n  \r\n  try {\r\n    const savedLotteryType = uni.getStorageSync('currentLotteryType')\r\n    if (savedLotteryType) {\r\n      currentLotteryType.value = savedLotteryType\r\n    }\r\n  } catch (error) {\r\n    // 静默处理错误\r\n  }\r\n  \r\n  // 自动保存当前用户头像到本地存储\r\n  autoSaveCurrentUserAvatar()\r\n  \r\n  // 优化触摸事件性能\r\n  optimizeTouchEvents()\r\n  \r\n  loadLotteryData(currentLotteryType.value.code)\r\n  \r\n  isPageInitialized.value = true\r\n})\r\n\r\n// 切换标签\r\nconst switchTab = (tab) => {\r\n  activeTab.value = tab\r\n}\r\n\r\n// 选择分类标签\r\nconst selectTag = (index) => {\r\n  activeTag.value = index\r\n  const selectedTag = tags.value[index]\r\n  \r\n  // 提取标签内容（去掉#号）\r\n  const tagContent = selectedTag.replace('#', '')\r\n  \r\n  // 设置搜索关键词并执行搜索\r\n  searchKeyword.value = tagContent\r\n  performFuzzySearch()\r\n  \r\n  // 关闭搜索建议框\r\n  showSearchSuggestions.value = false\r\n}\r\n\r\n// 切换彩票类型下拉框\r\nconst togglePeriodDropdown = () => {\r\n  showPeriodDropdown.value = !showPeriodDropdown.value\r\n}\r\n\r\n// 关闭彩票类型下拉框\r\nconst closePeriodDropdown = () => {\r\n  showPeriodDropdown.value = false\r\n}\r\n\r\n// 选择彩票类型\r\nconst selectLotteryType = (lotteryType) => {\r\n  // 检查是否是同一个彩票类型，如果是就不要重复加载\r\n  if (currentLotteryType.value.code === lotteryType.code) {\r\n    console.log('彩票类型未变化，跳过加载')\r\n    showPeriodDropdown.value = false\r\n    return\r\n  }\r\n  \r\n  currentLotteryType.value = lotteryType\r\n  showPeriodDropdown.value = false\r\n  \r\n  try {\r\n    uni.setStorageSync('currentLotteryType', lotteryType)\r\n  } catch (error) {\r\n    // 静默处理错误\r\n  }\r\n  \r\n  loadLotteryData(lotteryType.code)\r\n}\r\n\r\n// 根据彩票类型加载数据\r\nconst loadLotteryData = async (lotteryCode) => {\r\n  // 防止重复请求\r\n  if (isLoadingLottery.value) {\r\n    console.log('正在加载彩票数据，跳过重复请求')\r\n    return\r\n  }\r\n  \r\n  try {\r\n    isLoadingLottery.value = true\r\n    const lotteryType = lotteryTypes.value.find(type => type.code === lotteryCode)\r\n    if (!lotteryType) {\r\n      return\r\n    }\r\n    \r\n    uni.showLoading({ title: '加载中...' })\r\n    \r\n    const response = await apiGetIssueNo({ cpid: lotteryType.id })\r\n    \r\n    uni.hideLoading()\r\n    \r\n    if (response.code === 200 && response.data !== null && response.data !== undefined) {\r\n      let issueNumber = null\r\n      let issueStatus = '待开奖'\r\n      let issueTime = '今天 21:30'\r\n      \r\n      if (typeof response.data === 'number' || typeof response.data === 'string') {\r\n        issueNumber = response.data.toString()\r\n      } else if (typeof response.data === 'object') {\r\n        issueNumber = response.data.issueno || response.data.number || response.data.id\r\n        issueStatus = response.data.status || '待开奖'\r\n        issueTime = response.data.time || '今天 21:30'\r\n      }\r\n      \r\n      lotteryType.status = issueStatus\r\n      lotteryType.time = issueTime\r\n      \r\n      if (currentLotteryType.value.code === lotteryCode) {\r\n        currentLotteryType.value.status = lotteryType.status\r\n        currentLotteryType.value.time = lotteryType.time\r\n      }\r\n      \r\n      currentIssueInfo.value = {\r\n        id: issueNumber,\r\n        number: issueNumber,\r\n        status: issueStatus,\r\n        time: issueTime\r\n      }\r\n      \r\n      try {\r\n        uni.setStorageSync('currentIssueInfo', currentIssueInfo.value)\r\n      } catch (error) {\r\n        // 静默处理错误\r\n      }\r\n      \r\n      loadPredictPosts()\r\n      // 移除不必要的提示，避免每次加载都弹出\r\n    } else {\r\n      uni.showToast({ title: response.msg || '数据加载失败', icon: 'none' })\r\n    }\r\n  } catch (error) {\r\n      uni.hideLoading()\r\n      uni.showToast({ title: '网络错误，请重试', icon: 'none' })\r\n  } finally {\r\n    isLoadingLottery.value = false\r\n  }\r\n}\r\n\r\n// 检查是否为多张图片（包含逗号分隔）\r\nconst isMultipleImages = (imageStr) => {\r\n  return imageStr && imageStr.includes(',')\r\n}\r\n\r\n// 获取图片URL数组\r\nconst getImageUrls = (imageStr) => {\r\n  if (!imageStr) return []\r\n  return imageStr.split(',').map(url => url.trim()).filter(url => url)\r\n}\r\n\r\n// 预览图片\r\nconst previewImage = (current, urls) => {\r\n  uni.previewImage({\r\n    current,\r\n    urls\r\n  })\r\n}\r\n\r\n// 显示发布弹出层\r\nconst showPublishModal = () => {\r\n  publishPopup.value.open()\r\n}\r\n\r\n// 隐藏发布弹出层\r\nconst hidePublishModal = () => {\r\n  publishPopup.value.close()\r\n}\r\n\r\n// 切换协议同意状态\r\nconst toggleAgreementManually = () => {\r\n  agreedToTerms.value = !agreedToTerms.value\r\n}\r\n\r\n// 选择功能类型\r\nconst selectFunction = (type) => {\r\n  \r\n  // 所有功能都需要先同意协议\r\n  if (!agreedToTerms.value) {\r\n    uni.showToast({\r\n      title: '请先同意管理规范',\r\n      icon: 'none'\r\n    })\r\n    return\r\n  }\r\n  \r\n  \r\n  selectedFunction.value = type\r\n  \r\n  // 根据选择的类型跳转到不同的发布页面\r\n  switch (type) {\r\n    case 'predict':\r\n      // 跳转到设置方案页面\r\n      uni.navigateTo({\r\n        url: '/pages/predict-scheme/predict-scheme',\r\n        success: () => {\r\n          hidePublishModal()\r\n        },\r\n        fail: (err) => {\r\n          uni.showToast({\r\n            title: '跳转失败',\r\n            icon: 'none'\r\n          })\r\n        }\r\n      })\r\n      break\r\n    case 'pattern':\r\n      // 跳转到规律预测页面\r\n      uni.navigateTo({\r\n        url: '/pages/pattern-predict/pattern-predict',\r\n        success: () => {\r\n          hidePublishModal()\r\n        },\r\n        fail: (err) => {\r\n      uni.showToast({\r\n            title: '跳转失败',\r\n        icon: 'none'\r\n          })\r\n        }\r\n      })\r\n      break\r\n    case 'filter':\r\n      uni.showToast({\r\n        title: '跳转到过滤王帖发布',\r\n        icon: 'none'\r\n      })\r\n      break\r\n    case 'soup':\r\n      uni.showToast({\r\n        title: '跳转到老母鸡汤发布',\r\n        icon: 'none'\r\n      })\r\n      break\r\n  }\r\n  \r\n  // 关闭弹出层\r\n  hidePublishModal()\r\n}\r\n\r\n// 显示筛选弹窗\r\nconst showFilterModal = () => {\r\n  showFilterDialog.value = true\r\n}\r\n\r\n// 隐藏筛选弹窗\r\nconst hideFilterModal = () => {\r\n  showFilterDialog.value = false\r\n}\r\n\r\n// 切换筛选选项\r\n// 切换心水预测筛选\r\nconst togglePredictionFilter = (filter) => {\r\n  if (selectedPredictionFilter.value === filter) {\r\n    selectedPredictionFilter.value = '' // 取消选择\r\n  } else {\r\n    selectedPredictionFilter.value = filter // 选择新的\r\n  }\r\n}\r\n\r\n// 切换其他筛选\r\nconst toggleOtherFilter = (filter) => {\r\n  if (selectedOtherFilter.value === filter) {\r\n    selectedOtherFilter.value = '' // 取消选择\r\n  } else {\r\n    selectedOtherFilter.value = filter // 选择新的\r\n  }\r\n}\r\n\r\n// 处理搜索输入\r\nconst handleSearchInput = () => {\r\n  if (searchKeyword.value.trim()) {\r\n    // 生成搜索建议\r\n    generateSearchSuggestions()\r\n    // 执行模糊搜索\r\n    performFuzzySearch()\r\n  } else {\r\n    // 清空搜索\r\n    clearSearchResults()\r\n  }\r\n}\r\n\r\n// 生成搜索建议\r\nconst generateSearchSuggestions = () => {\r\n  const keyword = searchKeyword.value.trim().toLowerCase()\r\n  const suggestions = []\r\n  \r\n  // 从预测筛选选项中生成建议\r\n  predictionFilters.value.forEach(filter => {\r\n    if (filter.toLowerCase().includes(keyword)) {\r\n      suggestions.push(filter)\r\n    }\r\n  })\r\n  \r\n  // 从其他筛选选项中生成建议\r\n  otherFilters.value.forEach(filter => {\r\n    if (filter.toLowerCase().includes(keyword)) {\r\n      suggestions.push(filter)\r\n    }\r\n  })\r\n  \r\n  // 限制建议数量\r\n  searchSuggestions.value = suggestions.slice(0, 5)\r\n}\r\n\r\n// 选择搜索建议\r\nconst selectSuggestion = (suggestion) => {\r\n  searchKeyword.value = suggestion\r\n  showSearchSuggestions.value = false\r\n  performFuzzySearch()\r\n}\r\n\r\n// 清空搜索\r\nconst clearSearch = () => {\r\n  searchKeyword.value = ''\r\n  showSearchSuggestions.value = false\r\n  activeTag.value = -1 // 重置标签选中状态\r\n  clearSearchResults()\r\n}\r\n\r\n// 执行模糊搜索\r\nconst performFuzzySearch = () => {\r\n  const keyword = searchKeyword.value.trim().toLowerCase()\r\n  \r\n  if (!keyword) {\r\n    clearSearchResults()\r\n    return\r\n  }\r\n  \r\n  isSearching.value = true\r\n  \r\n  // 对预测帖子进行模糊搜索\r\n  filteredPredictList.value = predictList.value.filter(post => {\r\n    // 搜索用户名\r\n    if (post.username && post.username.toLowerCase().includes(keyword)) {\r\n      return true\r\n    }\r\n    \r\n    // 搜索帖子内容\r\n    if (post.content && post.content.toLowerCase().includes(keyword)) {\r\n      return true\r\n    }\r\n    \r\n    // 搜索期号\r\n    if (post.period && post.period.toString().includes(keyword)) {\r\n      return true\r\n    }\r\n    \r\n    // 特殊标签搜索逻辑\r\n    if (keyword === '全部') {\r\n      return true // 显示所有帖子\r\n    }\r\n    \r\n    if (keyword === '大师' || keyword === '大师帖子') {\r\n      // 搜索包含\"大师\"关键词的帖子\r\n      return post.content && post.content.toLowerCase().includes('大师')\r\n    }\r\n    \r\n    if (keyword === '靓规贴' || keyword === '靓规贴子') {\r\n      // 搜索包含\"靓规\"关键词的帖子\r\n      return post.content && post.content.toLowerCase().includes('靓规')\r\n    }\r\n    \r\n    if (keyword === '过滤王') {\r\n      // 搜索包含\"过滤王\"关键词的帖子\r\n      return post.content && post.content.toLowerCase().includes('过滤王')\r\n    }\r\n    \r\n    if (keyword === '点赞最多') {\r\n      // 按点赞数排序（这里简化处理，实际可以按likes字段排序）\r\n      return post.likes > 0\r\n    }\r\n    \r\n    return false\r\n  })\r\n  \r\n  // 如果是\"点赞最多\"标签，按点赞数排序\r\n  if (keyword === '点赞最多') {\r\n    filteredPredictList.value.sort((a, b) => b.likes - a.likes)\r\n  }\r\n  \r\n  uni.showToast({\r\n    title: `找到${filteredPredictList.value.length}条结果`,\r\n    icon: 'success'\r\n  })\r\n}\r\n\r\n// 清空搜索结果\r\nconst clearSearchResults = () => {\r\n  filteredPredictList.value = []\r\n  isSearching.value = false\r\n}\r\n\r\n// 执行筛选搜索\r\nconst performSearch = () => {\r\n  const filters = []\r\n  if (selectedPredictionFilter.value) {\r\n    filters.push(selectedPredictionFilter.value)\r\n  }\r\n  if (selectedOtherFilter.value) {\r\n    filters.push(selectedOtherFilter.value)\r\n  }\r\n  \r\n  \r\n  // 检查是否选择了筛选条件\r\n  if (filters.length === 0) {\r\n    uni.showToast({\r\n      title: '请选择筛选条件',\r\n      icon: 'none'\r\n    })\r\n    return\r\n  }\r\n  \r\n  // 设置搜索关键词\r\n  searchKeyword.value = filters.join('+')\r\n  \r\n  // 执行筛选搜索\r\n  performFilterSearch(filters)\r\n  \r\n  // 关闭筛选弹窗\r\n  hideFilterModal()\r\n  \r\n  // 重置标签选中状态\r\n  activeTag.value = -1\r\n  \r\n  uni.showToast({\r\n    title: `搜索${filters.join('+')}`,\r\n    icon: 'success'\r\n  })\r\n}\r\n\r\n// 执行筛选搜索的具体逻辑\r\nconst performFilterSearch = (filters) => {\r\n  isSearching.value = true\r\n  \r\n  // 对预测帖子进行筛选搜索\r\n  filteredPredictList.value = predictList.value.filter(post => {\r\n    let matches = false\r\n    \r\n    // 检查心水预测筛选条件\r\n    if (selectedPredictionFilter.value) {\r\n      const predictionFilter = selectedPredictionFilter.value.toLowerCase()\r\n      \r\n      // 在帖子内容中搜索匹配的筛选条件\r\n      if (post.content && post.content.toLowerCase().includes(predictionFilter)) {\r\n        matches = true\r\n      }\r\n      \r\n      // 特殊处理一些筛选条件\r\n      if (predictionFilter === '头尾' && post.content && \r\n          (post.content.includes('头') || post.content.includes('尾'))) {\r\n        matches = true\r\n      }\r\n      \r\n      if (predictionFilter === '芝麻' && post.content && \r\n          post.content.includes('芝麻')) {\r\n        matches = true\r\n      }\r\n      \r\n      if (predictionFilter === '中肚' && post.content && \r\n          post.content.includes('中肚')) {\r\n        matches = true\r\n      }\r\n      \r\n      if (predictionFilter.includes('定') && post.content && \r\n          post.content.includes('定')) {\r\n        matches = true\r\n      }\r\n      \r\n      if (predictionFilter.includes('杀') && post.content && \r\n          post.content.includes('杀')) {\r\n        matches = true\r\n      }\r\n      \r\n      if (predictionFilter.includes('合') && post.content && \r\n          post.content.includes('合')) {\r\n        matches = true\r\n      }\r\n      \r\n      if (predictionFilter.includes('过滤王') && post.content && \r\n          post.content.includes('过滤王')) {\r\n        matches = true\r\n      }\r\n    }\r\n    \r\n    // 检查其他筛选条件\r\n    if (selectedOtherFilter.value) {\r\n      const otherFilter = selectedOtherFilter.value.toLowerCase()\r\n      \r\n      if (otherFilter === '大师帖子' && post.content && \r\n          post.content.includes('大师')) {\r\n        matches = true\r\n      }\r\n      \r\n      if (otherFilter === '靓规贴子' && post.content && \r\n          post.content.includes('靓规')) {\r\n        matches = true\r\n      }\r\n      \r\n      if (otherFilter === '点赞最多' && post.likes > 0) {\r\n        matches = true\r\n      }\r\n      \r\n      if (otherFilter === '讨论最热' && post.comments > 0) {\r\n        matches = true\r\n      }\r\n    }\r\n    \r\n    return matches\r\n  })\r\n  \r\n  // 如果是\"点赞最多\"或\"讨论最热\"，按相应字段排序\r\n  if (selectedOtherFilter.value === '点赞最多') {\r\n    filteredPredictList.value.sort((a, b) => b.likes - a.likes)\r\n  } else if (selectedOtherFilter.value === '讨论最热') {\r\n    filteredPredictList.value.sort((a, b) => b.comments - a.comments)\r\n  }\r\n  \r\n}\r\n\r\n// 获取搜索按钮文本\r\nconst getSearchButtonText = () => {\r\n  const filters = []\r\n  if (selectedPredictionFilter.value) {\r\n    filters.push(selectedPredictionFilter.value)\r\n  }\r\n  if (selectedOtherFilter.value) {\r\n    filters.push(selectedOtherFilter.value)\r\n  }\r\n  \r\n  if (filters.length === 0) {\r\n    return '搜索'\r\n  }\r\n  \r\n  return filters.join('+')\r\n}\r\n\r\n// 加载预测帖子数据\r\nconst loadPredictPosts = async () => {\r\n  // 防止重复请求 - 必须在最开始就检查并设置\r\n  if (isLoadingPosts.value) {\r\n    console.log('正在加载帖子，跳过重复请求')\r\n    return\r\n  }\r\n  \r\n  try {\r\n    isLoadingPosts.value = true\r\n    \r\n    // 构建查询参数 - 同时查询预测帖和规律帖\r\n    const queryData = {\r\n      tname: currentLotteryType.value.name, // 查询预测帖\r\n      issueno: currentIssueInfo.value.number || currentIssueInfo.value.id || '--',\r\n      page: '1',\r\n      limit: '20'\r\n    }\r\n    \r\n    // 查询预测帖\r\n    const response = await apiPostListQuery(queryData)\r\n    \r\n    let allPosts = []\r\n    \r\n    if (response.code === 200) {\r\n      if (response.data && response.data.records && Array.isArray(response.data.records)) {\r\n        allPosts = [...response.data.records]\r\n      }\r\n    }\r\n    \r\n    // 查询规律帖 - 使用规律帖的tname格式\r\n    const patternQueryData = {\r\n      tname: `${currentLotteryType.value.name}-规律预测`, // 查询规律帖\r\n      issueno: currentIssueInfo.value.number || currentIssueInfo.value.id || '--',\r\n      page: '1',\r\n      limit: '20'\r\n    }\r\n    \r\n    const patternResponse = await apiPostListQuery(patternQueryData)\r\n    \r\n    if (patternResponse.code === 200) {\r\n      if (patternResponse.data && patternResponse.data.records && Array.isArray(patternResponse.data.records)) {\r\n        allPosts = [...allPosts, ...patternResponse.data.records]\r\n      }\r\n    }\r\n    \r\n    // 处理所有帖子数据\r\n    if (allPosts.length > 0) {\r\n      predictList.value = allPosts.map((post) => {\r\n        const postId = post.id\r\n        \r\n        // 检查postId是否有效\r\n        if (!postId) {\r\n          return null // 跳过无效的帖子\r\n        }\r\n        \r\n        // 检查当前用户是否点赞过这个帖子\r\n        const currentAccount = getAccount()\r\n        const userLikedKey = `${postId}_${currentAccount}`\r\n        const isLiked = getLikedStatus(userLikedKey)\r\n        \r\n        // 使用服务器返回的点赞数\r\n        const serverLikeCount = post.likeCount || 0\r\n        \r\n        // 处理用户头像\r\n        let userAvatar = 'http://video.caimizm.com/himg/user.png'\r\n        \r\n        // 使用getUserAvatar函数获取头像（不再使用pimg作为头像）\r\n        userAvatar = getUserAvatar(post.account)\r\n        \r\n        return {\r\n          id: postId,\r\n          username: post.account || '匿名用户',\r\n          avatar: userAvatar, // 使用处理后的头像\r\n          time: formatTime(post.createTime),\r\n          status: '预测中',\r\n          period: post.issueno || currentIssueInfo.value.number,\r\n          content: post.content || '',\r\n          image: post.pimg || '', // 帖子图片（规律帖的图片）\r\n          likes: serverLikeCount, // 使用服务器返回的点赞数\r\n          comments: post.comment || 0,\r\n          shares: 0,\r\n          isLiked: isLiked, // 检查当前用户是否点赞过\r\n          isLiking: false // 点赞中状态\r\n        }\r\n      }).filter(post => post !== null)\r\n    } else {\r\n      predictList.value = []\r\n    }\r\n  } catch (error) {\r\n    console.error('加载帖子失败:', error)\r\n    predictList.value = []\r\n  } finally {\r\n    isLoadingPosts.value = false\r\n  }\r\n}\r\n\r\n// 获取本地存储的点赞状态和数字\r\nconst getLikedStatus = (postId) => {\r\n  try {\r\n    const likedPosts = uni.getStorageSync('likedPosts') || {}\r\n    return likedPosts[postId] || false\r\n  } catch (error) {\r\n    return false\r\n  }\r\n}\r\n\r\n// 获取本地存储的点赞数字\r\nconst getLikedCount = (postId) => {\r\n  try {\r\n    const likedCounts = uni.getStorageSync('likedCounts') || {}\r\n    return likedCounts[postId] || 0\r\n  } catch (error) {\r\n    return 0\r\n  }\r\n}\r\n\r\n// 保存点赞状态到本地存储\r\nconst saveLikedStatus = (postId, isLiked) => {\r\n  try {\r\n    const likedPosts = uni.getStorageSync('likedPosts') || {}\r\n    likedPosts[postId] = isLiked\r\n    uni.setStorageSync('likedPosts', likedPosts)\r\n  } catch (error) {\r\n    // 静默处理错误\r\n  }\r\n}\r\n\r\n// 保存点赞数字到本地存储\r\nconst saveLikedCount = (postId, count) => {\r\n  try {\r\n    const likedCounts = uni.getStorageSync('likedCounts') || {}\r\n    likedCounts[postId] = count\r\n    uni.setStorageSync('likedCounts', likedCounts)\r\n  } catch (error) {\r\n    // 静默处理错误\r\n  }\r\n}\r\n\r\n// 获取用户头像\r\nconst getUserAvatar = (account) => {\r\n  try {\r\n    // 如果是当前登录用户，使用登录数据中的头像\r\n    const currentAccount = getAccount()\r\n    if (account === currentAccount) {\r\n      const loginData = uni.getStorageSync('loginData') || {}\r\n      if (loginData.himg) {\r\n        return loginData.himg\r\n      }\r\n    }\r\n    \r\n    // 对于其他用户，尝试从本地存储中获取他们的头像\r\n    const userAvatars = uni.getStorageSync('userAvatars') || {}\r\n    if (userAvatars[account]) {\r\n      return userAvatars[account]\r\n    }\r\n    \r\n    // 如果都没有，使用默认头像\r\n    return 'http://video.caimizm.com/himg/user.png'\r\n  } catch (error) {\r\n    return 'http://video.caimizm.com/himg/user.png'\r\n  }\r\n}\r\n\r\n// 保存用户头像信息\r\nconst saveUserAvatar = (account, avatarUrl) => {\r\n  try {\r\n    const userAvatars = uni.getStorageSync('userAvatars') || {}\r\n    userAvatars[account] = avatarUrl\r\n    uni.setStorageSync('userAvatars', userAvatars)\r\n  } catch (error) {\r\n    // 静默处理错误\r\n  }\r\n}\r\n\r\n// 格式化时间\r\nconst formatTime = (timeStr) => {\r\n  if (!timeStr) return '刚刚'\r\n  \r\n  try {\r\n    const time = new Date(timeStr)\r\n    const now = new Date()\r\n    const diff = now - time\r\n    \r\n    if (diff < 60000) return '刚刚'\r\n    if (diff < 3600000) return `${Math.floor(diff / 60000)}分钟前`\r\n    if (diff < 86400000) return `${Math.floor(diff / 3600000)}小时前`\r\n    return `${Math.floor(diff / 86400000)}天前`\r\n  } catch (error) {\r\n    return '刚刚'\r\n  }\r\n}\r\n\r\n// 清空筛选选择\r\nconst clearFilterSelection = () => {\r\n  selectedPredictionFilter.value = ''\r\n  selectedOtherFilter.value = ''\r\n  \r\n  uni.showToast({\r\n    title: '已清空筛选条件',\r\n    icon: 'success'\r\n  })\r\n}\r\n\r\n  // 处理帖子点赞\r\n  const handleLike = async (post) => {\r\n    try {\r\n      // 防止重复点击\r\n      if (post.isLiking) {\r\n        return\r\n      }\r\n      \r\n      // 检查当前用户是否已经点赞过这个帖子\r\n      const currentAccount = getAccount()\r\n      const userLikedKey = `${post.id}_${currentAccount}`\r\n      const hasUserLiked = getLikedStatus(userLikedKey)\r\n      \r\n      if (hasUserLiked) {\r\n        uni.showToast({\r\n          title: '你已经点赞过了',\r\n          icon: 'none'\r\n        })\r\n        return\r\n      }\r\n      \r\n      // 检查postId是否有效\r\n      if (!post.id) {\r\n        uni.showToast({\r\n          title: '帖子数据异常，无法点赞',\r\n          icon: 'none'\r\n        })\r\n        return\r\n      }\r\n      \r\n      post.isLiking = true\r\n      \r\n      // 调用点赞接口\r\n      const likeData = {\r\n        postId: post.id,\r\n        account: currentAccount // 使用当前登录用户账号\r\n      }\r\n      \r\n      const response = await apiPostLike(likeData)\r\n      \r\n      if (response.code === 200) {\r\n        // 点赞成功，更新状态\r\n        post.isLiked = true\r\n        post.likes += 1\r\n        \r\n        // 保存当前用户对这个帖子的点赞状态\r\n        saveLikedStatus(userLikedKey, true)\r\n        \r\n        uni.showToast({\r\n          title: response.msg || '点赞成功',\r\n          icon: 'success'\r\n        })\r\n        \r\n        // 更新列表中的对应帖子\r\n        updatePostInList(post)\r\n        \r\n      } else {\r\n        uni.showToast({\r\n          title: response.msg || '点赞失败',\r\n          icon: 'none'\r\n        })\r\n      }\r\n      \r\n    } catch (error) {\r\n      uni.showToast({\r\n        title: '网络错误，请重试',\r\n        icon: 'none'\r\n      })\r\n    } finally {\r\n      post.isLiking = false\r\n    }\r\n  }\r\n\r\n// 更新列表中的帖子数据\r\nconst updatePostInList = (updatedPost) => {\r\n  // 更新原始列表\r\n  const originalIndex = predictList.value.findIndex(p => p.id === updatedPost.id)\r\n  if (originalIndex !== -1) {\r\n    predictList.value[originalIndex] = { ...updatedPost }\r\n  }\r\n  \r\n  // 更新筛选列表\r\n  const filteredIndex = filteredPredictList.value.findIndex(p => p.id === updatedPost.id)\r\n  if (filteredIndex !== -1) {\r\n    filteredPredictList.value[filteredIndex] = { ...updatedPost }\r\n  }\r\n}\r\n\r\n// 自动保存当前用户头像到本地存储\r\nconst autoSaveCurrentUserAvatar = () => {\r\n  try {\r\n    const loginData = uni.getStorageSync('loginData') || {}\r\n    const currentAccount = getAccount()\r\n    \r\n    if (loginData.himg && currentAccount) {\r\n      const userAvatars = uni.getStorageSync('userAvatars') || {}\r\n      if (!userAvatars[currentAccount]) {\r\n        userAvatars[currentAccount] = loginData.himg\r\n        uni.setStorageSync('userAvatars', userAvatars)\r\n      }\r\n    }\r\n  } catch (error) {\r\n    // 静默处理错误\r\n  }\r\n}\r\n\r\n// 优化触摸事件性能\r\nconst optimizeTouchEvents = () => {\r\n  try {\r\n    // 在H5环境下优化触摸事件\r\n    if (typeof window !== 'undefined' && window.addEventListener) {\r\n      // 为所有元素添加被动事件监听器\r\n      const addPassiveListener = (element, event, handler) => {\r\n        element.addEventListener(event, handler, { passive: true })\r\n      }\r\n      \r\n      // 为滚动容器添加被动滚动监听器\r\n      const scrollContainers = document.querySelectorAll('.predict-list, .modal-content, .dropdown-list, .filter-dialog')\r\n      scrollContainers.forEach(container => {\r\n        addPassiveListener(container, 'touchstart', () => {})\r\n        addPassiveListener(container, 'touchmove', () => {})\r\n        addPassiveListener(container, 'touchend', () => {})\r\n      })\r\n    }\r\n  } catch (error) {\r\n    // 静默处理错误\r\n  }\r\n}\r\n\r\n// 处理追帖按钮点击\r\nconst handleAppendPost = (post) => {\r\n  try {\r\n    \r\n    // 检查帖子ID是否有效\r\n    if (!post.id) {\r\n      uni.showToast({\r\n        title: '帖子数据异常，无法追帖',\r\n        icon: 'none'\r\n      })\r\n      return\r\n    }\r\n    \r\n    // 检查是否是当前用户自己的帖子\r\n    const currentAccount = getAccount()\r\n    if (post.username === currentAccount) {\r\n      uni.showModal({\r\n        title: '追帖确认',\r\n        content: `确定要对帖子\"第${post.period}期\"进行追帖吗？`,\r\n        confirmText: '确定追帖',\r\n        cancelText: '取消',\r\n        success: (res) => {\r\n          if (res.confirm) {\r\n            // 跳转到追帖页面\r\n            navigateToAppendPost(post)\r\n          }\r\n        }\r\n      })\r\n    } else {\r\n      uni.showToast({\r\n        title: '只能追帖自己的帖子',\r\n        icon: 'none'\r\n      })\r\n    }\r\n    \r\n  } catch (error) {\r\n    uni.showToast({\r\n      title: '操作失败，请重试',\r\n      icon: 'none'\r\n    })\r\n  }\r\n}\r\n\r\n// 跳转到追帖页面\r\nconst navigateToAppendPost = (post) => {\r\n  try {\r\n    \r\n    // 从帖子内容中提取所有方案信息\r\n    const schemeIds = extractSchemeFromContent(post.content)\r\n    \r\n    \r\n    // 保存帖子信息到本地存储，供predict-scheme.vue使用\r\n    const appendPostData = {\r\n      postId: post.id,\r\n      schemeIds: schemeIds, // 改为数组，包含所有方案\r\n      postContent: post.content,\r\n      period: post.period,\r\n      lotteryType: currentLotteryType.value.name, // 添加彩票类型\r\n      timestamp: Date.now()\r\n    }\r\n    \r\n    uni.setStorageSync('appendPostData', appendPostData)\r\n    \r\n    // 跳转到方案设置页面，让用户选择要追加的方案\r\n    uni.navigateTo({\r\n      url: '/pages/predict-scheme/predict-scheme',\r\n      success: () => {\r\n        uni.showToast({\r\n          title: '请选择要追加的方案',\r\n          icon: 'success'\r\n        })\r\n      },\r\n      fail: (err) => {\r\n        uni.showToast({\r\n          title: '跳转失败',\r\n          icon: 'none'\r\n        })\r\n      }\r\n    })\r\n    \r\n  } catch (error) {\r\n    uni.showToast({\r\n      title: '跳转失败',\r\n      icon: 'none'\r\n    })\r\n  }\r\n}\r\n\r\n// 从帖子内容中提取所有方案ID\r\nconst extractSchemeFromContent = (content) => {\r\n  try {\r\n    if (!content) return []\r\n    \r\n    // 常见的方案类型列表\r\n    const schemeTypes = [\r\n      '头尾', '中肚', 'ABXX', 'AXCX', 'XBXD', 'XXCD', 'ABCX', 'ABXD', 'AXCD', 'XBCD',\r\n      '芝麻', '二字现', '三字现', '定头', '定百', '定十', '定尾', '杀头', '杀百', '杀十', '杀尾',\r\n      '稳码', '头尾合', '中肚合', '千百合', '千十合', '百个合', '十个合', '死数',\r\n      '头尾不合', '中肚不合', '千百不合', '千十不合', '百个不合', '十个不合',\r\n      '过滤王二定', '过滤王三定', '过滤王四定'\r\n    ]\r\n    \r\n    const foundSchemes = []\r\n    \r\n    // 在内容中查找所有方案类型\r\n    schemeTypes.forEach(scheme => {\r\n      if (content.includes(scheme)) {\r\n        foundSchemes.push(scheme)\r\n      }\r\n    })\r\n    \r\n    return foundSchemes\r\n    \r\n  } catch (error) {\r\n    return []\r\n  }\r\n}\r\n\r\n\r\n</script>\r\n\r\n<style scoped>\r\n/* 滚动容器特殊处理 */\r\n.scroll-container {\r\n  touch-action: pan-y;\r\n}\r\n\r\n/* 输入框特殊处理 */\r\ninput, textarea {\r\n  touch-action: manipulation;\r\n}\r\n.forum-container {\r\n  min-height: 100vh;\r\n  background-color: #f5f5f5;\r\n  /* 优化滚动性能 */\r\n  -webkit-overflow-scrolling: touch;\r\n}\r\n\r\n/* 主导航栏 */\r\n.main-navbar {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  height: 88rpx;\r\n  background-color: #28B389;\r\n  z-index: 999;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  padding: 0 30rpx;\r\n  /* 优化触摸性能 */\r\n  touch-action: manipulation;\r\n}\r\n\r\n.nav-left, .nav-right {\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n\r\n.nav-center {\r\n  flex: 1;\r\n  display: flex;\r\n  justify-content: center;\r\n}\r\n\r\n.period-selector {\r\n  display: flex;\r\n  align-items: center;\r\n  background-color: rgba(255, 255, 255, 0.2);\r\n  padding: 8rpx 16rpx;\r\n  border-radius: 20rpx;\r\n}\r\n\r\n.period-text {\r\n  font-size: 24rpx;\r\n  color: #fff;\r\n  margin-right: 8rpx;\r\n}\r\n\r\n.period-selector {\r\n  cursor: pointer;\r\n  transition: all 0.3s ease;\r\n}\r\n\r\n.period-selector:active {\r\n  opacity: 0.8;\r\n}\r\n\r\n.rotate {\r\n  transform: rotate(180deg);\r\n}\r\n\r\n/* 下拉菜单遮罩 */\r\n.dropdown-mask {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  background-color: rgba(0, 0, 0, 0.3);\r\n  z-index: 999;\r\n}\r\n\r\n/* 期号下拉菜单 */\r\n.period-dropdown {\r\n  position: fixed;\r\n  top: 88rpx;\r\n  left: 50%;\r\n  transform: translateX(-50%);\r\n  width: 600rpx;\r\n  max-height: 600rpx;\r\n  background-color: #fff;\r\n  border-radius: 20rpx;\r\n  box-shadow: 0 8rpx 30rpx rgba(0,0,0,0.15);\r\n  z-index: 1000;\r\n  overflow: hidden;\r\n  /* 优化触摸性能 */\r\n  touch-action: manipulation;\r\n  /* 防止滚动穿透 */\r\n  overscroll-behavior: contain;\r\n}\r\n\r\n.dropdown-header {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  padding: 30rpx;\r\n  border-bottom: 1rpx solid #f0f0f0;\r\n}\r\n\r\n.dropdown-title {\r\n  font-size: 32rpx;\r\n  font-weight: 600;\r\n  color: #333;\r\n}\r\n\r\n.close-btn {\r\n  width: 40rpx;\r\n  height: 40rpx;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  border-radius: 50%;\r\n  background-color: #f5f5f5;\r\n}\r\n\r\n.dropdown-list {\r\n  max-height: 500rpx;\r\n  /* 优化滚动性能 */\r\n  -webkit-overflow-scrolling: touch;\r\n  /* 防止滚动穿透 */\r\n  overscroll-behavior: contain;\r\n  /* 优化触摸性能 */\r\n  touch-action: pan-y;\r\n}\r\n\r\n.dropdown-item {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  padding: 30rpx;\r\n  border-bottom: 1rpx solid #f8f8f8;\r\n  transition: background-color 0.2s ease;\r\n}\r\n\r\n.dropdown-item:last-child {\r\n  border-bottom: none;\r\n}\r\n\r\n.dropdown-item:active {\r\n  background-color: #f8f8f8;\r\n}\r\n\r\n.dropdown-item.active {\r\n  background-color: #fff2f0;\r\n}\r\n\r\n.period-item-text {\r\n  font-size: 28rpx;\r\n  color: #333;\r\n  font-weight: 500;\r\n}\r\n\r\n.dropdown-item.active .period-item-text {\r\n  color: #ff4757;\r\n}\r\n\r\n.period-item-time {\r\n  font-size: 24rpx;\r\n  color: #999;\r\n}\r\n\r\n.post-icon {\r\n  width: 32rpx;\r\n  height: 32rpx;\r\n  background-color: #ff4757;\r\n  border-radius: 6rpx;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  margin-right: 8rpx;\r\n}\r\n\r\n.nav-text {\r\n  font-size: 22rpx;\r\n  color: #fff;\r\n}\r\n\r\n/* 切换标签栏 */\r\n.switch-tabs {\r\n  position: fixed;\r\n  top: 88rpx;\r\n  left: 0;\r\n  right: 0;\r\n  height: 88rpx;\r\n  background-color: #fff;\r\n  z-index: 998;\r\n  display: flex;\r\n  /* 优化触摸性能 */\r\n  touch-action: manipulation;\r\n}\r\n\r\n.tab-item {\r\n  flex: 1;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  position: relative;\r\n  border-bottom: 4rpx solid transparent;\r\n  /* 优化触摸性能 */\r\n  touch-action: manipulation;\r\n  transition: all 0.2s ease;\r\n}\r\n\r\n.tab-item.active {\r\n  border-bottom-color: #ff4757;\r\n}\r\n\r\n.tab-text {\r\n  font-size: 28rpx;\r\n  color: #333;\r\n  font-weight: 500;\r\n}\r\n\r\n.tab-item.active .tab-text {\r\n  color: #ff4757;\r\n}\r\n\r\n/* 搜索栏 */\r\n.search-header {\r\n  position: fixed;\r\n  top: 176rpx;\r\n  left: 0;\r\n  right: 0;\r\n  height: 80rpx;\r\n  background-color: #fff;\r\n  z-index: 997;\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 0 30rpx;\r\n  /* 优化触摸性能 */\r\n  touch-action: manipulation;\r\n}\r\n\r\n.search-label {\r\n  font-size: 24rpx;\r\n  color: #333;\r\n  margin-right: 20rpx;\r\n}\r\n\r\n.search-input-wrapper {\r\n  flex: 1;\r\n  display: flex;\r\n  align-items: center;\r\n  background-color: #f5f5f5;\r\n  border-radius: 20rpx;\r\n  padding: 12rpx 20rpx;\r\n}\r\n\r\n.search-input {\r\n  flex: 1;\r\n  margin-left: 12rpx;\r\n  font-size: 24rpx;\r\n  background: transparent;\r\n  border: none;\r\n}\r\n\r\n.clear-search, .filter-btn {\r\n  width: 32rpx;\r\n  height: 32rpx;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  margin-left: 12rpx;\r\n  border-radius: 50%;\r\n  background-color: rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.clear-search:active, .filter-btn:active {\r\n  background-color: rgba(0, 0, 0, 0.2);\r\n}\r\n\r\n/* 搜索建议遮罩 */\r\n.search-suggestions-mask {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  background-color: transparent;\r\n  z-index: 999;\r\n}\r\n\r\n/* 搜索建议下拉框 */\r\n.search-suggestions {\r\n  position: fixed;\r\n  top: 256rpx;\r\n  left: 30rpx;\r\n  right: 30rpx;\r\n  background-color: #fff;\r\n  border-radius: 12rpx;\r\n  box-shadow: 0 4rpx 20rpx rgba(0, 0, 0, 0.1);\r\n  z-index: 1000;\r\n  max-height: 400rpx;\r\n  overflow-y: auto;\r\n}\r\n\r\n.suggestion-item {\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 20rpx 24rpx;\r\n  border-bottom: 1rpx solid #f0f0f0;\r\n  transition: background-color 0.2s ease;\r\n}\r\n\r\n.suggestion-item:last-child {\r\n  border-bottom: none;\r\n}\r\n\r\n.suggestion-item:active {\r\n  background-color: #f8f8f8;\r\n}\r\n\r\n.suggestion-text {\r\n  margin-left: 12rpx;\r\n  font-size: 26rpx;\r\n  color: #333;\r\n}\r\n\r\n/* 搜索状态提示 */\r\n.search-status {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  padding: 20rpx 30rpx;\r\n  background-color: #f8f9fa;\r\n  border-radius: 12rpx;\r\n  margin-bottom: 20rpx;\r\n}\r\n\r\n.search-status-text {\r\n  font-size: 26rpx;\r\n  color: #666;\r\n}\r\n\r\n.search-count {\r\n  font-size: 24rpx;\r\n  color: #28B389;\r\n  font-weight: 500;\r\n}\r\n\r\n/* 分类标签栏 */\r\n.category-tags {\r\n  position: fixed;\r\n  top: 256rpx;\r\n  left: 0;\r\n  right: 0;\r\n  height: 80rpx;\r\n  background-color: #fff;\r\n  z-index: 996;\r\n  padding: 20rpx 0;\r\n  /* 优化触摸性能 */\r\n  touch-action: manipulation;\r\n}\r\n\r\n.category-scroll {\r\n  white-space: nowrap;\r\n}\r\n\r\n.tag-list {\r\n  display: flex;\r\n  padding: 0 30rpx;\r\n}\r\n\r\n.tag-item {\r\n  padding: 12rpx 24rpx;\r\n  margin-right: 20rpx;\r\n  background-color: #f5f5f5;\r\n  border-radius: 20rpx;\r\n  font-size: 22rpx;\r\n  color: #666;\r\n  white-space: nowrap;\r\n  transition: all 0.3s ease;\r\n  cursor: pointer;\r\n  /* 优化触摸性能 */\r\n  touch-action: manipulation;\r\n}\r\n\r\n.tag-item.active {\r\n  background-color: #ff4757;\r\n  color: #fff;\r\n}\r\n\r\n.tag-item:active {\r\n  transform: scale(0.95);\r\n  background-color: #e0e0e0;\r\n}\r\n\r\n.tag-item.active:active {\r\n  background-color: #e63946;\r\n}\r\n\r\n.forum-content {\r\n  padding: 20rpx;\r\n  padding-top: 356rpx; /* 为四个固定区域留出空间 */\r\n  /* 优化滚动性能 */\r\n  -webkit-overflow-scrolling: touch;\r\n}\r\n\r\n/* 标签内容区域 */\r\n.tab-content {\r\n  padding-bottom: 100rpx;\r\n}\r\n\r\n/* 头条样式 */\r\n.headline-item {\r\n  background-color: #fff;\r\n  border-radius: 20rpx;\r\n  padding: 30rpx;\r\n  margin-bottom: 20rpx;\r\n  box-shadow: 0 2rpx 10rpx rgba(0,0,0,0.1);\r\n}\r\n\r\n.headline-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 20rpx;\r\n}\r\n\r\n.headline-title {\r\n  font-size: 32rpx;\r\n  font-weight: 600;\r\n  color: #333;\r\n  flex: 1;\r\n}\r\n\r\n.headline-time {\r\n  font-size: 24rpx;\r\n  color: #999;\r\n}\r\n\r\n.headline-content {\r\n  font-size: 28rpx;\r\n  line-height: 1.6;\r\n  color: #666;\r\n  margin-bottom: 20rpx;\r\n}\r\n\r\n.headline-stats {\r\n  display: flex;\r\n  gap: 30rpx;\r\n}\r\n\r\n.headline-stats .stat-text {\r\n  font-size: 24rpx;\r\n  color: #999;\r\n}\r\n\r\n/* 关注样式 */\r\n.follow-item {\r\n  background-color: #fff;\r\n  border-radius: 20rpx;\r\n  padding: 30rpx;\r\n  margin-bottom: 20rpx;\r\n  box-shadow: 0 2rpx 10rpx rgba(0,0,0,0.1);\r\n}\r\n\r\n.follow-header {\r\n  display: flex;\r\n  align-items: center;\r\n  margin-bottom: 20rpx;\r\n}\r\n\r\n.user-avatar {\r\n  width: 80rpx;\r\n  height: 80rpx;\r\n  border-radius: 50%;\r\n  margin-right: 20rpx;\r\n}\r\n\r\n.user-info {\r\n  flex: 1;\r\n}\r\n\r\n.username {\r\n  display: block;\r\n  font-size: 28rpx;\r\n  font-weight: 500;\r\n  color: #333;\r\n  margin-bottom: 8rpx;\r\n}\r\n\r\n.follow-time, .predict-time, .soup-time {\r\n  font-size: 24rpx;\r\n  color: #999;\r\n}\r\n\r\n.follow-btn {\r\n  background-color: #f0f0f0;\r\n  padding: 8rpx 16rpx;\r\n  border-radius: 15rpx;\r\n}\r\n\r\n.btn-text {\r\n  font-size: 22rpx;\r\n  color: #666;\r\n}\r\n\r\n.follow-content {\r\n  font-size: 28rpx;\r\n  line-height: 1.6;\r\n  color: #333;\r\n}\r\n\r\n/* 预测列表样式 */\r\n.predict-list {\r\n  padding: 20rpx;\r\n  background-color: #f8f8f8;\r\n  /* 优化滚动性能 */\r\n  -webkit-overflow-scrolling: touch;\r\n}\r\n\r\n.predict-item {\r\n  background-color: #fff;\r\n  border-radius: 16rpx;\r\n  margin-bottom: 20rpx;\r\n  padding: 20rpx;\r\n  box-shadow: 0 2rpx 8rpx rgba(0, 0, 0, 0.05);\r\n  /* 优化触摸性能 */\r\n  touch-action: manipulation;\r\n  transition: transform 0.2s ease;\r\n}\r\n\r\n.post-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 20rpx;\r\n}\r\n\r\n.user-info {\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n\r\n.avatar {\r\n  width: 80rpx;\r\n  height: 80rpx;\r\n  border-radius: 50%;\r\n  margin-right: 16rpx;\r\n  background-color: #eee;\r\n  flex-shrink: 0;\r\n}\r\n\r\n.username-and-url {\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n}\r\n\r\n.username {\r\n  font-size: 28rpx;\r\n  font-weight: bold;\r\n  color: #333;\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n}\r\n\r\n.more-options {\r\n  padding: 10rpx;\r\n}\r\n\r\n.issue-time {\r\n  display: flex;\r\n  align-items: center;\r\n  margin-bottom: 20rpx;\r\n  font-size: 24rpx;\r\n  color: #666;\r\n}\r\n\r\n.issue-no {\r\n  font-weight: bold;\r\n  margin-right: 10rpx;\r\n  color: #333;\r\n}\r\n\r\n.post-time {\r\n  color: #999;\r\n}\r\n\r\n.post-content {\r\n  margin-bottom: 20rpx;\r\n  line-height: 1.6;\r\n  font-size: 28rpx;\r\n  color: #333;\r\n  white-space: pre-wrap;\r\n  word-break: break-word;\r\n}\r\n\r\n/* 帖子图片样式 */\r\n.post-image-container {\r\n  margin-top: 20rpx;\r\n  text-align: center;\r\n}\r\n\r\n.post-image {\r\n  max-width: 100%;\r\n  max-height: 400rpx;\r\n  border-radius: 12rpx;\r\n  box-shadow: 0 2rpx 8rpx rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n/* 多张图片样式 */\r\n.multiple-images {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  gap: 10rpx;\r\n  justify-content: center;\r\n}\r\n\r\n.image-item {\r\n  flex: 0 0 auto;\r\n}\r\n\r\n.post-image-small {\r\n  width: 200rpx;\r\n  height: 200rpx;\r\n  border-radius: 12rpx;\r\n  box-shadow: 0 2rpx 8rpx rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.post-footer {\r\n  display: flex;\r\n  justify-content: space-around;\r\n  align-items: center;\r\n  padding-top: 20rpx;\r\n  border-top: 1rpx solid #eee;\r\n}\r\n\r\n.action-item {\r\n  display: flex;\r\n  align-items: center;\r\n  color: #999;\r\n  font-size: 24rpx;\r\n  /* 优化触摸性能 */\r\n  touch-action: manipulation;\r\n  transition: transform 0.2s ease;\r\n}\r\n\r\n.action-item .count {\r\n  margin-left: 8rpx;\r\n}\r\n\r\n.action-item .count.liked {\r\n  color: #ff4757;\r\n  font-weight: 600;\r\n}\r\n\r\n.action-item:active {\r\n  opacity: 0.7;\r\n}\r\n\r\n.action-item.liked-disabled {\r\n  opacity: 0.6;\r\n  cursor: not-allowed;\r\n}\r\n\r\n.action-item.liked-disabled:active {\r\n  opacity: 0.6; /* 保持禁用状态，不响应点击效果 */\r\n}\r\n\r\n/* 追帖按钮样式 */\r\n.action-item.append-btn {\r\n  color: #28B389;\r\n}\r\n\r\n.action-item.append-btn .count {\r\n  color: #28B389;\r\n  font-weight: 500;\r\n}\r\n\r\n.action-item.append-btn:active {\r\n  opacity: 0.7;\r\n  transform: scale(0.95);\r\n}\r\n\r\n.no-posts-tip {\r\n  text-align: center;\r\n  padding: 40rpx;\r\n  color: #999;\r\n  font-size: 28rpx;\r\n}\r\n\r\n/* 鸡汤样式 */\r\n.soup-item {\r\n  background-color: #fff;\r\n  border-radius: 20rpx;\r\n  padding: 30rpx;\r\n  margin-bottom: 20rpx;\r\n  box-shadow: 0 2rpx 10rpx rgba(0,0,0,0.1);\r\n}\r\n\r\n.soup-header {\r\n  display: flex;\r\n  align-items: center;\r\n  margin-bottom: 20rpx;\r\n}\r\n\r\n.soup-content {\r\n  font-size: 28rpx;\r\n  line-height: 1.8;\r\n  color: #333;\r\n  margin-bottom: 20rpx;\r\n  font-style: italic;\r\n}\r\n\r\n.soup-footer {\r\n  border-top: 1rpx solid #f0f0f0;\r\n  padding-top: 20rpx;\r\n}\r\n\r\n/* 发布按钮 */\r\n.publish-btn {\r\n  position: fixed;\r\n  right: 30rpx;\r\n  bottom: 120rpx;\r\n  width: 100rpx;\r\n  height: 100rpx;\r\n  background-color: #28B389;\r\n  border-radius: 50%;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  box-shadow: 0 4rpx 20rpx rgba(40, 179, 137, 0.3);\r\n  z-index: 999;\r\n  /* 优化触摸性能 */\r\n  touch-action: manipulation;\r\n  transition: transform 0.2s ease;\r\n}\r\n\r\n.publish-btn:active {\r\n  transform: scale(0.95);\r\n}\r\n\r\n\r\n/* 发布弹出层样式 */\r\n.publish-modal {\r\n  background-color: #fff;\r\n  border-radius: 30rpx 30rpx 0 0;\r\n  max-height: 65vh;\r\n  min-height: 400rpx;\r\n  overflow: hidden;\r\n  display: flex;\r\n  flex-direction: column;\r\n  position: relative;\r\n  /* 优化触摸性能 */\r\n  touch-action: manipulation;\r\n  will-change: transform;\r\n  /* 防止滚动穿透 */\r\n  overscroll-behavior: contain;\r\n}\r\n\r\n.modal-header {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  padding: 30rpx;\r\n  border-bottom: 1rpx solid #f0f0f0;\r\n  flex-shrink: 0;\r\n}\r\n\r\n.modal-title {\r\n  font-size: 36rpx;\r\n  font-weight: 600;\r\n  color: #333;\r\n}\r\n\r\n.close-btn {\r\n  width: 60rpx;\r\n  height: 60rpx;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  border-radius: 50%;\r\n  background-color: #f5f5f5;\r\n}\r\n\r\n.modal-content {\r\n  padding: 30rpx;\r\n  flex: 1;\r\n  overflow-y: auto;\r\n  /* 优化滚动性能 */\r\n  -webkit-overflow-scrolling: touch;\r\n  /* 防止滚动穿透 */\r\n  overscroll-behavior: contain;\r\n  /* 优化触摸性能 */\r\n  touch-action: pan-y;\r\n}\r\n\r\n/* 期号标题 */\r\n.period-title {\r\n  text-align: center;\r\n  margin-bottom: 30rpx;\r\n}\r\n\r\n.period-text {\r\n  font-size: 36rpx;\r\n  font-weight: 600;\r\n  color: #333;\r\n}\r\n\r\n/* 协议确认 */\r\n.agreement-section {\r\n  margin-bottom: 20rpx;\r\n  padding: 20rpx;\r\n  background-color: #f8f8f8;\r\n  border-radius: 15rpx;\r\n}\r\n\r\n.checkbox-wrapper {\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n\r\n.custom-checkbox {\r\n  width: 40rpx;\r\n  height: 40rpx;\r\n  border: 2rpx solid #ddd;\r\n  border-radius: 6rpx;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  margin-right: 15rpx;\r\n  transition: all 0.3s ease;\r\n}\r\n\r\n.custom-checkbox.checked {\r\n  background-color: #ff4757;\r\n  border-color: #ff4757;\r\n}\r\n\r\n.checkmark {\r\n  color: #fff;\r\n  font-size: 24rpx;\r\n  font-weight: bold;\r\n}\r\n\r\n.agreement-text {\r\n  font-size: 26rpx;\r\n  color: #ff4757;\r\n}\r\n\r\n/* 功能按钮区域 */\r\n.function-buttons {\r\n  margin-bottom: 10rpx;\r\n}\r\n\r\n.button-row {\r\n  display: flex;\r\n  justify-content: space-around;\r\n  margin-bottom: 20rpx;\r\n}\r\n\r\n.button-row:last-child {\r\n  margin-bottom: 10rpx;\r\n}\r\n\r\n.function-btn {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  flex: 1;\r\n  margin: 0 15rpx;\r\n  /* 优化触摸性能 */\r\n  touch-action: manipulation;\r\n  transition: transform 0.2s ease;\r\n}\r\n\r\n.function-btn:active {\r\n  transform: scale(0.95);\r\n}\r\n\r\n.btn-icon {\r\n  width: 100rpx;\r\n  height: 100rpx;\r\n  border-radius: 50%;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  margin-bottom: 15rpx;\r\n  font-size: 32rpx;\r\n  font-weight: 600;\r\n  color: #fff;\r\n}\r\n\r\n.predict-icon {\r\n  background-color: #28B389;\r\n}\r\n\r\n.pattern-icon {\r\n  background-color: #ff6b35;\r\n}\r\n\r\n.filter-icon {\r\n  background-color: #9b59b6;\r\n}\r\n\r\n.soup-icon {\r\n  background-color: #3498db;\r\n}\r\n\r\n.btn-text {\r\n  font-size: 24rpx;\r\n  color: #333;\r\n  text-align: center;\r\n  line-height: 1.4;\r\n}\r\n\r\n/* 底部按钮 */\r\n.modal-footer {\r\n  padding: 30rpx;\r\n  border-top: 1rpx solid #f0f0f0;\r\n  text-align: center;\r\n  flex-shrink: 0;\r\n}\r\n\r\n.close-btn-modal {\r\n  background: transparent;\r\n  border: none;\r\n  color: #333;\r\n  font-size: 32rpx;\r\n  padding: 20rpx 40rpx;\r\n}\r\n\r\n/* 筛选弹窗样式 */\r\n.filter-dialog-mask {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  background-color: rgba(0, 0, 0, 0.5);\r\n  z-index: 1000;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n\r\n.filter-dialog {\r\n  width: 90%;\r\n  max-width: 600rpx;\r\n  background-color: #fff;\r\n  border-radius: 20rpx;\r\n  padding: 40rpx;\r\n  max-height: 80vh;\r\n  overflow-y: auto;\r\n  /* 优化滚动性能 */\r\n  -webkit-overflow-scrolling: touch;\r\n  /* 防止滚动穿透 */\r\n  overscroll-behavior: contain;\r\n  /* 优化触摸性能 */\r\n  touch-action: pan-y;\r\n}\r\n\r\n.filter-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin-bottom: 30rpx;\r\n  padding-bottom: 20rpx;\r\n  border-bottom: 1rpx solid #f0f0f0;\r\n}\r\n\r\n.filter-title {\r\n  font-size: 36rpx;\r\n  font-weight: 600;\r\n  color: #333;\r\n}\r\n\r\n.filter-period {\r\n  font-size: 24rpx;\r\n  color: #666;\r\n}\r\n\r\n.filter-section {\r\n  margin-bottom: 30rpx;\r\n}\r\n\r\n.section-title {\r\n  display: block;\r\n  font-size: 28rpx;\r\n  font-weight: 600;\r\n  color: #333;\r\n  margin-bottom: 10rpx;\r\n}\r\n\r\n.section-subtitle {\r\n  display: block;\r\n  font-size: 22rpx;\r\n  color: #999;\r\n  margin-bottom: 20rpx;\r\n}\r\n\r\n.filter-grid {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  gap: 15rpx;\r\n}\r\n\r\n.filter-item {\r\n  padding: 12rpx 20rpx;\r\n  background-color: #f5f5f5;\r\n  border-radius: 20rpx;\r\n  font-size: 24rpx;\r\n  color: #666;\r\n  border: 1rpx solid #e0e0e0;\r\n  transition: all 0.3s ease;\r\n}\r\n\r\n.filter-item.active {\r\n  background-color: #ff4757;\r\n  color: #fff;\r\n  border-color: #ff4757;\r\n}\r\n\r\n.filter-footer {\r\n  margin-top: 30rpx;\r\n  text-align: center;\r\n}\r\n\r\n.filter-buttons {\r\n  display: flex;\r\n  gap: 20rpx;\r\n}\r\n\r\n.clear-filter-btn {\r\n  flex: 1;\r\n  height: 80rpx;\r\n  background-color: #f5f5f5;\r\n  color: #666;\r\n  border: 1rpx solid #ddd;\r\n  border-radius: 40rpx;\r\n  font-size: 28rpx;\r\n  font-weight: 500;\r\n}\r\n\r\n.clear-filter-btn:active {\r\n  background-color: #e0e0e0;\r\n}\r\n\r\n.search-btn {\r\n  flex: 2;\r\n  height: 80rpx;\r\n  background-color: #ff4757;\r\n  color: #fff;\r\n  border: none;\r\n  border-radius: 40rpx;\r\n  font-size: 32rpx;\r\n  font-weight: 600;\r\n}\r\n\r\n.search-btn:active {\r\n  background-color: #e63946;\r\n}\r\n\r\n</style>\r\n","import MiniProgramPage from 'C:/Users/Administrator/Desktop/my-painting-rules-project/pages/forum/forum.vue'\nwx.createPage(MiniProgramPage)"],"names":["ref","onMounted","uni","apiGetIssueNo","apiPostListQuery","getAccount","apiPostLike"],"mappings":"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"}