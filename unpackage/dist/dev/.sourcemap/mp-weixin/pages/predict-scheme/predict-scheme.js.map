{"version":3,"file":"predict-scheme.js","sources":["pages/predict-scheme/predict-scheme.vue","D:/uniapp/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvcHJlZGljdC1zY2hlbWUvcHJlZGljdC1zY2hlbWUudnVl"],"sourcesContent":["<template>\r\n  <view class=\"scheme-container\">\r\n    <!-- 导航栏 -->\r\n    <view class=\"navbar\">\r\n      <view class=\"nav-content\">\r\n        <view class=\"nav-left\" @click=\"goBack\">\r\n          <text class=\"back-arrow\">‹</text>\r\n        </view>\r\n        <text class=\"nav-title\">{{ isAppendMode ? '追帖方案' : '设置方案' }}</text>\r\n        <view class=\"nav-right\"></view>\r\n      </view>\r\n    </view>\r\n    \r\n    <!-- 追帖模式提示 -->\r\n    <view v-if=\"isAppendMode && appendPostData\" class=\"append-mode-tip\">\r\n      <view class=\"tip-content\">\r\n        <uni-icons type=\"info\" size=\"16\" color=\"#28B389\"></uni-icons>\r\n        <text class=\"tip-text\">追帖模式：为帖子\"第{{ appendPostData.period }}期\"追加方案</text>\r\n      </view>\r\n    </view>\r\n    \r\n    <!-- 主要内容区域 -->\r\n    <view class=\"main-content\">\r\n      <!-- 左侧导航菜单 -->\r\n      <view class=\"sidebar\">\r\n        <scroll-view scroll-y class=\"menu-scroll\">\r\n          <view \r\n            class=\"menu-item\" \r\n            :class=\"{ \r\n              active: activeScheme === scheme.id,\r\n              published: isSchemePublished(scheme.id),\r\n              disabled: !isFromPatternPredict && isSchemePublished(scheme.id)\r\n            }\"\r\n            v-for=\"scheme in schemeList\" \r\n            :key=\"scheme.id\"\r\n            @click=\"selectScheme(scheme.id)\"\r\n          >\r\n            <text class=\"menu-text\">{{ scheme.name }}</text>\r\n            <view class=\"menu-icons\">\r\n            <uni-icons v-if=\"activeScheme === scheme.id\" type=\"checkmarkempty\" size=\"16\" color=\"#ff4757\"></uni-icons>\r\n              <uni-icons v-if=\"isSchemePublished(scheme.id)\" type=\"checkmarkempty\" size=\"16\" color=\"#28B389\"></uni-icons>\r\n            </view>\r\n          </view>\r\n          <!-- 底部标签 -->\r\n          <view class=\"menu-footer\">\r\n            <text class=\"footer-text\">方案列表</text>\r\n            <!-- 测试按钮 -->\r\n            <view class=\"test-buttons\">\r\n              <button class=\"test-btn\" @click=\"testPublishedScheme\">获取已发布</button>\r\n              <button class=\"test-btn\" @click=\"clearTestData\">清除数据</button>\r\n            </view>\r\n          </view>\r\n        </scroll-view>\r\n      </view>\r\n      \r\n      <!-- 右侧配置区域 -->\r\n      <view class=\"config-area\">\r\n        <!-- 二字现特殊选择区域 -->\r\n        <view v-if=\"activeScheme === '二字现'\" class=\"combination-section\">\r\n          <view class=\"digit-label\">\r\n            <text class=\"label-text\">任选二</text>\r\n            <text class=\"limit-text\">最多选4组</text>\r\n          </view>\r\n          <view class=\"sequence-tip\" v-if=\"getSequenceStatus()\">\r\n            <text class=\"tip-text\">{{ getSequenceStatus() }}</text>\r\n          </view>\r\n          <view class=\"number-grid\">\r\n            <view \r\n              class=\"number-item\"\r\n              v-for=\"num in 10\" \r\n              :key=\"num\"\r\n              @click=\"toggleNumber('combination', num)\"\r\n            >\r\n              <text class=\"number-text\">{{ num - 1 }}</text>\r\n            </view>\r\n          </view>\r\n        </view>\r\n        \r\n        <!-- 三字现特殊选择区域 -->\r\n        <view v-if=\"activeScheme === '三字现'\" class=\"combination-section\">\r\n          <view class=\"digit-label\">\r\n            <text class=\"label-text\">任选三</text>\r\n            <text class=\"limit-text\">最多选15组</text>\r\n          </view>\r\n          <view class=\"sequence-tip\" v-if=\"getSequenceStatus()\">\r\n            <text class=\"tip-text\">{{ getSequenceStatus() }}</text>\r\n          </view>\r\n          <view class=\"number-grid\">\r\n            <view \r\n              class=\"number-item\"\r\n              v-for=\"num in 10\" \r\n              :key=\"num\"\r\n              @click=\"toggleNumber('combination', num)\"\r\n            >\r\n              <text class=\"number-text\">{{ num - 1 }}</text>\r\n            </view>\r\n          </view>\r\n        </view>\r\n        \r\n        <!-- 千位选择 -->\r\n        <view v-if=\"activeScheme !== '二字现' && activeScheme !== '三字现' && currentSchemeDigits.includes('thousands')\" class=\"digit-section\">\r\n          <view class=\"digit-label\">\r\n            <text class=\"label-text\">{{ activeScheme === '头尾合' ? '头尾合' : (activeScheme === '千百合' ? '千百合' : (activeScheme === '千十合' ? '千十合' : '千位')) }}</text>\r\n            <text class=\"limit-text\">{{ (activeScheme === '杀头' || activeScheme === '杀百' || activeScheme === '杀十' || activeScheme === '杀尾' || activeScheme === '稳码') ? '最多选2个' : '最多选6个' }}</text>\r\n          </view>\r\n          <view class=\"number-grid\">\r\n            <view \r\n              class=\"number-item\" \r\n              :class=\"{ selected: selectedThousands.includes(num - 1) }\"\r\n              v-for=\"num in 10\" \r\n              :key=\"num\"\r\n              @click=\"toggleNumber('thousands', num)\"\r\n            >\r\n              <text class=\"number-text\">{{ num - 1 }}</text>\r\n            </view>\r\n          </view>\r\n          <!-- 主攻按钮 -->\r\n          <view v-if=\"shouldShowMainAttack('thousands')\" class=\"main-attack-btn\" @click=\"showMainAttack('thousands')\">\r\n            <text class=\"main-attack-text\">主攻?</text>\r\n          </view>\r\n          <!-- 重点按钮 -->\r\n          <view v-if=\"shouldShowKeyPoint('thousands')\" class=\"key-point-btn\" @click=\"showKeyPoint('thousands')\">\r\n            <text class=\"key-point-text\">重点?</text>\r\n          </view>\r\n        </view>\r\n        \r\n        <!-- 百位选择 -->\r\n        <view v-if=\"activeScheme !== '二字现' && activeScheme !== '三字现' && currentSchemeDigits.includes('hundreds')\" class=\"digit-section\">\r\n          <view class=\"digit-label\">\r\n            <text class=\"label-text\">{{ activeScheme === '中肚合' ? '中肚合' : (activeScheme === '千百合' ? '千百合' : (activeScheme === '百个合' ? '百个合' : '百位')) }}</text>\r\n            <text class=\"limit-text\">{{ (activeScheme === '杀头' || activeScheme === '杀百' || activeScheme === '杀十' || activeScheme === '杀尾' || activeScheme === '稳码') ? '最多选2个' : '最多选6个' }}</text>\r\n          </view>\r\n          <view class=\"number-grid\">\r\n            <view \r\n              class=\"number-item\" \r\n              :class=\"{ selected: selectedHundreds.includes(num - 1) }\"\r\n              v-for=\"num in 10\" \r\n              :key=\"num\"\r\n              @click=\"toggleNumber('hundreds', num)\"\r\n            >\r\n              <text class=\"number-text\">{{ num - 1 }}</text>\r\n            </view>\r\n          </view>\r\n          <!-- 主攻按钮 -->\r\n          <view v-if=\"shouldShowMainAttack('hundreds')\" class=\"main-attack-btn\" @click=\"showMainAttack('hundreds')\">\r\n            <text class=\"main-attack-text\">主攻?</text>\r\n          </view>\r\n          <!-- 重点按钮 -->\r\n          <view v-if=\"shouldShowKeyPoint('hundreds')\" class=\"key-point-btn\" @click=\"showKeyPoint('hundreds')\">\r\n            <text class=\"key-point-text\">重点?</text>\r\n          </view>\r\n        </view>\r\n        \r\n        <!-- 十位选择 -->\r\n        <view v-if=\"activeScheme !== '二字现' && activeScheme !== '三字现' && activeScheme !== '定头' && activeScheme !== '定百' && activeScheme !== '杀百' && currentSchemeDigits.includes('tens')\" class=\"digit-section\">\r\n          <view class=\"digit-label\">\r\n            <text class=\"label-text\">{{ activeScheme === '中肚合' ? '中肚合' : (activeScheme === '十个合' ? '十个合' : '十位') }}</text>\r\n            <text class=\"limit-text\">{{ (activeScheme === '杀头' || activeScheme === '杀百' || activeScheme === '杀十' || activeScheme === '杀尾' || activeScheme === '稳码') ? '最多选2个' : '最多选6个' }}</text>\r\n          </view>\r\n          <view class=\"number-grid\">\r\n            <view \r\n              class=\"number-item\" \r\n              :class=\"{ selected: selectedTens.includes(num - 1) }\"\r\n              v-for=\"num in 10\" \r\n              :key=\"num\"\r\n              @click=\"toggleNumber('tens', num)\"\r\n            >\r\n              <text class=\"number-text\">{{ num - 1 }}</text>\r\n            </view>\r\n          </view>\r\n          <!-- 主攻按钮 -->\r\n          <view v-if=\"shouldShowMainAttack('tens')\" class=\"main-attack-btn\" @click=\"showMainAttack('tens')\">\r\n            <text class=\"main-attack-text\">主攻?</text>\r\n          </view>\r\n          <!-- 重点按钮 -->\r\n          <view v-if=\"shouldShowKeyPoint('tens')\" class=\"key-point-btn\" @click=\"showKeyPoint('tens')\">\r\n            <text class=\"key-point-text\">重点?</text>\r\n          </view>\r\n        </view>\r\n        \r\n        <!-- 个位选择 -->\r\n        <view v-if=\"activeScheme !== '二字现' && activeScheme !== '三字现' && activeScheme !== '定头' && activeScheme !== '定百' && activeScheme !== '杀百' && activeScheme !== '杀十' && currentSchemeDigits.includes('units')\" class=\"digit-section\">\r\n          <view class=\"digit-label\">\r\n            <text class=\"label-text\">{{ \r\n              activeScheme === '稳码' ? '' : \r\n              activeScheme === '头尾合' ? '头尾合' : \r\n              activeScheme === '死数' ? '死数' : \r\n              activeScheme === '头尾不合' ? '头尾不合' :\r\n              activeScheme === '中肚不合' ? '中肚不合' :\r\n              activeScheme === '千百不合' ? '千百不合' :\r\n              activeScheme === '千十不合' ? '千十不合' :\r\n              activeScheme === '百个不合' ? '百个不合' :\r\n              activeScheme === '十个不合' ? '十个不合' : '个位'\r\n            }}</text>\r\n            <text class=\"limit-text\">{{ (activeScheme === '杀头' || activeScheme === '杀百' || activeScheme === '杀十' || activeScheme === '杀尾' || activeScheme === '稳码' || activeScheme === '头尾不合' || activeScheme === '中肚不合' || activeScheme === '千百不合' || activeScheme === '千十不合' || activeScheme === '百个不合' || activeScheme === '十个不合') ? '最多选2个' : (activeScheme === '死数' ? '只选1个' : '最多选6个') }}</text>\r\n          </view>\r\n          <view class=\"number-grid\">\r\n            <view \r\n              class=\"number-item\" \r\n              :class=\"{ selected: selectedUnits.includes(num - 1) }\"\r\n              v-for=\"num in 10\" \r\n              :key=\"num\"\r\n              @click=\"toggleNumber('units', num)\"\r\n            >\r\n              <text class=\"number-text\">{{ num - 1 }}</text>\r\n            </view>\r\n          </view>\r\n          <!-- 主攻按钮 -->\r\n          <view v-if=\"shouldShowMainAttack('units')\" class=\"main-attack-btn\" @click=\"showMainAttack('units')\">\r\n            <text class=\"main-attack-text\">主攻?</text>\r\n          </view>\r\n          <!-- 重点按钮 -->\r\n          <view v-if=\"shouldShowKeyPoint('units')\" class=\"key-point-btn\" @click=\"showKeyPoint('units')\">\r\n            <text class=\"key-point-text\">重点?</text>\r\n          </view>\r\n        </view>\r\n        \r\n        <!-- 方案预览 -->\r\n        <view class=\"scheme-preview\">\r\n          <text class=\"preview-text\">[{{ currentSchemeName }}]</text>\r\n          <!-- 二字现特殊显示 -->\r\n          <text v-if=\"activeScheme === '二字现'\" class=\"preview-text\">组合: {{ formatCombinations(selectedCombinations) || '未选择' }}</text>\r\n          <!-- 三字现特殊显示 -->\r\n          <text v-if=\"activeScheme === '三字现'\" class=\"preview-text\">组合: {{ formatCombinations(selectedCombinations) || '未选择' }}</text>\r\n          <!-- 其他方案显示 -->\r\n          <text v-if=\"activeScheme !== '二字现' && activeScheme !== '三字现' && activeScheme !== '头尾合' && activeScheme !== '千百合' && activeScheme !== '千十合' && currentSchemeDigits.includes('thousands')\" class=\"preview-text\">千位: {{ selectedThousands.join('') || '未选择' }}</text>\r\n          <text v-if=\"activeScheme !== '二字现' && activeScheme !== '三字现' && activeScheme !== '头尾合' && activeScheme !== '千百合' && activeScheme !== '千十合' && currentSchemeDigits.includes('thousands') && schemeData[activeScheme]?.thousandsMainAttack\" class=\"preview-text\">主{{ schemeData[activeScheme].thousandsMainAttack.join('') }}</text>\r\n          <text v-if=\"activeScheme !== '二字现' && activeScheme !== '三字现' && activeScheme !== '头尾合' && activeScheme !== '千百合' && activeScheme !== '千十合' && currentSchemeDigits.includes('thousands') && schemeData[activeScheme]?.thousandsKeyPoint\" class=\"preview-text\">重{{ schemeData[activeScheme].thousandsKeyPoint.join('') }}</text>\r\n          <!-- 定头方案显示 -->\r\n          <text v-if=\"activeScheme === '定头' && selectedThousands.length > 0\" class=\"preview-text\">千位: {{ selectedThousands.join('') }}</text>\r\n          <text v-if=\"activeScheme === '定头' && schemeData[activeScheme]?.mainAttack\" class=\"preview-text\">主{{ schemeData[activeScheme].mainAttack.join('') }}</text>\r\n          <text v-if=\"activeScheme === '定头' && schemeData[activeScheme]?.keyPoint\" class=\"preview-text\">重{{ schemeData[activeScheme].keyPoint.join('') }}</text>\r\n          <!-- 定百方案显示 -->\r\n          <text v-if=\"activeScheme === '定百' && selectedHundreds.length > 0\" class=\"preview-text\">百位: {{ selectedHundreds.join('') }}</text>\r\n          <text v-if=\"activeScheme === '定百' && schemeData[activeScheme]?.mainAttack\" class=\"preview-text\">主{{ schemeData[activeScheme].mainAttack.join('') }}</text>\r\n          <text v-if=\"activeScheme === '定百' && schemeData[activeScheme]?.keyPoint\" class=\"preview-text\">重{{ schemeData[activeScheme].keyPoint.join('') }}</text>\r\n          <!-- 定十方案显示 -->\r\n          <text v-if=\"activeScheme === '定十' && selectedTens.length > 0\" class=\"preview-text\">十位: {{ selectedTens.join('') }}</text>\r\n          <text v-if=\"activeScheme === '定十' && schemeData[activeScheme]?.mainAttack\" class=\"preview-text\">主{{ schemeData[activeScheme].mainAttack.join('') }}</text>\r\n          <text v-if=\"activeScheme === '定十' && schemeData[activeScheme]?.keyPoint\" class=\"preview-text\">重{{ schemeData[activeScheme].keyPoint.join('') }}</text>\r\n          <!-- 定尾方案显示 -->\r\n          <text v-if=\"activeScheme === '定尾' && selectedUnits.length > 0\" class=\"preview-text\">个位: {{ selectedUnits.join('') }}</text>\r\n          <text v-if=\"activeScheme === '定尾' && schemeData[activeScheme]?.mainAttack\" class=\"preview-text\">主{{ schemeData[activeScheme].mainAttack.join('') }}</text>\r\n          <text v-if=\"activeScheme === '定尾' && schemeData[activeScheme]?.keyPoint\" class=\"preview-text\">重{{ schemeData[activeScheme].keyPoint.join('') }}</text>\r\n          <!-- 杀头方案显示 -->\r\n          <text v-if=\"activeScheme === '杀头' && selectedThousands.length > 0\" class=\"preview-text\">千位: {{ selectedThousands.join('') }}</text>\r\n          <!-- 杀百方案显示 -->\r\n          <text v-if=\"activeScheme === '杀百' && selectedHundreds.length > 0\" class=\"preview-text\">百位: {{ selectedHundreds.join('') }}</text>\r\n          <!-- 杀十方案显示 -->\r\n          <text v-if=\"activeScheme === '杀十' && selectedTens.length > 0\" class=\"preview-text\">十位: {{ selectedTens.join('') }}</text>\r\n          <!-- 杀尾方案显示 -->\r\n          <text v-if=\"activeScheme === '杀尾' && selectedUnits.length > 0\" class=\"preview-text\">个位: {{ selectedUnits.join('') }}</text>\r\n          <!-- 稳码方案显示 -->\r\n          <text v-if=\"activeScheme === '稳码' && selectedUnits.length > 0\" class=\"preview-text\">稳码: {{ selectedUnits.join('') }}</text>\r\n          <!-- 死数方案显示 -->\r\n          <text v-if=\"activeScheme === '死数' && selectedUnits.length > 0\" class=\"preview-text\">死数: {{ selectedUnits.join('') }}</text>\r\n          <!-- 头尾不合方案显示 -->\r\n          <text v-if=\"activeScheme === '头尾不合' && selectedUnits.length > 0\" class=\"preview-text\">头尾不合: {{ selectedUnits.join('') }}</text>\r\n          <!-- 中肚不合方案显示 -->\r\n          <text v-if=\"activeScheme === '中肚不合' && selectedUnits.length > 0\" class=\"preview-text\">中肚不合: {{ selectedUnits.join('') }}</text>\r\n          <!-- 千百不合方案显示 -->\r\n          <text v-if=\"activeScheme === '千百不合' && selectedUnits.length > 0\" class=\"preview-text\">千百不合: {{ selectedUnits.join('') }}</text>\r\n          <!-- 千十不合方案显示 -->\r\n          <text v-if=\"activeScheme === '千十不合' && selectedUnits.length > 0\" class=\"preview-text\">千十不合: {{ selectedUnits.join('') }}</text>\r\n          <!-- 百个不合方案显示 -->\r\n          <text v-if=\"activeScheme === '百个不合' && selectedUnits.length > 0\" class=\"preview-text\">百个不合: {{ selectedUnits.join('') }}</text>\r\n          <!-- 十个不合方案显示 -->\r\n          <text v-if=\"activeScheme === '十个不合' && selectedUnits.length > 0\" class=\"preview-text\">十个不合: {{ selectedUnits.join('') }}</text>\r\n          <!-- 头尾合方案显示 -->\r\n          <text v-if=\"activeScheme === '头尾合' && (selectedThousands.length > 0 || selectedHundreds.length > 0 || selectedTens.length > 0 || selectedUnits.length > 0)\" class=\"preview-text\">{{ (selectedThousands.join('') + selectedHundreds.join('') + selectedTens.join('') + selectedUnits.join('')) || '未选择' }}</text>\r\n          <text v-if=\"activeScheme === '头尾合' && schemeData[activeScheme]?.mainAttack\" class=\"preview-text\">主{{ schemeData[activeScheme].mainAttack.join('') }}</text>\r\n          <text v-if=\"activeScheme === '头尾合' && schemeData[activeScheme]?.keyPoint\" class=\"preview-text\">重{{ schemeData[activeScheme].keyPoint.join('') }}</text>\r\n          <!-- 中肚合方案显示 -->\r\n          <text v-if=\"activeScheme === '中肚合' && (selectedThousands.length > 0 || selectedHundreds.length > 0 || selectedTens.length > 0 || selectedUnits.length > 0)\" class=\"preview-text\">{{ (selectedThousands.join('') + selectedHundreds.join('') + selectedTens.join('') + selectedUnits.join('')) || '未选择' }}</text>\r\n          <text v-if=\"activeScheme === '中肚合' && schemeData[activeScheme]?.mainAttack\" class=\"preview-text\">主{{ schemeData[activeScheme].mainAttack.join('') }}</text>\r\n          <text v-if=\"activeScheme === '中肚合' && schemeData[activeScheme]?.keyPoint\" class=\"preview-text\">重{{ schemeData[activeScheme].keyPoint.join('') }}</text>\r\n          <!-- 千百合方案显示 -->\r\n          <text v-if=\"activeScheme === '千百合' && (selectedThousands.length > 0 || selectedHundreds.length > 0 || selectedTens.length > 0 || selectedUnits.length > 0)\" class=\"preview-text\">{{ (selectedThousands.join('') + selectedHundreds.join('') + selectedTens.join('') + selectedUnits.join('')) || '未选择' }}</text>\r\n          <text v-if=\"activeScheme === '千百合' && schemeData[activeScheme]?.mainAttack\" class=\"preview-text\">主{{ schemeData[activeScheme].mainAttack.join('') }}</text>\r\n          <text v-if=\"activeScheme === '千百合' && schemeData[activeScheme]?.keyPoint\" class=\"preview-text\">重{{ schemeData[activeScheme].keyPoint.join('') }}</text>\r\n          <!-- 千十合方案显示 -->\r\n          <text v-if=\"activeScheme === '千十合' && (selectedThousands.length > 0 || selectedHundreds.length > 0 || selectedTens.length > 0 || selectedUnits.length > 0)\" class=\"preview-text\">{{ (selectedThousands.join('') + selectedHundreds.join('') + selectedTens.join('') + selectedUnits.join('')) || '未选择' }}</text>\r\n          <text v-if=\"activeScheme === '千十合' && schemeData[activeScheme]?.mainAttack\" class=\"preview-text\">主{{ schemeData[activeScheme].mainAttack.join('') }}</text>\r\n          <text v-if=\"activeScheme === '千十合' && schemeData[activeScheme]?.keyPoint\" class=\"preview-text\">重{{ schemeData[activeScheme].keyPoint.join('') }}</text>\r\n          <!-- 百个合方案显示 -->\r\n          <text v-if=\"activeScheme === '百个合' && (selectedThousands.length > 0 || selectedHundreds.length > 0 || selectedTens.length > 0 || selectedUnits.length > 0)\" class=\"preview-text\">{{ (selectedThousands.join('') + selectedHundreds.join('') + selectedTens.join('') + selectedUnits.join('')) || '未选择' }}</text>\r\n          <text v-if=\"activeScheme === '百个合' && schemeData[activeScheme]?.mainAttack\" class=\"preview-text\">主{{ schemeData[activeScheme].mainAttack.join('') }}</text>\r\n          <text v-if=\"activeScheme === '百个合' && schemeData[activeScheme]?.keyPoint\" class=\"preview-text\">重{{ schemeData[activeScheme].keyPoint.join('') }}</text>\r\n          <!-- 十个合方案显示 -->\r\n          <text v-if=\"activeScheme === '十个合' && (selectedThousands.length > 0 || selectedHundreds.length > 0 || selectedTens.length > 0 || selectedUnits.length > 0)\" class=\"preview-text\">{{ (selectedThousands.join('') + selectedHundreds.join('') + selectedTens.join('') + selectedUnits.join('')) || '未选择' }}</text>\r\n          <text v-if=\"activeScheme === '十个合' && schemeData[activeScheme]?.mainAttack\" class=\"preview-text\">主{{ schemeData[activeScheme].mainAttack.join('') }}</text>\r\n          <text v-if=\"activeScheme === '十个合' && schemeData[activeScheme]?.keyPoint\" class=\"preview-text\">重{{ schemeData[activeScheme].keyPoint.join('') }}</text>\r\n          <text v-if=\"activeScheme !== '二字现' && activeScheme !== '三字现' && activeScheme !== '定头' && activeScheme !== '定百' && activeScheme !== '定十' && activeScheme !== '定尾' && activeScheme !== '杀头' && activeScheme !== '杀百' && activeScheme !== '杀十' && activeScheme !== '杀尾' && activeScheme !== '稳码' && activeScheme !== '死数' && activeScheme !== '头尾不合' && activeScheme !== '中肚不合' && activeScheme !== '千百不合' && activeScheme !== '千十不合' && activeScheme !== '百个不合' && activeScheme !== '十个不合' && activeScheme !== '头尾合' && activeScheme !== '中肚合' && activeScheme !== '千百合' && activeScheme !== '千十合' && activeScheme !== '百个合' && activeScheme !== '十个合' && currentSchemeDigits.includes('hundreds')\" class=\"preview-text\">百位: {{ selectedHundreds.join('') || '未选择' }}</text>\r\n          <text v-if=\"activeScheme !== '二字现' && activeScheme !== '三字现' && activeScheme !== '定头' && activeScheme !== '定百' && activeScheme !== '定十' && activeScheme !== '定尾' && activeScheme !== '杀头' && activeScheme !== '杀百' && activeScheme !== '杀十' && activeScheme !== '杀尾' && activeScheme !== '稳码' && activeScheme !== '死数' && activeScheme !== '头尾不合' && activeScheme !== '中肚不合' && activeScheme !== '千百不合' && activeScheme !== '千十不合' && activeScheme !== '百个不合' && activeScheme !== '十个不合' && activeScheme !== '头尾合' && activeScheme !== '中肚合' && activeScheme !== '千百合' && activeScheme !== '千十合' && activeScheme !== '百个合' && activeScheme !== '十个合' && currentSchemeDigits.includes('hundreds') && schemeData[activeScheme]?.hundredsMainAttack\" class=\"preview-text\">主{{ schemeData[activeScheme].hundredsMainAttack.join('') }}</text>\r\n          <text v-if=\"activeScheme !== '二字现' && activeScheme !== '三字现' && activeScheme !== '定头' && activeScheme !== '定百' && activeScheme !== '定十' && activeScheme !== '定尾' && activeScheme !== '杀头' && activeScheme !== '杀百' && activeScheme !== '杀十' && activeScheme !== '杀尾' && activeScheme !== '稳码' && activeScheme !== '死数' && activeScheme !== '头尾不合' && activeScheme !== '中肚不合' && activeScheme !== '千百不合' && activeScheme !== '千十不合' && activeScheme !== '百个不合' && activeScheme !== '十个不合' && activeScheme !== '头尾合' && activeScheme !== '中肚合' && activeScheme !== '千百合' && activeScheme !== '千十合' && activeScheme !== '百个合' && activeScheme !== '十个合' && currentSchemeDigits.includes('hundreds') && schemeData[activeScheme]?.hundredsKeyPoint\" class=\"preview-text\">重{{ schemeData[activeScheme].hundredsKeyPoint.join('') }}</text>\r\n          <text v-if=\"activeScheme !== '二字现' && activeScheme !== '三字现' && activeScheme !== '定头' && activeScheme !== '定百' && activeScheme !== '定十' && activeScheme !== '定尾' && activeScheme !== '杀头' && activeScheme !== '杀百' && activeScheme !== '杀十' && activeScheme !== '杀尾' && activeScheme !== '稳码' && activeScheme !== '死数' && activeScheme !== '头尾不合' && activeScheme !== '中肚不合' && activeScheme !== '千百不合' && activeScheme !== '千十不合' && activeScheme !== '百个不合' && activeScheme !== '十个不合' && activeScheme !== '头尾合' && activeScheme !== '中肚合' && activeScheme !== '千百合' && activeScheme !== '千十合' && activeScheme !== '百个合' && activeScheme !== '十个合' && currentSchemeDigits.includes('tens')\" class=\"preview-text\">十位: {{ selectedTens.join('') || '未选择' }}</text>\r\n          <text v-if=\"activeScheme !== '二字现' && activeScheme !== '三字现' && activeScheme !== '定头' && activeScheme !== '定百' && activeScheme !== '定十' && activeScheme !== '定尾' && activeScheme !== '杀头' && activeScheme !== '杀百' && activeScheme !== '杀十' && activeScheme !== '杀尾' && activeScheme !== '稳码' && activeScheme !== '死数' && activeScheme !== '头尾不合' && activeScheme !== '中肚不合' && activeScheme !== '千百不合' && activeScheme !== '千十不合' && activeScheme !== '百个不合' && activeScheme !== '十个不合' && activeScheme !== '头尾合' && activeScheme !== '中肚合' && activeScheme !== '千百合' && activeScheme !== '千十合' && activeScheme !== '百个合' && activeScheme !== '十个合' && currentSchemeDigits.includes('tens') && schemeData[activeScheme]?.tensMainAttack\" class=\"preview-text\">主{{ schemeData[activeScheme].tensMainAttack.join('') }}</text>\r\n          <text v-if=\"activeScheme !== '二字现' && activeScheme !== '三字现' && activeScheme !== '定头' && activeScheme !== '定百' && activeScheme !== '定十' && activeScheme !== '定尾' && activeScheme !== '杀头' && activeScheme !== '杀百' && activeScheme !== '杀十' && activeScheme !== '杀尾' && activeScheme !== '稳码' && activeScheme !== '死数' && activeScheme !== '头尾不合' && activeScheme !== '中肚不合' && activeScheme !== '千百不合' && activeScheme !== '千十不合' && activeScheme !== '百个不合' && activeScheme !== '十个不合' && activeScheme !== '头尾合' && activeScheme !== '中肚合' && activeScheme !== '千百合' && activeScheme !== '千十合' && activeScheme !== '百个合' && activeScheme !== '十个合' && currentSchemeDigits.includes('tens') && schemeData[activeScheme]?.tensKeyPoint\" class=\"preview-text\">重{{ schemeData[activeScheme].tensKeyPoint.join('') }}</text>\r\n          <text v-if=\"activeScheme !== '二字现' && activeScheme !== '三字现' && activeScheme !== '定头' && activeScheme !== '定百' && activeScheme !== '定十' && activeScheme !== '定尾' && activeScheme !== '杀头' && activeScheme !== '杀百' && activeScheme !== '杀十' && activeScheme !== '杀尾' && activeScheme !== '稳码' && activeScheme !== '死数' && activeScheme !== '头尾不合' && activeScheme !== '中肚不合' && activeScheme !== '千百不合' && activeScheme !== '千十不合' && activeScheme !== '百个不合' && activeScheme !== '十个不合' && activeScheme !== '头尾合' && activeScheme !== '中肚合' && activeScheme !== '千百合' && activeScheme !== '千十合' && activeScheme !== '百个合' && activeScheme !== '十个合' && currentSchemeDigits.includes('units')\" class=\"preview-text\">个位: {{ selectedUnits.join('') || '未选择' }}</text>\r\n          <text v-if=\"activeScheme !== '二字现' && activeScheme !== '三字现' && activeScheme !== '定头' && activeScheme !== '定百' && activeScheme !== '定十' && activeScheme !== '定尾' && activeScheme !== '杀头' && activeScheme !== '杀百' && activeScheme !== '杀十' && activeScheme !== '杀尾' && activeScheme !== '稳码' && activeScheme !== '死数' && activeScheme !== '头尾不合' && activeScheme !== '中肚不合' && activeScheme !== '千百不合' && activeScheme !== '千十不合' && activeScheme !== '百个不合' && activeScheme !== '十个不合' && activeScheme !== '头尾合' && activeScheme !== '中肚合' && activeScheme !== '千百合' && activeScheme !== '千十合' && activeScheme !== '百个合' && activeScheme !== '十个合' && currentSchemeDigits.includes('units') && schemeData[activeScheme]?.unitsMainAttack\" class=\"preview-text\">主{{ schemeData[activeScheme].unitsMainAttack.join('') }}</text>\r\n          <text v-if=\"activeScheme !== '二字现' && activeScheme !== '三字现' && activeScheme !== '定头' && activeScheme !== '定百' && activeScheme !== '定十' && activeScheme !== '定尾' && activeScheme !== '杀头' && activeScheme !== '杀百' && activeScheme !== '杀十' && activeScheme !== '杀尾' && activeScheme !== '稳码' && activeScheme !== '死数' && activeScheme !== '头尾不合' && activeScheme !== '中肚不合' && activeScheme !== '千百不合' && activeScheme !== '千十不合' && activeScheme !== '百个不合' && activeScheme !== '十个不合' && activeScheme !== '头尾合' && activeScheme !== '中肚合' && activeScheme !== '千百合' && activeScheme !== '千十合' && activeScheme !== '百个合' && activeScheme !== '十个合' && currentSchemeDigits.includes('units') && schemeData[activeScheme]?.unitsKeyPoint\" class=\"preview-text\">重{{ schemeData[activeScheme].unitsKeyPoint.join('') }}</text>\r\n        </view>\r\n        \r\n        <!-- 操作按钮 -->\r\n        <view class=\"action-buttons\">\r\n          <button class=\"clear-btn\" @click=\"clearScheme\">清除方案</button>\r\n          <button class=\"update-btn\" @click=\"addScheme\">添加方案</button>\r\n        </view>\r\n      </view>\r\n    </view>\r\n    \r\n    <!-- 浮动发布按钮 -->\r\n    <view class=\"floating-btn\" @click=\"goToPublish\">\r\n      <text class=\"btn-text\">去发布</text>\r\n      <text class=\"btn-step\">{{ publishButtonText }}</text>\r\n    </view>\r\n    \r\n    \r\n    <!-- 保存提示弹窗 -->\r\n    <view v-if=\"showSaveDialog\" class=\"save-dialog-mask\" @click=\"dontSaveScheme\">\r\n      <view class=\"save-dialog\" @click.stop>\r\n        <text class=\"dialog-title\">提示</text>\r\n        <text class=\"dialog-message\">[{{ currentSchemeName }}] 方案内容有更改,是否需要先保存?</text>\r\n        <view class=\"dialog-buttons\">\r\n          <button class=\"dialog-btn cancel-btn\" @click=\"dontSaveScheme\">不保存</button>\r\n          <button class=\"dialog-btn save-btn\" @click=\"saveScheme\">保存</button>\r\n        </view>\r\n      </view>\r\n    </view>\r\n    \r\n    <!-- 主攻选择弹窗 -->\r\n    <view v-if=\"showMainAttackDialog\" class=\"main-attack-dialog-mask\" @click=\"hideMainAttack\">\r\n      <view class=\"main-attack-dialog\" @click.stop>\r\n        <text class=\"dialog-title\">{{ getMainAttackTitle() }}: 选择主攻</text>\r\n        <view class=\"main-attack-numbers\">\r\n          <view \r\n            class=\"main-attack-number-item\"\r\n            :class=\"{ selected: isMainAttackSelected(num) }\"\r\n            v-for=\"num in mainAttackNumbers\" \r\n            :key=\"num\"\r\n            @click=\"toggleMainAttackNumber(num)\"\r\n          >\r\n            <text class=\"main-attack-number-text\">{{ num }}</text>\r\n          </view>\r\n        </view>\r\n        <view class=\"dialog-buttons\">\r\n          <button class=\"dialog-btn cancel-btn\" @click=\"hideMainAttack\">关闭</button>\r\n          <button class=\"dialog-btn save-btn\" @click=\"confirmMainAttack\">确定</button>\r\n        </view>\r\n      </view>\r\n    </view>\r\n    \r\n    <!-- 重点选择弹窗 -->\r\n    <view v-if=\"showKeyPointDialog\" class=\"main-attack-dialog-mask\" @click=\"hideKeyPoint\">\r\n      <view class=\"main-attack-dialog\" @click.stop>\r\n        <text class=\"dialog-title\">{{ getMainAttackTitle() }}: 选择重点</text>\r\n        <view class=\"main-attack-numbers\">\r\n          <view \r\n            class=\"main-attack-number-item\"\r\n            :class=\"{ selected: isKeyPointSelected(num) }\"\r\n            v-for=\"num in keyPointNumbers\" \r\n            :key=\"num\"\r\n            @click=\"toggleKeyPointNumber(num)\"\r\n          >\r\n            <text class=\"main-attack-number-text\">{{ num }}</text>\r\n          </view>\r\n        </view>\r\n        <view class=\"dialog-buttons\">\r\n          <button class=\"dialog-btn cancel-btn\" @click=\"hideKeyPoint\">关闭</button>\r\n          <button class=\"dialog-btn save-btn\" @click=\"confirmKeyPoint\">确定</button>\r\n        </view>\r\n      </view>\r\n    </view>\r\n  </view>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, computed, onMounted, onUnmounted } from 'vue'\r\nimport { apiGetIssueNo, apiPostListQuery } from '@/api/apis.js'\r\n\r\n// 当前选中的方案\r\nconst activeScheme = ref('AXCX')\r\n\r\n// 彩票类型和期号相关\r\nconst lotteryTypes = ref([\r\n  { id: 16, name: '排列三', code: 'pl3', status: '待开奖', time: '今天 21:30' },\r\n  { id: 17, name: '排列五', code: 'pl5', status: '待开奖', time: '今天 21:30' },\r\n  { id: 15, name: '七星彩', code: 'qxc', status: '待开奖', time: '今天 21:30' },\r\n  { id: 12, name: '福彩3D', code: 'fc3d', status: '待开奖', time: '今天 21:30' }\r\n])\r\n\r\n// 当前选中的彩票类型\r\nconst currentLotteryType = ref(lotteryTypes.value[0])\r\n\r\n// 当前期号信息\r\nconst currentIssueInfo = ref({\r\n  id: null,\r\n  number: null,\r\n  status: '待开奖',\r\n  time: '今天 21:30'\r\n})\r\n\r\n// 选中的数字\r\nconst selectedThousands = ref([])\r\nconst selectedHundreds = ref([])\r\nconst selectedTens = ref([])\r\nconst selectedUnits = ref([])\r\n\r\n// 二字现特殊选择（存储数字组合）\r\nconst selectedCombinations = ref([])\r\n// 二字现当前点击序列（用于按顺序生成组合）\r\nconst clickedSequence = ref([])\r\n\r\n// 方案数据存储\r\nconst schemeData = ref({})\r\n// 当前方案是否有更改\r\nconst hasChanges = ref(false)\r\n// 显示保存提示弹窗\r\nconst showSaveDialog = ref(false)\r\n// 待切换的方案ID\r\nconst pendingSchemeId = ref('')\r\n// 已添加的方案列表\r\nconst addedSchemes = ref([])\r\n// 主攻选择相关\r\nconst showMainAttackDialog = ref(false)\r\nconst mainAttackType = ref('') // 当前选择主攻的位数类型\r\nconst mainAttackNumbers = ref([]) // 主攻数字\r\nconst selectedMainAttack = ref([]) // 已选择的主攻数字\r\n// 重点选择相关\r\nconst showKeyPointDialog = ref(false)\r\nconst keyPointNumbers = ref([]) // 重点数字\r\nconst selectedKeyPoint = ref([]) // 已选择的重点数字\r\n\r\n// 方案列表\r\nconst schemeList = ref([\r\n  { id: '头尾', name: '头尾' },\r\n  { id: '中肚', name: '中肚' },\r\n  { id: 'ABXX', name: 'ABXX' },\r\n  { id: 'AXCX', name: 'AXCX' },\r\n  { id: 'XBXD', name: 'XBXD' },\r\n  { id: 'XXCD', name: 'XXCD' },\r\n  { id: 'ABCX', name: 'ABCX' },\r\n  { id: 'ABXD', name: 'ABXD' },\r\n  { id: 'AXCD', name: 'AXCD' },\r\n  { id: 'XBCD', name: 'XBCD' },\r\n  { id: '芝麻', name: '芝麻' },\r\n  { id: '二字现', name: '二字现' },\r\n  { id: '三字现', name: '三字现' },\r\n  { id: '定头', name: '定头' },\r\n  { id: '定百', name: '定百' },\r\n  { id: '定十', name: '定十' },\r\n  { id: '定尾', name: '定尾' },\r\n  { id: '杀头', name: '杀头' },\r\n  { id: '杀百', name: '杀百' },\r\n  { id: '杀十', name: '杀十' },\r\n  { id: '杀尾', name: '杀尾' },\r\n  { id: '稳码', name: '稳码' },\r\n  { id: '头尾合', name: '头尾合' },\r\n  { id: '中肚合', name: '中肚合' },\r\n  { id: '千百合', name: '千百合' },\r\n  { id: '千十合', name: '千十合' },\r\n  { id: '百个合', name: '百个合' },\r\n  { id: '十个合', name: '十个合' },\r\n  { id: '死数', name: '死数' },\r\n  { id: '头尾不合', name: '头尾不合' },\r\n  { id: '中肚不合', name: '中肚不合' },\r\n  { id: '千百不合', name: '千百不合' },\r\n  { id: '千十不合', name: '千十不合' },\r\n  { id: '百个不合', name: '百个不合' },\r\n  { id: '十个不合', name: '十个不合' }\r\n])\r\n\r\n// 当前方案名称\r\nconst currentSchemeName = computed(() => {\r\n  const scheme = schemeList.value.find(s => s.id === activeScheme.value)\r\n  return scheme ? scheme.name : ''\r\n})\r\n\r\n// 已保存方案数量\r\nconst savedSchemeCount = computed(() => {\r\n  return addedSchemes.value.length\r\n})\r\n\r\n// 发布按钮文本\r\nconst publishButtonText = computed(() => {\r\n  return `${savedSchemeCount.value}/4`\r\n})\r\n\r\n// 根据方案类型获取需要显示的位数\r\nconst getSchemeDigits = (schemeId) => {\r\n  switch (schemeId) {\r\n    case '头尾':\r\n      return ['thousands', 'units'] // 千位和个位\r\n    case '中肚':\r\n      return ['hundreds', 'tens'] // 百位和十位\r\n    case 'ABXX':\r\n      return ['thousands', 'hundreds'] // 千位和百位\r\n    case 'ABCX':\r\n      return ['thousands', 'hundreds', 'tens'] // 千位百位和十位\r\n    case 'ABXD':\r\n      return ['thousands', 'hundreds', 'units'] // 千位百位和个位\r\n    case 'AXCD':\r\n      return ['thousands', 'tens', 'units'] // 千位十位和个位\r\n    case 'XBXD':\r\n      return ['hundreds', 'units'] // 百位和个位\r\n    case 'XBCD':\r\n      return ['hundreds', 'tens', 'units'] // 百位十位和个位\r\n    case 'XXCD':\r\n      return ['tens', 'units'] // 十位和个位\r\n    case 'AXCX':\r\n      return ['thousands', 'tens'] // 千位和十位\r\n    case '芝麻':\r\n      return ['thousands', 'hundreds', 'tens', 'units'] // 所有位\r\n    case '定头':\r\n      return ['thousands'] // 只选择千位\r\n    case '定百':\r\n      return ['hundreds'] // 只选择百位\r\n    case '定十':\r\n      return ['tens'] // 只选择十位\r\n    case '定尾':\r\n      return ['units'] // 只选择个位\r\n    case '杀头':\r\n      return ['thousands'] // 只选择千位\r\n    case '杀百':\r\n      return ['hundreds'] // 只选择百位\r\n    case '杀十':\r\n      return ['tens'] // 只选择十位\r\n    case '杀尾':\r\n      return ['units'] // 只选择个位\r\n    case '稳码':\r\n      return ['units'] // 只选择个位\r\n    case '头尾合':\r\n      return ['thousands'] // 只显示千位选择区域\r\n    case '中肚合':\r\n      return ['hundreds'] // 只显示百位选择区域\r\n    case '千百合':\r\n      return ['thousands'] // 只显示千位选择区域\r\n    case '千十合':\r\n      return ['thousands'] // 只显示千位选择区域\r\n    case '百个合':\r\n      return ['hundreds'] // 只显示百位选择区域\r\n    case '十个合':\r\n      return ['tens'] // 只显示十位选择区域\r\n    case '死数':\r\n      return ['units'] // 只选择个位\r\n    case '头尾不合':\r\n      return ['units'] // 只选择个位\r\n    case '中肚不合':\r\n      return ['units'] // 只选择个位\r\n    case '千百不合':\r\n      return ['units'] // 只选择个位\r\n    case '千十不合':\r\n      return ['units'] // 只选择个位\r\n    case '百个不合':\r\n      return ['units'] // 只选择个位\r\n    case '十个不合':\r\n      return ['units'] // 只选择个位\r\n    default:\r\n      return ['thousands', 'tens'] // 默认千位和十位\r\n  }\r\n}\r\n\r\n// 当前方案需要显示的位数\r\nconst currentSchemeDigits = computed(() => {\r\n  return getSchemeDigits(activeScheme.value)\r\n})\r\n\r\n// 已发布的方案列表（用于禁用已发布的方案）\r\nconst publishedSchemes = ref([])\r\n\r\n// 追帖模式相关\r\nconst isAppendMode = ref(false)\r\nconst appendPostData = ref(null)\r\n\r\n// 请求锁 - 防止重复请求\r\nconst isLoadingIssueInfo = ref(false)\r\nconst isLoadingPublishedSchemes = ref(false)\r\n\r\n// 检查是否从规律预测页面进入\r\nconst isFromPatternPredict = computed(() => {\r\n  const pages = getCurrentPages()\r\n  const previousPage = pages[pages.length - 2]\r\n  return previousPage && previousPage.route === 'pages/pattern-predict/pattern-predict'\r\n})\r\n\r\n// 检查方案是否已发布\r\nconst isSchemePublished = (schemeId) => {\r\n  return publishedSchemes.value.includes(schemeId)\r\n}\r\n\r\n// 检查是否进入追帖模式\r\nconst checkAppendMode = () => {\r\n  try {\r\n    const savedAppendData = uni.getStorageSync('appendPostData')\r\n    \r\n    // 检查数据是否有效，并且检查是否是当前彩票类型的帖子\r\n    if (savedAppendData && savedAppendData.postId && savedAppendData.postContent) {\r\n      // 优先检查保存的彩票类型\r\n      let isCurrentLotteryPost = false\r\n      \r\n      if (savedAppendData.lotteryType) {\r\n        // 如果保存了彩票类型，直接比较\r\n        isCurrentLotteryPost = savedAppendData.lotteryType === currentLotteryType.value.name\r\n      } else {\r\n        // 兼容旧数据，检查帖子内容中是否包含当前彩票类型\r\n        const currentLottery = currentLotteryType.value.name\r\n        isCurrentLotteryPost = savedAppendData.postContent.includes(currentLottery) || \r\n                              savedAppendData.postContent.includes(`${currentLottery}-规律预测`)\r\n      }\r\n      \r\n      if (isCurrentLotteryPost) {\r\n        isAppendMode.value = true\r\n        appendPostData.value = savedAppendData\r\n      } else {\r\n        // 如果不是当前彩票类型的帖子，清除追帖数据\r\n        console.log('检测到追帖数据，但不是当前彩票类型，清除数据')\r\n        uni.removeStorageSync('appendPostData')\r\n        uni.removeStorageSync('currentAppendPostData')\r\n        uni.removeStorageSync('appendModeTipShown')\r\n        isAppendMode.value = false\r\n        appendPostData.value = null\r\n        return\r\n      }\r\n      \r\n      // 显示追帖模式提示（只在第一次进入时显示）\r\n      const hasShownTip = uni.getStorageSync('appendModeTipShown')\r\n      if (!hasShownTip) {\r\n        const schemeNames = savedAppendData.schemeIds ? savedAppendData.schemeIds.join('、') : '未知方案'\r\n        uni.showModal({\r\n          title: '追帖模式',\r\n          content: `正在为帖子\"第${savedAppendData.period}期\"追加方案\\n\\n已发布的方案(${schemeNames})将被禁用，请选择其他方案进行追加。`,\r\n          showCancel: false,\r\n          confirmText: '知道了'\r\n        })\r\n        uni.setStorageSync('appendModeTipShown', true)\r\n      }\r\n      \r\n      // 在追帖模式下，直接使用追帖数据设置已发布方案\r\n      const today = new Date().toDateString()\r\n      const publishedSchemesList = []\r\n      const publishedPostsList = {}\r\n      \r\n      // 从追帖数据中提取所有方案信息\r\n      const schemeIds = savedAppendData.schemeIds || []\r\n      schemeIds.forEach(schemeId => {\r\n        if (schemeId) {\r\n          publishedSchemesList.push(schemeId)\r\n          publishedPostsList[schemeId] = savedAppendData.postId\r\n        }\r\n      })\r\n      \r\n      // 直接更新响应式变量\r\n      publishedSchemes.value = publishedSchemesList\r\n      \r\n      // 保存到本地存储（持久化保存）\r\n      uni.setStorageSync(`publishedSchemes_${today}`, publishedSchemesList)\r\n      uni.setStorageSync(`publishedPosts_${today}`, publishedPostsList)\r\n      \r\n      // 同时保存追帖数据到专门的存储键，确保数据不丢失\r\n      uni.setStorageSync('currentAppendPostData', savedAppendData)\r\n      \r\n    } else {\r\n      // 如果没有appendPostData，检查是否有保存的追帖数据\r\n      const currentAppendData = uni.getStorageSync('currentAppendPostData')\r\n      if (currentAppendData && currentAppendData.postId) {\r\n        isAppendMode.value = true\r\n        appendPostData.value = currentAppendData\r\n        \r\n        // 重新加载已发布方案\r\n        loadPublishedSchemes()\r\n      }\r\n    }\r\n  } catch (error) {\r\n    console.error('检查追帖模式失败:', error)\r\n  }\r\n}\r\n\r\n// 测试函数：获取用户已发布的帖子\r\nconst testPublishedScheme = async () => {\r\n  // 防止重复请求\r\n  if (isLoadingPublishedSchemes.value) {\r\n    console.log('正在加载已发布方案，跳过重复请求')\r\n    return\r\n  }\r\n  \r\n  try {\r\n    isLoadingPublishedSchemes.value = true\r\n    uni.showLoading({ title: '获取已发布帖子...' })\r\n    \r\n    // 调用接口获取用户已发布的帖子\r\n    const response = await apiPostListQuery({\r\n      page: 1,\r\n      size: 20,\r\n      account: uni.getStorageSync('account') || ''\r\n    })\r\n    \r\n    uni.hideLoading()\r\n    \r\n    if (response.code === 200 && response.data && response.data.records) {\r\n      const today = new Date().toDateString()\r\n      const publishedSchemes = []\r\n      const publishedPosts = {}\r\n      \r\n      // 处理返回的帖子数据\r\n      response.data.records.forEach(post => {\r\n        if (post.content && post.content.includes('预测方案')) {\r\n          // 从帖子内容中提取方案信息\r\n          const content = post.content\r\n          \r\n          // 检查是否包含特定方案\r\n          if (content.includes('中肚')) {\r\n            publishedSchemes.push('中肚')\r\n            publishedPosts['中肚'] = post.id\r\n          }\r\n          if (content.includes('头尾')) {\r\n            publishedSchemes.push('头尾')\r\n            publishedPosts['头尾'] = post.id\r\n          }\r\n          if (content.includes('定头')) {\r\n            publishedSchemes.push('定头')\r\n            publishedPosts['定头'] = post.id\r\n          }\r\n          if (content.includes('定百')) {\r\n            publishedSchemes.push('定百')\r\n            publishedPosts['定百'] = post.id\r\n          }\r\n          if (content.includes('定十')) {\r\n            publishedSchemes.push('定十')\r\n            publishedPosts['定十'] = post.id\r\n          }\r\n          if (content.includes('定尾')) {\r\n            publishedSchemes.push('定尾')\r\n            publishedPosts['定尾'] = post.id\r\n          }\r\n        }\r\n      })\r\n      \r\n      // 保存到本地存储\r\n      uni.setStorageSync(`publishedSchemes_${today}`, publishedSchemes)\r\n      uni.setStorageSync(`publishedPosts_${today}`, publishedPosts)\r\n      \r\n      // 重新加载已发布方案\r\n      loadPublishedSchemes()\r\n      \r\n      uni.showToast({\r\n        title: `获取到${publishedSchemes.length}个已发布方案`,\r\n        icon: 'success'\r\n      })\r\n      \r\n    } else {\r\n      // 接口返回失败，使用备用方案\r\n      handleApiFailure()\r\n    }\r\n    \r\n  } catch (error) {\r\n    uni.hideLoading()\r\n    console.error('获取已发布帖子失败:', error)\r\n    \r\n    // 接口调用失败，使用备用方案\r\n    handleApiFailure()\r\n  } finally {\r\n    isLoadingPublishedSchemes.value = false\r\n  }\r\n}\r\n\r\n// 处理接口失败的情况\r\nconst handleApiFailure = () => {\r\n  try {\r\n    // 如果是追帖模式，从追帖数据中提取已发布的方案\r\n    if (isAppendMode.value && appendPostData.value) {\r\n      const today = new Date().toDateString()\r\n      const publishedSchemes = []\r\n      const publishedPosts = {}\r\n      \r\n      // 从追帖数据中提取方案信息\r\n      const schemeIds = appendPostData.value.schemeIds || []\r\n      schemeIds.forEach(schemeId => {\r\n        if (schemeId) {\r\n          publishedSchemes.push(schemeId)\r\n          publishedPosts[schemeId] = appendPostData.value.postId\r\n        }\r\n      })\r\n      \r\n      // 保存到本地存储\r\n      uni.setStorageSync(`publishedSchemes_${today}`, publishedSchemes)\r\n      uni.setStorageSync(`publishedPosts_${today}`, publishedPosts)\r\n      \r\n      // 重新加载已发布方案\r\n      loadPublishedSchemes()\r\n      \r\n      uni.showToast({\r\n        title: `追帖模式：已加载 ${publishedSchemes.length} 个方案`,\r\n        icon: 'success'\r\n      })\r\n      \r\n    } else {\r\n      // 非追帖模式，显示提示信息\r\n      uni.showModal({\r\n        title: '获取已发布帖子失败',\r\n        content: '无法获取已发布的帖子信息，可能的原因：\\n1. 网络连接问题\\n2. 服务器暂时不可用\\n3. 账号权限问题\\n\\n是否继续使用本地数据？',\r\n        confirmText: '继续',\r\n        cancelText: '重试',\r\n        success: (res) => {\r\n          if (res.confirm) {\r\n            // 使用本地存储的数据\r\n            loadPublishedSchemes()\r\n            uni.showToast({\r\n              title: '使用本地数据',\r\n              icon: 'success'\r\n            })\r\n          } else {\r\n            // 重试获取\r\n            setTimeout(() => {\r\n              testPublishedScheme()\r\n            }, 1000)\r\n          }\r\n        }\r\n      })\r\n    }\r\n    \r\n  } catch (error) {\r\n    console.error('处理接口失败情况时出错:', error)\r\n    uni.showToast({\r\n      title: '操作失败，请重试',\r\n      icon: 'none'\r\n    })\r\n  }\r\n}\r\n\r\n// 清除测试数据\r\nconst clearTestData = () => {\r\n  const today = new Date().toDateString()\r\n  uni.removeStorageSync(`publishedSchemes_${today}`)\r\n  uni.removeStorageSync(`publishedPosts_${today}`)\r\n  \r\n  publishedSchemes.value = []\r\n  \r\n  uni.showToast({\r\n    title: '已清除测试数据',\r\n    icon: 'success'\r\n  })\r\n}\r\n\r\n// 获取已发布的方案列表\r\nconst loadPublishedSchemes = async () => {\r\n  try {\r\n    const today = new Date().toDateString()\r\n    const publishedData = uni.getStorageSync(`publishedSchemes_${today}`) || []\r\n    publishedSchemes.value = publishedData\r\n    \r\n    // 如果有已发布的方案，显示提示\r\n    if (publishedSchemes.value.length > 0) {\r\n      // 检测到已发布的方案\r\n    }\r\n  } catch (error) {\r\n    console.error('加载已发布方案失败:', error)\r\n  }\r\n}\r\n\r\n// 选择方案\r\nconst selectScheme = (schemeId) => {\r\n  // 如果是同一个方案，直接返回\r\n  if (schemeId === activeScheme.value) {\r\n    return\r\n  }\r\n  \r\n  // 检查方案是否已发布 - 已发布的方案无法选择（规律帖除外）\r\n  if (!isFromPatternPredict.value && isSchemePublished(schemeId)) {\r\n    uni.showToast({\r\n      title: '该方案今天已发布过，无法重复选择',\r\n      icon: 'none',\r\n      duration: 2000\r\n    })\r\n    return\r\n  }\r\n  \r\n  // 如果当前方案有更改，显示保存提示\r\n  if (hasChanges.value) {\r\n    pendingSchemeId.value = schemeId\r\n    showSaveDialog.value = true\r\n    return\r\n  }\r\n  \r\n  // 没有更改，直接切换\r\n  switchToScheme(schemeId)\r\n}\r\n\r\n// 进入追帖模式\r\nconst enterAppendMode = (schemeId) => {\r\n  try {\r\n    // 获取该方案对应的帖子ID\r\n    const today = new Date().toDateString()\r\n    const publishedPosts = uni.getStorageSync(`publishedPosts_${today}`) || {}\r\n    const postId = publishedPosts[schemeId]\r\n    \r\n    if (!postId) {\r\n      uni.showToast({\r\n        title: '未找到对应的帖子ID',\r\n        icon: 'none'\r\n      })\r\n      return\r\n    }\r\n    \r\n    // 跳转到预测发布页面，传递帖子ID\r\n    uni.navigateTo({\r\n      url: `/pages/predict-publish/predict-publish?postId=${postId}&schemeId=${schemeId}`,\r\n      success: () => {\r\n        uni.showToast({\r\n          title: '进入追帖模式',\r\n          icon: 'success'\r\n        })\r\n      },\r\n      fail: (err) => {\r\n        uni.showToast({\r\n          title: '跳转失败',\r\n          icon: 'none'\r\n        })\r\n      }\r\n    })\r\n  } catch (error) {\r\n    console.error('进入追帖模式失败:', error)\r\n    uni.showToast({\r\n      title: '进入追帖模式失败',\r\n      icon: 'none'\r\n    })\r\n  }\r\n}\r\n\r\n// 切换到指定方案\r\nconst switchToScheme = (schemeId) => {\r\n  // 保存当前方案数据\r\n  saveCurrentScheme()\r\n  \r\n  // 切换到新方案\r\n  activeScheme.value = schemeId\r\n  \r\n  // 加载新方案数据\r\n  loadSchemeData(schemeId)\r\n  \r\n  // 重置更改状态\r\n  hasChanges.value = false\r\n  \r\n}\r\n\r\n// 保存当前方案数据\r\nconst saveCurrentScheme = () => {\r\n  if (activeScheme.value) {\r\n    if (activeScheme.value === '二字现' || activeScheme.value === '三字现') {\r\n      schemeData.value[activeScheme.value] = {\r\n        combinations: [...selectedCombinations.value],\r\n        sequence: [...clickedSequence.value]\r\n      }\r\n    } else {\r\n      const currentData = {\r\n        thousands: [...selectedThousands.value],\r\n        hundreds: [...selectedHundreds.value],\r\n        tens: [...selectedTens.value],\r\n        units: [...selectedUnits.value]\r\n      }\r\n      \r\n      // 保存主攻和重点数据\r\n      if (schemeData.value[activeScheme.value]) {\r\n        // 保留已存在的主攻和重点数据\r\n        const existingData = schemeData.value[activeScheme.value]\r\n        \r\n        // 千位主攻和重点\r\n        if (existingData.thousandsMainAttack) {\r\n          currentData.thousandsMainAttack = [...existingData.thousandsMainAttack]\r\n        }\r\n        if (existingData.thousandsKeyPoint) {\r\n          currentData.thousandsKeyPoint = [...existingData.thousandsKeyPoint]\r\n        }\r\n        \r\n        // 百位主攻和重点\r\n        if (existingData.hundredsMainAttack) {\r\n          currentData.hundredsMainAttack = [...existingData.hundredsMainAttack]\r\n        }\r\n        if (existingData.hundredsKeyPoint) {\r\n          currentData.hundredsKeyPoint = [...existingData.hundredsKeyPoint]\r\n        }\r\n        \r\n        // 十位主攻和重点\r\n        if (existingData.tensMainAttack) {\r\n          currentData.tensMainAttack = [...existingData.tensMainAttack]\r\n        }\r\n        if (existingData.tensKeyPoint) {\r\n          currentData.tensKeyPoint = [...existingData.tensKeyPoint]\r\n        }\r\n        \r\n        // 个位主攻和重点\r\n        if (existingData.unitsMainAttack) {\r\n          currentData.unitsMainAttack = [...existingData.unitsMainAttack]\r\n        }\r\n        if (existingData.unitsKeyPoint) {\r\n          currentData.unitsKeyPoint = [...existingData.unitsKeyPoint]\r\n        }\r\n      }\r\n      \r\n      schemeData.value[activeScheme.value] = currentData\r\n    }\r\n  }\r\n  \r\n  // 保存到本地存储\r\n  saveSchemesToStorage()\r\n}\r\n\r\n// 加载方案数据\r\nconst loadSchemeData = (schemeId) => {\r\n  const data = schemeData.value[schemeId]\r\n  if (data) {\r\n    if (schemeId === '二字现' || schemeId === '三字现') {\r\n      selectedCombinations.value = [...(data.combinations || [])]\r\n      clickedSequence.value = [...(data.sequence || [])]\r\n    } else {\r\n      selectedThousands.value = [...(data.thousands || [])]\r\n      selectedHundreds.value = [...(data.hundreds || [])]\r\n      selectedTens.value = [...(data.tens || [])]\r\n      selectedUnits.value = [...(data.units || [])]\r\n    }\r\n  } else {\r\n    selectedThousands.value = []\r\n    selectedHundreds.value = []\r\n    selectedTens.value = []\r\n    selectedUnits.value = []\r\n    selectedCombinations.value = []\r\n  }\r\n}\r\n\r\n// 切换数字选择\r\nconst toggleNumber = (type, num) => {\r\n  const value = num - 1  // num是1-10，value是0-9\r\n  \r\n  // 二字现特殊处理\r\n  if (activeScheme.value === '二字现') {\r\n    toggleCombinationNumber(value)\r\n    return\r\n  }\r\n  \r\n  // 三字现特殊处理\r\n  if (activeScheme.value === '三字现') {\r\n    toggleThreeDigitCombination(value)\r\n    return\r\n  }\r\n  \r\n  // 根据方案类型设置最大选择数量\r\n  let maxSelection = 6\r\n  if (activeScheme.value === '杀头' || activeScheme.value === '杀百' || activeScheme.value === '杀十' || activeScheme.value === '杀尾' || activeScheme.value === '稳码' || activeScheme.value === '头尾不合' || activeScheme.value === '中肚不合' || activeScheme.value === '千百不合' || activeScheme.value === '千十不合' || activeScheme.value === '百个不合' || activeScheme.value === '十个不合') {\r\n    maxSelection = 2\r\n  } else if (activeScheme.value === '死数') {\r\n    maxSelection = 1\r\n  }\r\n  \r\n  let targetArray = null\r\n  \r\n  switch (type) {\r\n    case 'thousands':\r\n      targetArray = selectedThousands.value\r\n      break\r\n    case 'hundreds':\r\n      targetArray = selectedHundreds.value\r\n      break\r\n    case 'tens':\r\n      targetArray = selectedTens.value\r\n      break\r\n    case 'units':\r\n      targetArray = selectedUnits.value\r\n      break\r\n    default:\r\n      return\r\n  }\r\n  \r\n  const index = targetArray.indexOf(value)\r\n  if (index > -1) {\r\n    targetArray.splice(index, 1)\r\n  } else if (targetArray.length < maxSelection) {\r\n    targetArray.push(value)\r\n  } else {\r\n    let message = '最多只能选择6个数字'\r\n    if (activeScheme.value === '杀头' || activeScheme.value === '杀百' || activeScheme.value === '杀十' || activeScheme.value === '杀尾' || activeScheme.value === '稳码' || activeScheme.value === '头尾不合' || activeScheme.value === '中肚不合' || activeScheme.value === '千百不合' || activeScheme.value === '千十不合' || activeScheme.value === '百个不合' || activeScheme.value === '十个不合') {\r\n      message = `${activeScheme.value}方案最多只能选择2个数字`\r\n    } else if (activeScheme.value === '死数') {\r\n      message = '死数方案只能选择1个数字'\r\n    }\r\n    uni.showToast({\r\n      title: message,\r\n      icon: 'none'\r\n    })\r\n  }\r\n  \r\n  // 标记为有更改\r\n  hasChanges.value = true\r\n}\r\n\r\n// 二字现数字组合选择\r\nconst toggleCombinationNumber = (value) => {\r\n  \r\n  // 添加数字到点击序列\r\n  clickedSequence.value.push(value)\r\n  \r\n  // 如果序列长度达到2，生成组合\r\n  if (clickedSequence.value.length === 2) {\r\n    // 创建标准化组合（确保较小的数字在前）\r\n    const sortedNumbers = [...clickedSequence.value].sort((a, b) => a - b)\r\n    const combination = `${sortedNumbers[0]}${sortedNumbers[1]}`\r\n    \r\n    // 检查是否已存在该组合\r\n    if (!selectedCombinations.value.includes(combination)) {\r\n      // 检查是否超过4组限制\r\n      if (selectedCombinations.value.length < 4) {\r\n        selectedCombinations.value.push(combination)\r\n      } else {\r\n        uni.showToast({\r\n          title: '最多只能选择4组组合',\r\n          icon: 'none'\r\n        })\r\n      }\r\n    } else {\r\n      uni.showToast({\r\n        title: '该组合已存在',\r\n        icon: 'none'\r\n      })\r\n    }\r\n    \r\n    // 重置点击序列，准备下一次组合\r\n    clickedSequence.value = []\r\n  }\r\n  \r\n  // 标记为有更改\r\n  hasChanges.value = true\r\n}\r\n\r\n// 三字现数字组合选择\r\nconst toggleThreeDigitCombination = (value) => {\r\n  \r\n  // 添加数字到点击序列\r\n  clickedSequence.value.push(value)\r\n  \r\n  // 如果序列长度达到3，生成组合\r\n  if (clickedSequence.value.length === 3) {\r\n    // 创建标准化组合（确保数字按顺序排列）\r\n    const sortedNumbers = [...clickedSequence.value].sort((a, b) => a - b)\r\n    const combination = sortedNumbers.join('')\r\n    \r\n    // 检查是否已存在该组合\r\n    if (!selectedCombinations.value.includes(combination)) {\r\n      // 检查是否超过15组限制\r\n      if (selectedCombinations.value.length < 15) {\r\n        selectedCombinations.value.push(combination)\r\n      } else {\r\n        uni.showToast({\r\n          title: '最多只能选择15组组合',\r\n          icon: 'none'\r\n        })\r\n      }\r\n    } else {\r\n      uni.showToast({\r\n        title: '该组合已存在',\r\n        icon: 'none'\r\n      })\r\n    }\r\n    \r\n    // 重置点击序列，准备下一次组合\r\n    clickedSequence.value = []\r\n  }\r\n  \r\n  // 标记为有更改\r\n  hasChanges.value = true\r\n}\r\n\r\n// 格式化组合显示，添加换行\r\nconst formatCombinations = (combinations) => {\r\n  if (!combinations || combinations.length === 0) {\r\n    return ''\r\n  }\r\n  \r\n  // 每行最多显示6个组合，超过则换行\r\n  const maxPerLine = 6\r\n  const lines = []\r\n  \r\n  for (let i = 0; i < combinations.length; i += maxPerLine) {\r\n    const lineCombinations = combinations.slice(i, i + maxPerLine)\r\n    lines.push(lineCombinations.join(','))\r\n  }\r\n  \r\n  return lines.join('\\n')\r\n}\r\n\r\n// 检查当前点击序列状态（用于二字现显示提示）\r\nconst getSequenceStatus = () => {\r\n  if (activeScheme.value === '二字现') {\r\n    if (clickedSequence.value.length === 0) {\r\n      return '点击两个数字组成组合'\r\n    } else if (clickedSequence.value.length === 1) {\r\n      return `已选择 ${clickedSequence.value[0]}，再选择一个数字`\r\n    }\r\n  } else if (activeScheme.value === '三字现') {\r\n    if (clickedSequence.value.length === 0) {\r\n      return '点击三个数字组成组合'\r\n    } else if (clickedSequence.value.length === 1) {\r\n      return `已选择 ${clickedSequence.value[0]}，再选择两个数字`\r\n    } else if (clickedSequence.value.length === 2) {\r\n      return `已选择 ${clickedSequence.value.join(',')}，再选择一个数字`\r\n    }\r\n  }\r\n  return ''\r\n}\r\n\r\n// 验证方案完整性\r\nconst validateSchemeCompleteness = () => {\r\n  // 二字现和三字现不需要验证位数完整性\r\n  if (activeScheme.value === '二字现' || activeScheme.value === '三字现') {\r\n    return true\r\n  }\r\n  \r\n  // 获取当前方案需要的位数\r\n  const requiredDigits = getSchemeDigits(activeScheme.value)\r\n  \r\n  // 检查每个必需的位数是否都至少选择了一个数字\r\n  for (const digit of requiredDigits) {\r\n    let selectedCount = 0\r\n    \r\n    switch (digit) {\r\n      case 'thousands':\r\n        selectedCount = selectedThousands.value.length\r\n        break\r\n      case 'hundreds':\r\n        selectedCount = selectedHundreds.value.length\r\n        break\r\n      case 'tens':\r\n        selectedCount = selectedTens.value.length\r\n        break\r\n      case 'units':\r\n        selectedCount = selectedUnits.value.length\r\n        break\r\n    }\r\n    \r\n    // 如果某个必需位数没有选择数字，则数据不完整\r\n    if (selectedCount === 0) {\r\n      return false\r\n    }\r\n  }\r\n  \r\n  return true\r\n}\r\n\r\n// 清除当前方案\r\nconst clearScheme = () => {\r\n  // 只清除当前方案的选择内容\r\n  selectedThousands.value = []\r\n  selectedHundreds.value = []\r\n  selectedTens.value = []\r\n  selectedUnits.value = []\r\n  selectedCombinations.value = []\r\n  clickedSequence.value = []\r\n  \r\n  // 清除当前方案的数据（包括主攻和重点）\r\n  if (activeScheme.value) {\r\n    schemeData.value[activeScheme.value] = {}\r\n    \r\n    // 从已添加的方案列表中删除当前方案\r\n    const index = addedSchemes.value.findIndex(scheme => scheme.id === activeScheme.value)\r\n    if (index > -1) {\r\n      addedSchemes.value.splice(index, 1)\r\n    }\r\n  }\r\n  \r\n  // 保存到本地存储\r\n  saveSchemesToStorage()\r\n  \r\n  // 重置更改状态\r\n  hasChanges.value = false\r\n  \r\n  uni.showToast({\r\n    title: `${currentSchemeName.value}方案已清除`,\r\n    icon: 'success'\r\n  })\r\n}\r\n\r\n// 添加方案\r\nconst addScheme = () => {\r\n  // 检查当前方案是否有内容\r\n  let hasContent = false\r\n  \r\n  if (activeScheme.value === '二字现' || activeScheme.value === '三字现') {\r\n    hasContent = selectedCombinations.value.length > 0\r\n  } else {\r\n    hasContent = selectedThousands.value.length > 0 || \r\n                 selectedHundreds.value.length > 0 || \r\n                 selectedTens.value.length > 0 || \r\n                 selectedUnits.value.length > 0\r\n  }\r\n  \r\n  if (!hasContent) {\r\n    uni.showToast({\r\n      title: '请先配置方案内容',\r\n      icon: 'none'\r\n    })\r\n    return\r\n  }\r\n  \r\n  // 检查必需位数的完整性\r\n  if (!validateSchemeCompleteness()) {\r\n    uni.showToast({\r\n      title: '添加失败,数据不完整',\r\n      icon: 'none'\r\n    })\r\n    return\r\n  }\r\n  \r\n  // 检查是否已达到最大数量\r\n  if (addedSchemes.value.length >= 4) {\r\n    uni.showToast({\r\n      title: '最多只能添加4个方案',\r\n      icon: 'none'\r\n    })\r\n    return\r\n  }\r\n  \r\n  // 保存当前方案数据\r\n  saveCurrentScheme()\r\n  \r\n  // 添加到已添加方案列表\r\n  const schemeToAdd = {\r\n    id: activeScheme.value,\r\n    name: currentSchemeName.value,\r\n    data: { ...schemeData.value[activeScheme.value] },\r\n    timestamp: Date.now()\r\n  }\r\n  \r\n  addedSchemes.value.push(schemeToAdd)\r\n  \r\n  // 保存到本地存储\r\n  saveSchemesToStorage()\r\n  \r\n  // 清除当前方案内容\r\n  clearCurrentScheme()\r\n  \r\n  uni.showToast({\r\n    title: '方案已添加',\r\n    icon: 'success'\r\n  })\r\n  \r\n}\r\n\r\n// 清除当前方案内容（但不影响已添加的方案）\r\nconst clearCurrentScheme = () => {\r\n  selectedThousands.value = []\r\n  selectedHundreds.value = []\r\n  selectedTens.value = []\r\n  selectedUnits.value = []\r\n  selectedCombinations.value = []\r\n  clickedSequence.value = []\r\n  hasChanges.value = false\r\n}\r\n\r\n// 保存方案\r\nconst saveScheme = () => {\r\n  saveCurrentScheme()\r\n  hasChanges.value = false\r\n  showSaveDialog.value = false\r\n  \r\n  // 切换到待切换的方案\r\n  if (pendingSchemeId.value) {\r\n    switchToScheme(pendingSchemeId.value)\r\n    pendingSchemeId.value = ''\r\n  }\r\n}\r\n\r\n// 不保存方案\r\nconst dontSaveScheme = () => {\r\n  showSaveDialog.value = false\r\n  \r\n  // 重置当前方案的选择状态（清空选择）\r\n  selectedThousands.value = []\r\n  selectedHundreds.value = []\r\n  selectedTens.value = []\r\n  selectedUnits.value = []\r\n  selectedCombinations.value = []\r\n  clickedSequence.value = []\r\n  addedSchemes.value = [] // 清除所有已添加的方案\r\n  hasChanges.value = false\r\n  \r\n  // 切换到待切换的方案\r\n  if (pendingSchemeId.value) {\r\n    switchToScheme(pendingSchemeId.value)\r\n    pendingSchemeId.value = ''\r\n  }\r\n}\r\n\r\n// 显示主攻选择弹窗\r\nconst showMainAttack = (type) => {\r\n  mainAttackType.value = type\r\n  // 根据类型获取已选择的数字\r\n  switch (type) {\r\n    case 'thousands':\r\n      mainAttackNumbers.value = [...selectedThousands.value]\r\n      break\r\n    case 'hundreds':\r\n      mainAttackNumbers.value = [...selectedHundreds.value]\r\n      break\r\n    case 'tens':\r\n      mainAttackNumbers.value = [...selectedTens.value]\r\n      break\r\n    case 'units':\r\n      mainAttackNumbers.value = [...selectedUnits.value]\r\n      break\r\n  }\r\n  // 初始化主攻选择为空\r\n  selectedMainAttack.value = []\r\n  showMainAttackDialog.value = true\r\n}\r\n\r\n// 隐藏主攻选择弹窗\r\nconst hideMainAttack = () => {\r\n  showMainAttackDialog.value = false\r\n  mainAttackType.value = ''\r\n  mainAttackNumbers.value = []\r\n  selectedMainAttack.value = []\r\n}\r\n\r\n// 选择主攻数字\r\nconst toggleMainAttackNumber = (num) => {\r\n  const index = selectedMainAttack.value.indexOf(num)\r\n  \r\n  if (index > -1) {\r\n    // 取消选择\r\n    selectedMainAttack.value.splice(index, 1)\r\n  } else {\r\n    // 主攻不能全选，必须至少留一个数字不选主攻\r\n    if (selectedMainAttack.value.length < mainAttackNumbers.value.length - 1) {\r\n      selectedMainAttack.value.push(num)\r\n    } else {\r\n      uni.showToast({\r\n        title: '主攻不能全选，必须至少留一个数字',\r\n        icon: 'none'\r\n      })\r\n    }\r\n  }\r\n}\r\n\r\n// 检查主攻数字是否被选中\r\nconst isMainAttackSelected = (num) => {\r\n  return selectedMainAttack.value.includes(num)\r\n}\r\n\r\n// 确认主攻选择\r\nconst confirmMainAttack = () => {\r\n  if (selectedMainAttack.value.length === 0) {\r\n    uni.showToast({\r\n      title: '请至少选择一个主攻数字',\r\n      icon: 'none'\r\n    })\r\n    return\r\n  }\r\n  \r\n  // 保存主攻选择到方案数据中，按位数分别保存\r\n  if (!schemeData.value[activeScheme.value]) {\r\n    schemeData.value[activeScheme.value] = {}\r\n  }\r\n  \r\n  // 为当前位数保存主攻数据\r\n  const mainAttackKey = `${mainAttackType.value}MainAttack`\r\n  schemeData.value[activeScheme.value][mainAttackKey] = [...selectedMainAttack.value]\r\n  \r\n  hideMainAttack()\r\n  uni.showToast({\r\n    title: `${getMainAttackTitle()}主攻已设置: ${selectedMainAttack.value.join(',')}`,\r\n    icon: 'success'\r\n  })\r\n}\r\n\r\n// 检查是否显示主攻按钮\r\nconst shouldShowMainAttack = (type) => {\r\n  if (activeScheme.value !== '定头' && activeScheme.value !== '定百' && activeScheme.value !== '定十' && activeScheme.value !== '定尾' && activeScheme.value !== '头尾合' && activeScheme.value !== '中肚合' && activeScheme.value !== '千百合' && activeScheme.value !== '千十合' && activeScheme.value !== '百个合' && activeScheme.value !== '十个合' && activeScheme.value !== '头尾' && activeScheme.value !== '中肚' && activeScheme.value !== 'ABXX' && activeScheme.value !== 'AXCX' && activeScheme.value !== 'XBXD' && activeScheme.value !== 'XXCD' && activeScheme.value !== 'ABCX' && activeScheme.value !== 'ABXD' && activeScheme.value !== 'AXCD' && activeScheme.value !== 'XBCD' && activeScheme.value !== '芝麻') return false\r\n  \r\n  let selectedCount = 0\r\n  switch (type) {\r\n    case 'thousands':\r\n      selectedCount = selectedThousands.value.length\r\n      break\r\n    case 'hundreds':\r\n      selectedCount = selectedHundreds.value.length\r\n      break\r\n    case 'tens':\r\n      selectedCount = selectedTens.value.length\r\n      break\r\n    case 'units':\r\n      selectedCount = selectedUnits.value.length\r\n      break\r\n  }\r\n  \r\n  // 主攻不能全选，必须至少留一个数字不选主攻\r\n  return selectedCount > 1\r\n}\r\n\r\n// 获取主攻标题\r\nconst getMainAttackTitle = () => {\r\n  switch (mainAttackType.value) {\r\n    case 'thousands':\r\n      return '千位'\r\n    case 'hundreds':\r\n      return '百位'\r\n    case 'tens':\r\n      return '十位'\r\n    case 'units':\r\n      return '个位'\r\n    default:\r\n      return ''\r\n  }\r\n}\r\n\r\n// 显示重点选择弹窗\r\nconst showKeyPoint = (type) => {\r\n  mainAttackType.value = type\r\n  // 获取对应位数已选择的主攻数字作为重点选择的候选\r\n  const mainAttackKey = `${type}MainAttack`\r\n  const mainAttackData = schemeData.value[activeScheme.value]?.[mainAttackKey] || []\r\n  keyPointNumbers.value = [...mainAttackData]\r\n  selectedKeyPoint.value = []\r\n  showKeyPointDialog.value = true\r\n}\r\n\r\n// 隐藏重点选择弹窗\r\nconst hideKeyPoint = () => {\r\n  showKeyPointDialog.value = false\r\n  mainAttackType.value = ''\r\n  keyPointNumbers.value = []\r\n  selectedKeyPoint.value = []\r\n}\r\n\r\n// 选择重点数字\r\nconst toggleKeyPointNumber = (num) => {\r\n  const index = selectedKeyPoint.value.indexOf(num)\r\n  \r\n  \r\n  if (index > -1) {\r\n    // 取消选择\r\n    selectedKeyPoint.value.splice(index, 1)\r\n  } else {\r\n    // 重点不能全选，必须至少留一个数字不选重点\r\n    if (selectedKeyPoint.value.length < keyPointNumbers.value.length - 1) {\r\n      selectedKeyPoint.value.push(num)\r\n    } else {\r\n      uni.showToast({\r\n        title: '重点不能全选，必须至少留一个数字',\r\n        icon: 'none'\r\n      })\r\n    }\r\n  }\r\n}\r\n\r\n// 检查重点数字是否被选中\r\nconst isKeyPointSelected = (num) => {\r\n  return selectedKeyPoint.value.includes(num)\r\n}\r\n\r\n// 确认重点选择\r\nconst confirmKeyPoint = () => {\r\n  if (selectedKeyPoint.value.length === 0) {\r\n    uni.showToast({\r\n      title: '请至少选择一个重点数字',\r\n      icon: 'none'\r\n    })\r\n    return\r\n  }\r\n  \r\n  // 保存重点选择到方案数据中，按位数分别保存\r\n  if (!schemeData.value[activeScheme.value]) {\r\n    schemeData.value[activeScheme.value] = {}\r\n  }\r\n  \r\n  // 为当前位数保存重点数据\r\n  const keyPointKey = `${mainAttackType.value}KeyPoint`\r\n  schemeData.value[activeScheme.value][keyPointKey] = [...selectedKeyPoint.value]\r\n  \r\n  hideKeyPoint()\r\n  uni.showToast({\r\n    title: `${getMainAttackTitle()}重点已设置: ${selectedKeyPoint.value.join(',')}`,\r\n    icon: 'success'\r\n  })\r\n}\r\n\r\n// 检查是否显示重点按钮\r\nconst shouldShowKeyPoint = (type) => {\r\n  if (activeScheme.value !== '定头' && activeScheme.value !== '定百' && activeScheme.value !== '定十' && activeScheme.value !== '定尾' && activeScheme.value !== '头尾合' && activeScheme.value !== '中肚合' && activeScheme.value !== '千百合' && activeScheme.value !== '千十合' && activeScheme.value !== '百个合' && activeScheme.value !== '十个合' && activeScheme.value !== '头尾' && activeScheme.value !== '中肚' && activeScheme.value !== 'ABXX' && activeScheme.value !== 'AXCX' && activeScheme.value !== 'XBXD' && activeScheme.value !== 'XXCD' && activeScheme.value !== 'ABCX' && activeScheme.value !== 'ABXD' && activeScheme.value !== 'AXCD' && activeScheme.value !== 'XBCD' && activeScheme.value !== '芝麻') return false\r\n  \r\n  // 检查对应位数是否有主攻选择，且主攻数量大于等于2个\r\n  const mainAttackKey = `${type}MainAttack`\r\n  const mainAttackData = schemeData.value[activeScheme.value]?.[mainAttackKey]\r\n  return mainAttackData && mainAttackData.length >= 2\r\n}\r\n\r\n// 去发布\r\nconst goToPublish = () => {\r\n  if (addedSchemes.value.length === 0) {\r\n    uni.showToast({\r\n      title: '请先添加方案',\r\n      icon: 'none'\r\n    })\r\n    return\r\n  }\r\n  \r\n  // 检查是否从规律预测页面进入 - 规律帖不应该进入追帖模式\r\n  const pages = getCurrentPages()\r\n  const hasPatternPredictPage = pages.some(page => \r\n    page.route === 'pages/pattern-predict/pattern-predict'\r\n  )\r\n  \r\n  // 如果是规律帖，直接返回到规律预测页面\r\n  if (hasPatternPredictPage) {\r\n    // 保存方案数据到本地存储，供规律预测页面使用\r\n    uni.setStorageSync('predict_schemes_data', {\r\n      addedSchemes: addedSchemes.value,\r\n      schemeData: schemeData.value,\r\n      timestamp: Date.now()\r\n    })\r\n    \r\n    uni.navigateBack()\r\n    return\r\n  }\r\n  \r\n  // 如果是追帖模式，直接进入追帖流程\r\n  if (isAppendMode.value && appendPostData.value) {\r\n    proceedToAppendPost()\r\n    return\r\n  }\r\n  \r\n  // 检查是否有已发布的方案需要追帖\r\n  const publishedSchemesInCurrent = addedSchemes.value.filter(scheme => \r\n    isSchemePublished(scheme.id)\r\n  )\r\n  \r\n  // 如果所有选择的方案都没有发布过，直接发新帖\r\n  if (publishedSchemesInCurrent.length === 0) {\r\n    proceedToPublish()\r\n    return\r\n  }\r\n  \r\n  // 如果有已发布的方案，提示用户选择处理方式\r\n  const publishedNames = publishedSchemesInCurrent.map(s => s.name).join('、')\r\n  uni.showModal({\r\n    title: '检测到已发布方案',\r\n    content: `以下方案今天已发布过：${publishedNames}\\n\\n选择处理方式：`,\r\n    confirmText: '进入追帖模式',\r\n    cancelText: '继续发新帖',\r\n    success: (res) => {\r\n      if (res.confirm) {\r\n        // 进入追帖模式 - 跳转到第一个已发布方案的追帖\r\n        const firstPublishedScheme = publishedSchemesInCurrent[0]\r\n        enterAppendMode(firstPublishedScheme.id)\r\n      } else {\r\n        // 继续发新帖\r\n        proceedToPublish()\r\n      }\r\n    }\r\n  })\r\n}\r\n\r\n// 处理追帖发布\r\nconst proceedToAppendPost = () => {\r\n  try {\r\n    if (!appendPostData.value || !appendPostData.value.postId) {\r\n      uni.showToast({\r\n        title: '追帖数据异常',\r\n        icon: 'none'\r\n      })\r\n      return\r\n    }\r\n    \r\n    // 准备传递的数据\r\n    const publishData = {\r\n      schemes: addedSchemes.value,\r\n      lotteryType: currentLotteryType.value,\r\n      issueInfo: currentIssueInfo.value,\r\n      appendMode: true,\r\n      appendPostData: appendPostData.value\r\n    }\r\n    \r\n    // 跳转到预测发布页面，进入追帖模式\r\n    uni.navigateTo({\r\n      url: `/pages/predict-publish/predict-publish?data=${encodeURIComponent(JSON.stringify(publishData))}&postId=${appendPostData.value.postId}`,\r\n      success: () => {\r\n        // 不立即清除追帖数据，让predict-publish.vue在追帖完成后清除\r\n      },\r\n      fail: (err) => {\r\n        uni.showToast({\r\n          title: '跳转失败',\r\n          icon: 'none'\r\n        })\r\n      }\r\n    })\r\n    \r\n  } catch (error) {\r\n    uni.showToast({\r\n      title: '操作失败，请重试',\r\n      icon: 'none'\r\n    })\r\n  }\r\n}\r\n\r\n// 继续发新帖\r\nconst proceedToPublish = () => {\r\n  // 检查是否从规律预测页面进入 - 使用更可靠的检测方法\r\n  const pages = getCurrentPages()\r\n  const currentPage = pages[pages.length - 1]\r\n  const previousPage = pages[pages.length - 2]\r\n  \r\n  // 检查页面栈中是否有规律预测页面\r\n  const hasPatternPredictPage = pages.some(page => \r\n    page.route === 'pages/pattern-predict/pattern-predict'\r\n  )\r\n  \r\n  console.log('=== 检查页面来源 ===')\r\n  console.log('页面栈长度:', pages.length)\r\n  console.log('当前页面:', currentPage.route)\r\n  console.log('上一页面:', previousPage ? previousPage.route : '无')\r\n  console.log('页面栈中是否有规律预测页面:', hasPatternPredictPage)\r\n  \r\n  // 如果页面栈中有规律预测页面，返回到规律预测页面\r\n  if (hasPatternPredictPage) {\r\n    console.log('检测到规律帖模式，返回到规律预测页面')\r\n    // 保存方案数据到本地存储，供规律预测页面使用\r\n    uni.setStorageSync('predict_schemes_data', {\r\n      addedSchemes: addedSchemes.value,\r\n      schemeData: schemeData.value,\r\n      timestamp: Date.now()\r\n    })\r\n    \r\n    uni.navigateBack()\r\n    return\r\n  }\r\n  \r\n  // 准备传递的数据\r\n  const publishData = {\r\n    schemes: addedSchemes.value,\r\n    lotteryType: currentLotteryType.value,\r\n    issueInfo: currentIssueInfo.value\r\n  }\r\n  \r\n  uni.navigateTo({\r\n    url: `/pages/predict-publish/predict-publish?data=${encodeURIComponent(JSON.stringify(publishData))}`\r\n  })\r\n}\r\n\r\n// 返回\r\nconst goBack = () => {\r\n  uni.navigateBack()\r\n}\r\n\r\n// 处理修改方案\r\nconst handleModifySchemes = (schemesToModify) => {\r\n  if (schemesToModify && schemesToModify.length > 0) {\r\n    // 将修改的方案数据恢复到已添加方案列表\r\n    addedSchemes.value = [...schemesToModify]\r\n    \r\n    // 显示提示信息\r\n    uni.showToast({\r\n      title: '已加载修改的方案',\r\n      icon: 'success'\r\n    })\r\n  }\r\n}\r\n\r\n// 从论坛页面获取当前选中的彩票类型\r\nconst loadCurrentLotteryType = () => {\r\n  try {\r\n    // 从本地存储获取论坛页面选中的彩票类型\r\n    const forumLotteryType = uni.getStorageSync('currentLotteryType')\r\n    if (forumLotteryType) {\r\n      currentLotteryType.value = forumLotteryType\r\n    }\r\n    \r\n    const savedIssueInfo = uni.getStorageSync('currentIssueInfo')\r\n    if (savedIssueInfo) {\r\n      currentIssueInfo.value = savedIssueInfo\r\n    }\r\n  } catch (error) {\r\n    console.error('加载彩票类型失败:', error)\r\n  }\r\n}\r\n\r\n// 加载期号信息\r\nconst loadIssueInfo = async () => {\r\n  // 防止重复请求\r\n  if (isLoadingIssueInfo.value) {\r\n    console.log('正在加载期号信息，跳过重复请求')\r\n    return\r\n  }\r\n  \r\n  try {\r\n    // 如果已经有期号信息，直接返回\r\n    if (currentIssueInfo.value.number && currentIssueInfo.value.number !== '--') {\r\n      return\r\n    }\r\n    \r\n    isLoadingIssueInfo.value = true\r\n    uni.showLoading({ title: '加载中...' })\r\n    \r\n    const response = await apiGetIssueNo({ cpid: currentLotteryType.value.id })\r\n    \r\n    uni.hideLoading()\r\n    \r\n    if (response.code === 200 && response.data !== null && response.data !== undefined) {\r\n      let issueNumber = null\r\n      let issueStatus = '待开奖'\r\n      let issueTime = '今天 21:30'\r\n      \r\n      if (typeof response.data === 'number' || typeof response.data === 'string') {\r\n        issueNumber = response.data.toString()\r\n      } else if (typeof response.data === 'object') {\r\n        issueNumber = response.data.issueno || response.data.number || response.data.id\r\n        issueStatus = response.data.status || '待开奖'\r\n        issueTime = response.data.time || '今天 21:30'\r\n      }\r\n      \r\n      currentIssueInfo.value = {\r\n        id: issueNumber,\r\n        number: issueNumber,\r\n        status: issueStatus,\r\n        time: issueTime\r\n      }\r\n      \r\n      currentLotteryType.value.status = currentIssueInfo.value.status\r\n      currentLotteryType.value.time = currentIssueInfo.value.time\r\n    }\r\n  } catch (error) {\r\n    uni.hideLoading()\r\n    console.error('加载期号信息失败:', error)\r\n  } finally {\r\n    isLoadingIssueInfo.value = false\r\n  }\r\n}\r\n\r\n\r\n// 页面加载时监听修改事件\r\nonMounted(() => {\r\n  uni.$on('modifySchemes', handleModifySchemes)\r\n  // 加载已保存的方案数据\r\n  loadSavedSchemes()\r\n  // 从论坛页面获取当前选中的彩票类型\r\n  loadCurrentLotteryType()\r\n  // 加载期号信息\r\n  loadIssueInfo()\r\n  // 加载已发布的方案列表\r\n  loadPublishedSchemes()\r\n  // 延迟检查是否进入追帖模式，确保 currentLotteryType 已加载\r\n  setTimeout(() => {\r\n    checkAppendMode()\r\n  }, 100)\r\n})\r\n\r\n// 页面卸载时移除监听器\r\nonUnmounted(() => {\r\n  uni.$off('modifySchemes', handleModifySchemes)\r\n})\r\n\r\n// 保存方案到本地存储\r\nconst saveSchemesToStorage = () => {\r\n  try {\r\n    const schemesData = {\r\n      addedSchemes: addedSchemes.value,\r\n      schemeData: schemeData.value,\r\n      timestamp: Date.now()\r\n    }\r\n    uni.setStorageSync('predict_schemes_data', schemesData)\r\n  } catch (error) {\r\n    console.error('保存方案数据失败:', error)\r\n  }\r\n}\r\n\r\n// 从本地存储加载方案\r\nconst loadSavedSchemes = () => {\r\n  try {\r\n    const savedData = uni.getStorageSync('predict_schemes_data')\r\n    if (savedData && savedData.addedSchemes) {\r\n      addedSchemes.value = [...savedData.addedSchemes]\r\n      if (savedData.schemeData) {\r\n        schemeData.value = { ...savedData.schemeData }\r\n      }\r\n    }\r\n  } catch (error) {\r\n    console.error('加载方案数据失败:', error)\r\n  }\r\n}\r\n\r\n// 清除本地存储的方案数据\r\nconst clearStoredSchemes = () => {\r\n  try {\r\n    uni.removeStorageSync('predict_schemes_data')\r\n  } catch (error) {\r\n    console.error('清除本地存储失败:', error)\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.scheme-container {\r\n  min-height: 100vh;\r\n  background-color: #f5f5f5;\r\n}\r\n\r\n/* 导航栏 */\r\n.navbar {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  height: 88rpx;\r\n  background-color: #28B389;\r\n  z-index: 999;\r\n}\r\n\r\n/* 追帖模式提示 */\r\n.append-mode-tip {\r\n  position: fixed;\r\n  top: 88rpx;\r\n  left: 0;\r\n  right: 0;\r\n  background-color: #f0f8f0;\r\n  border-bottom: 1rpx solid #28B389;\r\n  z-index: 998;\r\n}\r\n\r\n.tip-content {\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 20rpx 30rpx;\r\n}\r\n\r\n.tip-text {\r\n  margin-left: 12rpx;\r\n  font-size: 26rpx;\r\n  color: #28B389;\r\n  font-weight: 500;\r\n}\r\n\r\n.nav-content {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  height: 100%;\r\n  padding: 0 30rpx;\r\n}\r\n\r\n.nav-left, .nav-right {\r\n  width: 60rpx;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n\r\n.back-arrow {\r\n  font-size: 40rpx;\r\n  color: #999;\r\n  font-weight: bold;\r\n  line-height: 1;\r\n}\r\n\r\n.nav-title {\r\n  font-size: 36rpx;\r\n  font-weight: 600;\r\n  color: #fff;\r\n}\r\n\r\n/* 主要内容区域 */\r\n.main-content {\r\n  display: flex;\r\n  padding-top: 88rpx;\r\n  padding-bottom: 120rpx; /* 为浮动按钮留出空间 */\r\n}\r\n\r\n/* 追帖模式下调整顶部间距 */\r\n.scheme-container:has(.append-mode-tip) .main-content {\r\n  padding-top: 140rpx; /* 为追帖提示留出额外空间 */\r\n}\r\n\r\n/* 左侧导航菜单 */\r\n.sidebar {\r\n  width: 200rpx;\r\n  background-color: #fff;\r\n  height: calc(100vh - 88rpx);\r\n}\r\n\r\n.menu-scroll {\r\n  height: 100%;\r\n  padding: 20rpx 0 0 0;\r\n  overflow-y: auto;\r\n  -webkit-overflow-scrolling: touch;\r\n}\r\n\r\n/* 左侧菜单滚动条样式 */\r\n.menu-scroll::-webkit-scrollbar {\r\n  width: 8rpx;\r\n}\r\n\r\n.menu-scroll::-webkit-scrollbar-track {\r\n  background: transparent;\r\n}\r\n\r\n.menu-scroll::-webkit-scrollbar-thumb {\r\n  background-color: #ddd;\r\n  border-radius: 4rpx;\r\n}\r\n\r\n.menu-scroll::-webkit-scrollbar-thumb:hover {\r\n  background-color: #ccc;\r\n}\r\n\r\n.menu-item {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  padding: 20rpx 30rpx;\r\n  margin: 10rpx 20rpx;\r\n  border-radius: 10rpx;\r\n  transition: all 0.3s ease;\r\n}\r\n\r\n.menu-item.active {\r\n  background-color: #fff2f0;\r\n}\r\n\r\n.menu-item.published {\r\n  background-color: #f0f8f0;\r\n  opacity: 0.8;\r\n}\r\n\r\n.menu-item.disabled {\r\n  background-color: #f5f5f5;\r\n  opacity: 0.6;\r\n  cursor: not-allowed;\r\n  pointer-events: none;\r\n}\r\n\r\n.menu-text {\r\n  font-size: 28rpx;\r\n  color: #666;\r\n}\r\n\r\n.menu-item.active .menu-text {\r\n  color: #ff4757;\r\n  font-weight: 500;\r\n}\r\n\r\n.menu-item.published .menu-text {\r\n  color: #28B389;\r\n  font-weight: 500;\r\n}\r\n\r\n.menu-item.disabled .menu-text {\r\n  color: #999;\r\n  font-weight: 400;\r\n}\r\n\r\n.menu-icons {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8rpx;\r\n}\r\n\r\n/* 底部标签 */\r\n.menu-footer {\r\n  padding: 20rpx 30rpx;\r\n  text-align: center;\r\n  border-top: 1rpx solid #f0f0f0;\r\n  margin-top: 20rpx;\r\n}\r\n\r\n.footer-text {\r\n  font-size: 24rpx;\r\n  color: #999;\r\n}\r\n\r\n.test-buttons {\r\n  margin-top: 20rpx;\r\n  display: flex;\r\n  flex-direction: column;\r\n  gap: 10rpx;\r\n}\r\n\r\n.test-btn {\r\n  height: 60rpx;\r\n  background-color: #f0f0f0;\r\n  color: #666;\r\n  border: none;\r\n  border-radius: 30rpx;\r\n  font-size: 22rpx;\r\n}\r\n\r\n/* 右侧配置区域 */\r\n.config-area {\r\n  flex: 1;\r\n  padding: 20rpx;\r\n  background-color: #fff;\r\n  margin: 20rpx 20rpx 20rpx 0;\r\n  border-radius: 20rpx;\r\n  box-sizing: border-box;\r\n}\r\n\r\n/* 数字选择区域 */\r\n.digit-section {\r\n  margin-bottom: 40rpx;\r\n}\r\n\r\n/* 二字现特殊区域 */\r\n.combination-section {\r\n  margin-bottom: 40rpx;\r\n}\r\n\r\n/* 主攻按钮 */\r\n.main-attack-btn {\r\n  margin-top: 20rpx;\r\n  padding: 15rpx 30rpx;\r\n  background-color: #f0f0f0;\r\n  border-radius: 10rpx;\r\n  text-align: center;\r\n  border: 1rpx solid #ddd;\r\n}\r\n\r\n.main-attack-text {\r\n  font-size: 28rpx;\r\n  color: #666;\r\n}\r\n\r\n/* 重点按钮 */\r\n.key-point-btn {\r\n  margin-top: 20rpx;\r\n  padding: 15rpx 30rpx;\r\n  background-color: #f0f0f0;\r\n  border-radius: 10rpx;\r\n  text-align: center;\r\n  border: 1rpx solid #ddd;\r\n}\r\n\r\n.key-point-text {\r\n  font-size: 28rpx;\r\n  color: #666;\r\n}\r\n\r\n/* 序列提示 */\r\n.sequence-tip {\r\n  margin: 20rpx 0;\r\n  padding: 15rpx 20rpx;\r\n  background-color: #f0f8ff;\r\n  border-radius: 10rpx;\r\n  text-align: center;\r\n}\r\n\r\n.tip-text {\r\n  font-size: 24rpx;\r\n  color: #1890ff;\r\n}\r\n\r\n.digit-label {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  margin-bottom: 20rpx;\r\n}\r\n\r\n.label-text {\r\n  font-size: 28rpx;\r\n  color: #666;\r\n  background-color: #f0f0f0;\r\n  padding: 8rpx 16rpx;\r\n  border-radius: 20rpx;\r\n}\r\n\r\n.limit-text {\r\n  font-size: 24rpx;\r\n  color: #999;\r\n}\r\n\r\n.number-grid {\r\n  display: grid;\r\n  grid-template-columns: repeat(5, 1fr);\r\n  gap: 20rpx;\r\n}\r\n\r\n.number-item {\r\n  width: 80rpx;\r\n  height: 80rpx;\r\n  border-radius: 50%;\r\n  background-color: #f0f0f0;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  transition: all 0.3s ease;\r\n}\r\n\r\n.number-item.selected {\r\n  background-color: #ff4757;\r\n}\r\n\r\n.number-text {\r\n  font-size: 32rpx;\r\n  color: #666;\r\n  font-weight: 500;\r\n}\r\n\r\n.number-item.selected .number-text {\r\n  color: #fff;\r\n}\r\n\r\n/* 二字现选择次数显示 */\r\n.selection-count {\r\n  position: absolute;\r\n  top: -8rpx;\r\n  right: -8rpx;\r\n  background-color: #ff4757;\r\n  color: #fff;\r\n  font-size: 20rpx;\r\n  width: 32rpx;\r\n  height: 32rpx;\r\n  border-radius: 50%;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  font-weight: bold;\r\n}\r\n\r\n/* 方案预览 */\r\n.scheme-preview {\r\n  background-color: #f8f8f8;\r\n  padding: 30rpx;\r\n  border-radius: 15rpx;\r\n  margin-bottom: 40rpx;\r\n  word-wrap: break-word;\r\n  word-break: break-all;\r\n  white-space: pre-wrap;\r\n}\r\n\r\n.preview-text {\r\n  display: block;\r\n  font-size: 28rpx;\r\n  color: #333;\r\n  margin-bottom: 10rpx;\r\n}\r\n\r\n.preview-text:last-child {\r\n  margin-bottom: 0;\r\n}\r\n\r\n/* 操作按钮 */\r\n.action-buttons {\r\n  display: flex;\r\n  gap: 20rpx;\r\n  margin-bottom: 40rpx; /* 适当间距 */\r\n}\r\n\r\n.clear-btn, .update-btn {\r\n  flex: 1;\r\n  height: 80rpx;\r\n  border-radius: 40rpx;\r\n  font-size: 28rpx;\r\n  font-weight: 500;\r\n  border: none;\r\n}\r\n\r\n.clear-btn {\r\n  background-color: #f0f0f0;\r\n  color: #666;\r\n}\r\n\r\n.update-btn {\r\n  background-color: #ff4757;\r\n  color: #fff;\r\n}\r\n\r\n/* 浮动发布按钮 */\r\n.floating-btn {\r\n  position: fixed;\r\n  right: 30rpx;\r\n  bottom: 30rpx;\r\n  width: 120rpx;\r\n  height: 120rpx;\r\n  background-color: #ff4757;\r\n  border-radius: 60rpx;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  box-shadow: 0 4rpx 20rpx rgba(255, 71, 87, 0.3);\r\n  z-index: 999;\r\n}\r\n\r\n.btn-text {\r\n  font-size: 24rpx;\r\n  color: #fff;\r\n  font-weight: 500;\r\n}\r\n\r\n.btn-step {\r\n  font-size: 20rpx;\r\n  color: #fff;\r\n  margin-top: 5rpx;\r\n}\r\n\r\n/* 保存提示弹窗 */\r\n.save-dialog-mask {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  background-color: rgba(0, 0, 0, 0.5);\r\n  z-index: 1000;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n\r\n.save-dialog {\r\n  width: 600rpx;\r\n  background-color: #fff;\r\n  border-radius: 20rpx;\r\n  padding: 40rpx;\r\n  text-align: center;\r\n}\r\n\r\n.dialog-title {\r\n  display: block;\r\n  font-size: 36rpx;\r\n  font-weight: 600;\r\n  color: #333;\r\n  margin-bottom: 30rpx;\r\n}\r\n\r\n.dialog-message {\r\n  display: block;\r\n  font-size: 28rpx;\r\n  color: #666;\r\n  line-height: 1.5;\r\n  margin-bottom: 40rpx;\r\n}\r\n\r\n.dialog-buttons {\r\n  display: flex;\r\n  gap: 20rpx;\r\n}\r\n\r\n.dialog-btn {\r\n  flex: 1;\r\n  height: 80rpx;\r\n  border-radius: 40rpx;\r\n  font-size: 28rpx;\r\n  font-weight: 500;\r\n  border: none;\r\n}\r\n\r\n.cancel-btn {\r\n  background-color: #f0f0f0;\r\n  color: #666;\r\n}\r\n\r\n.save-btn {\r\n  background-color: #ff4757;\r\n  color: #fff;\r\n}\r\n\r\n/* 主攻选择弹窗 */\r\n.main-attack-dialog-mask {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  background-color: rgba(0, 0, 0, 0.5);\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  z-index: 1000;\r\n}\r\n\r\n.main-attack-dialog {\r\n  background-color: #fff;\r\n  border-radius: 20rpx;\r\n  padding: 40rpx;\r\n  margin: 0 40rpx;\r\n  max-width: 600rpx;\r\n  width: 100%;\r\n}\r\n\r\n.main-attack-numbers {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  gap: 20rpx;\r\n  margin: 30rpx 0;\r\n  justify-content: center;\r\n}\r\n\r\n.main-attack-number-item {\r\n  width: 80rpx;\r\n  height: 80rpx;\r\n  border-radius: 50%;\r\n  border: 2rpx solid #ddd;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  background-color: #f8f8f8;\r\n  transition: all 0.3s ease;\r\n}\r\n\r\n.main-attack-number-item.selected {\r\n  background-color: #ff4757;\r\n  border-color: #ff4757;\r\n}\r\n\r\n.main-attack-number-text {\r\n  font-size: 32rpx;\r\n  color: #333;\r\n  font-weight: 500;\r\n}\r\n\r\n.main-attack-number-item.selected .main-attack-number-text {\r\n  color: #fff;\r\n}\r\n</style>\r\n","import MiniProgramPage from 'C:/Users/Administrator/Desktop/my-painting-rules-project/pages/predict-scheme/predict-scheme.vue'\nwx.createPage(MiniProgramPage)"],"names":["ref","computed","uni","apiPostListQuery","publishedSchemes","apiGetIssueNo","onMounted","onUnmounted"],"mappings":"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"}