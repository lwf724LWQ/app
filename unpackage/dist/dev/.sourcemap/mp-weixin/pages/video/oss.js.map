{"version":3,"file":"oss.js","sources":["pages/video/oss.vue","D:/uniapp/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvdmlkZW8vb3NzLnZ1ZQ"],"sourcesContent":["<template>\r\n\t<view class=\"container\">\r\n\t\t<view class=\"navbar\">\r\n\t\t\t<!-- 返回按钮 -->\r\n\t\t\t<view class=\"navbar-left\" @click=\"goBack\">\r\n\t\t\t\t<uni-icons type=\"left\" size=\"30\"></uni-icons>\r\n\t\t\t</view>\r\n\t\t\t<!-- 标题 -->\r\n\t\t\t<view class=\"navbar-title\">上传视频</view>\r\n\t\t</view>\r\n\r\n\t\t<!-- 视频信息表单 -->\r\n\t\t<view class=\"form-area\">\r\n\t\t\t<view class=\"form-item\">\r\n\t\t\t\t<text class=\"form-label\">视频标题</text>\r\n\t\t\t\t<input class=\"form-input\" v-model=\"videoTitle\" placeholder=\"请输入视频标题\" />\r\n\t\t\t</view>\r\n\r\n\t\t\t<view class=\"form-item\">\r\n\t\t\t\t<text class=\"form-label\">是否收费</text>\r\n\t\t\t\t<view class=\"radio-group\">\r\n\t\t\t\t\t<label class=\"radio-label\">\r\n\t\t\t\t\t\t<radio value=\"1\" :checked=\"isCharge === 1\" @click=\"isCharge = 1\">免费</radio>\r\n\t\t\t\t\t</label>\r\n\r\n\t\t\t\t\t<label class=\"radio-label\">\r\n\t\t\t\t\t\t<radio value=\"2\" :checked=\"isCharge === 2\" @click=\"isCharge = 2\">收费</radio>\r\n\t\t\t\t\t</label>\r\n\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\r\n\t\t\t<view class=\"form-item\" v-if=\"isCharge === 2\">\r\n\t\t\t\t<text class=\"form-label\">收费价格</text>\r\n\t\t\t\t<input class=\"form-input\" v-model=\"chargePrice\" type=\"number\" placeholder=\"请输入价格\" />\r\n\t\t\t\t<text class=\"price-unit\">元</text>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\t\t<!-- 视频上传区域 -->\r\n\t\t<view class=\"upload-area\" @click=\"chooseFile\">\r\n\t\t\t<uni-icons name=\"plus\" size=\"50\" color=\"#3498db\"></uni-icons>\r\n\t\t\t<view class=\"upload-text\">点击选择视频文件</view>\r\n\t\t\t<view class=\"upload-hint\">支持上传所有类型文件，大小不超过5MB</view>\r\n\t\t</view>\r\n\r\n\t\t<!-- 封面选择区域 -->\r\n\t\t<view class=\"cover-area\" v-if=\"fileList.length > 0\">\r\n\t\t\t<text class=\"section-title\">视频封面</text>\r\n\t\t\t<view class=\"cover-preview\" @click=\"chooseCover\">\r\n\t\t\t\t<image v-if=\"coverImage\" :src=\"coverImage\" class=\"cover-image\"></image>\r\n\t\t\t\t<view v-else class=\"cover-placeholder\">\r\n\t\t\t\t\t<uni-icons name=\"image\" size=\"40\" color=\"#ccc\"></uni-icons>\r\n\t\t\t\t\t<text>点击选择封面</text>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\t\t<!-- 上传进度 -->\r\n\t\t<view class=\"progress-area\" v-if=\"uploadProgress > 0\">\r\n\t\t  <progress :percent=\"uploadProgress\" active-color=\"#3498db\" show-info />\r\n\t\t</view>\r\n\t\t<!-- 状态信息 -->\r\n\t\t<view class=\"status-message\" :class=\"statusClass\">\r\n\t\t\t{{ statusMessage }}\r\n\t\t</view>\r\n\r\n\t\t<!-- 操作按钮 -->\r\n\t\t<view class=\"action-buttons\">\r\n\t\t\t<button type=\"primary\" @click=\"startUpload\" :disabled=\"fileList.length === 0\">\r\n\t\t\t\t开始上传\r\n\t\t\t</button>\r\n\t\t\t<button type=\"default\" @click=\"clearFiles\" :disabled=\"fileList.length === 0\">\r\n\t\t\t\t清空文件\r\n\t\t\t</button>\r\n\t\t</view>\r\n\r\n\t\t<!-- 上传结果 -->\r\n\t\t<view class=\"result-area\" v-if=\"uploadResults.length > 0\">\r\n\t\t\t<view class=\"file-list\">\r\n\t\t\t\t<view v-for=\"(result, index) in uploadResults\" :key=\"index\" class=\"file-item\">\r\n\t\t\t\t\t<view class=\"file-icon\">\r\n\t\t\t\t\t\t<uni-icons name=\"file\" size=\"24\" color=\"#409eff\"></uni-icons>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"file-info\">\r\n\t\t\t\t\t\t<text class=\"file-name\">{{ result.name }}</text>\r\n\t\t\t\t\t\t<text class=\"file-size\">{{ formatFileSize(result.size) }}</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"file-url\">\r\n\t\t\t\t\t\t<text>{{ result.url }}</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script setup>\r\n\timport \"uview-ui\";\r\n\timport {\r\n\t\tref\r\n\t} from 'vue'\r\n\timport tool from '@/utils/tool.js'\r\n\timport {\r\n\t\tapiSubmitVideo\r\n\t} from '@/api/apis';\r\n\timport {\r\n\t\tsetToken,\r\n\t\tgetToken,\r\n\t\tsetAccount,\r\n\t\tgetAccount\r\n\t} from '@/utils/request.js'; // 导入setToken，账号\r\n\r\n\t//导航栏\r\n\tconst goBack = () => {\r\n\t\tuni.navigateBack({\r\n\t\t\tdelta: 1\r\n\t\t});\r\n\t};\r\n\r\n\t// 文件列表\r\n\tconst fileList = ref([])\r\n\t// 上传结果\r\n\tconst uploadResults = ref([])\r\n\t// 上传进度\r\n\tconst uploadProgress = ref(0)\r\n\t// 状态信息\r\n\tconst statusMessage = ref('请选择要上传的文件')\r\n\tconst statusClass = ref('')\r\n\r\n\t// 新增：视频信息表单\r\n\tconst videoTitle = ref('')\r\n\tconst isCharge = ref(1) // 1=免费，2=收费\r\n\tconst chargePrice = ref('')\r\n\r\n\t// 封面图片\r\n\tconst coverImage = ref('')\r\n\tconst coverFile = ref(null)\r\n\r\n\t// 选择视频文件\r\n\tconst chooseFile = () => {\r\n\t\tuni.chooseImage({\r\n\t\t\tcount: 1, // 限制只能选择一个文件\r\n\t\t\tsizeType: ['original', 'compressed'],\r\n\t\t\tsourceType: ['album', 'camera'],\r\n\t\t\tsuccess: (res) => {\r\n\t\t\t\tconst tempFilePaths = res.tempFilePaths\r\n\t\t\t\tconsole.log(res.tempFilePaths)\r\n\t\t\t\tfileList.value = res.tempFiles\r\n\t\t\t\tstatusMessage.value = `已选择${fileList.value.length}个文件，点击\"开始上传\"按钮上传`\r\n\t\t\t\tstatusClass.value = 'status-warning'\r\n\r\n\t\t\t\t// 自动生成默认标题（可选）\r\n\t\t\t\tif (!videoTitle.value && fileList.value.length > 0) {\r\n\t\t\t\t\tconst fileName = fileList.value[0].name\r\n\t\t\t\t\tvideoTitle.value = fileName.replace(/\\.[^/.]+$/, \"\") // 移除文件扩展名\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\r\n\t// 选择封面\r\n\tconst chooseCover = () => {\r\n\t\tuni.chooseImage({\r\n\t\t\tcount: 1,\r\n\t\t\tsizeType: ['original', 'compressed'],\r\n\t\t\tsourceType: ['album', 'camera'],\r\n\t\t\tsuccess: (res) => {\r\n\t\t\t\tconst tempFilePath = res.tempFilePaths[0]\r\n\t\t\t\tcoverImage.value = tempFilePath\r\n\t\t\t\tcoverFile.value = res.tempFiles[0]\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\r\n\t// 开始上传\r\n\tconst startUpload = async () => {\r\n\t\tif (fileList.value.length === 0) {\r\n\t\t\tstatusMessage.value = '请先选择文件'\r\n\t\t\tstatusClass.value = 'status-error'\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\t// 验证表单\r\n\t\tif (!videoTitle.value.trim()) {\r\n\t\t\tstatusMessage.value = '请输入视频标题'\r\n\t\t\tstatusClass.value = 'status-error'\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\tif (isCharge.value === 2 && (!chargePrice.value || Number(chargePrice.value) <= 0)) {\r\n\t\t\tstatusMessage.value = '请输入有效的收费价格'\r\n\t\t\tstatusClass.value = 'status-error'\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\tstatusMessage.value = '正在上传...'\r\n\t\tstatusClass.value = 'status-warning'\r\n\t\tuploadProgress.value = 0\r\n\r\n\t\tfor (let i = 0; i < fileList.value.length; i++) {\r\n\t\t\tconst file = fileList.value[i]\r\n\t\t\ttry {\r\n\t\t\t\t// 执行视频上传\r\n\t\t\t\tconst videoResult = await tool.oss.upload(file, {\r\n\t\t\t\t\tfolder: 'videos', // 视频存储文件夹\r\n\t\t\t\t\tprogress: (percentage) => {\r\n\t\t\t\t\t\tuploadProgress.value = Math.floor(percentage * 100)\r\n\t\t\t\t\t\tstatusMessage.value = `视频上传中: ${uploadProgress.value}%`\r\n\t\t\t\t\t},\r\n\t\t\t\t})\r\n\r\n\t\t\t\tconsole.log('视频上传成功:', videoResult.name)\r\n\r\n\t\t\t\t// 上传封面图片到 vimg 文件夹\r\n\t\t\t\tlet coverUrl = \"\"\r\n\t\t\t\tif (coverFile.value) {\r\n\t\t\t\t\tstatusMessage.value = '正在上传封面...'\r\n\r\n\r\n\r\n\t\t\t\t\t// 上传封面图片到 vimg 文件夹\r\n\t\t\t\t\tconst coverResult = await tool.oss.upload(coverFile.value, {\r\n\t\t\t\t\t\tfolder: 'vimg', // 已经在文件名中指定了路径，所以这里设为空\r\n\t\t\t\t\t\tprogress: () => {} // 封面上传不需要显示进度\r\n\t\t\t\t\t})\r\n\r\n\t\t\t\t\tcoverUrl = coverResult.name\r\n\t\t\t\t\tconsole.log('封面上传成功:', coverUrl)\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// 准备发送到后端的数据\r\n\t\t\t\tconst videoData = {\r\n\t\t\t\t\ttitle: videoTitle.value,\r\n\t\t\t\t\tflag: isCharge.value === 2,\r\n\t\t\t\t\tprice: isCharge.value === 2 ? Number(chargePrice.value) : 0,\r\n\t\t\t\t\taccount: getAccount(),\r\n\t\t\t\t\turl: videoResult.name,\r\n\t\t\t\t\tvimg: coverUrl // 添加封面URL\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// 提交视频信息到后端\r\n\t\t\t\tconst submitResult = await apiSubmitVideo(videoData)\r\n\t\t\t\tconsole.log('视频信息提交成功:', submitResult)\r\n\r\n\t\t\t\t// 添加到上传结果\r\n\t\t\t\tuploadResults.value.push({\r\n\t\t\t\t\tname: file.name,\r\n\t\t\t\t\tsize: file.size,\r\n\t\t\t\t\turl: videoResult.url,\r\n\t\t\t\t\tcoverUrl: coverUrl\r\n\t\t\t\t})\r\n\r\n\t\t\t\tstatusMessage.value = `文件\"${file.name}\"上传成功`\r\n\t\t\t\tstatusClass.value = 'status-success'\r\n\r\n\t\t\t\t// 重置表单（可选）\r\n\t\t\t\tvideoTitle.value = ''\r\n\t\t\t\tisCharge.value = 1\r\n\t\t\t\tchargePrice.value = ''\r\n\t\t\t\tcoverImage.value = ''\r\n\t\t\t\tcoverFile.value = null\r\n\t\t\t} catch (error) {\r\n\t\t\t\tstatusMessage.value = `文件\"${file.name}\"上传失败: ${error.message}`\r\n\t\t\t\tstatusClass.value = 'status-error'\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t// 清空文件\r\n\tconst clearFiles = () => {\r\n\t\tfileList.value = []\r\n\t\tuploadResults.value = []\r\n\t\tuploadProgress.value = 0\r\n\t\tcoverImage.value = ''\r\n\t\tcoverFile.value = null\r\n\t\tstatusMessage.value = '已清空所有文件'\r\n\t\tstatusClass.value = 'status-warning'\r\n\t}\r\n\r\n\t// 格式化文件大小\r\n\tconst formatFileSize = (bytes) => {\r\n\t\tif (bytes === 0) return '0 Bytes'\r\n\t\tconst k = 1024\r\n\t\tconst sizes = ['Bytes', 'KB', 'MB', 'GB']\r\n\t\tconst i = Math.floor(Math.log(bytes) / Math.log(k))\r\n\t\treturn parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i]\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\t.navbar {\r\n\t\theight: 44px;\r\n\t\tbackground-color: #1677ff;\r\n\t\tcolor: white;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: space-between;\r\n\t\tpadding: 0 16px;\r\n\t\tmargin-bottom: 3rpx;\r\n\t\tposition: relative;\r\n\t\tz-index: 10;\r\n\t}\r\n\r\n\t.navbar-left {\r\n\t\twidth: 44px;\r\n\t\theight: 44px;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: flex-start;\r\n\t}\r\n\r\n\t.navbar-left .uni-icons {\r\n\t\tcolor: #fff !important;\r\n\t\tfont-size: 22px !important;\r\n\t}\r\n\r\n\t.navbar-title {\r\n\t\tfont-size: 18px;\r\n\t\tfont-weight: 500;\r\n\t\ttext-align: center;\r\n\t\tposition: absolute;\r\n\t\tleft: 0;\r\n\t\tright: 0;\r\n\t\tpointer-events: none;\r\n\t}\r\n\r\n\t.navbar-right {\r\n\t\twidth: 44px;\r\n\t\t/* 与左侧相同的宽度 */\r\n\t\theight: 44px;\r\n\t}\r\n\r\n\t.container {\r\n\t\tpadding: 20rpx;\r\n\t}\r\n\r\n\t/* 新增：表单样式 */\r\n\t.form-area {\r\n\t\tbackground: white;\r\n\t\tborder-radius: 8px;\r\n\t\tpadding: 20rpx;\r\n\t\tmargin-bottom: 20px;\r\n\t\tbox-shadow: 0 2rpx 10rpx rgba(0, 0, 0, 0.05);\r\n\t}\r\n\r\n\t.form-item {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tmargin-bottom: 30rpx;\r\n\t}\r\n\r\n\t.form-label {\r\n\t\tfont-size: 32rpx;\r\n\t\tfont-weight: 500;\r\n\t\tmargin-bottom: 15rpx;\r\n\t\tcolor: #333;\r\n\t}\r\n\r\n\t.form-input {\r\n\t\tborder: 1px solid #e4e7ed;\r\n\t\tborder-radius: 8rpx;\r\n\t\tpadding: 20rpx;\r\n\t\tfont-size: 28rpx;\r\n\t}\r\n\r\n\t.radio-group {\r\n\t\tdisplay: flex;\r\n\t\tgap: 40rpx;\r\n\t\tfont-size: 30rpx;\r\n\t}\r\n\r\n\t.radio-label {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tfont-size: 30rpx;\r\n\t}\r\n\r\n\t.price-unit {\r\n\t\tmargin-left: 10rpx;\r\n\t\tcolor: #999;\r\n\t}\r\n\r\n\t.upload-area {\r\n\t\tborder: 2px dashed #3498db;\r\n\t\tborder-radius: 8px;\r\n\t\tpadding: 30px;\r\n\t\ttext-align: center;\r\n\t\tbackground: #f8fafc;\r\n\t\tmargin-bottom: 20px;\r\n\t}\r\n\r\n\t.upload-text {\r\n\t\tfont-size: 18px;\r\n\t\tmargin: 10px 0;\r\n\t}\r\n\r\n\t.upload-hint {\r\n\t\tfont-size: 14px;\r\n\t\tcolor: #7f8c8d;\r\n\t}\r\n\r\n\t/* 新增：封面选择区域 */\r\n\t.cover-area {\r\n\t\tmargin-bottom: 20px;\r\n\t}\r\n\r\n\t.section-title {\r\n\t\tfont-size: 16px;\r\n\t\tfont-weight: bold;\r\n\t\tmargin-bottom: 10px;\r\n\t\tdisplay: block;\r\n\t}\r\n\r\n\t.cover-preview {\r\n\t\twidth: 100%;\r\n\t\theight: 200px;\r\n\t\tborder: 1px dashed #ccc;\r\n\t\tborder-radius: 8px;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t\toverflow: hidden;\r\n\t\tbackground-color: #f8f8f8;\r\n\t}\r\n\r\n\t.cover-image {\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\tobject-fit: cover;\r\n\t}\r\n\r\n\t.cover-placeholder {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\talign-items: center;\r\n\t\tcolor: #999;\r\n\t\tfont-size: 14px;\r\n\t}\r\n\r\n\t.progress-area {\r\n\t\tmargin: 20px 0;\r\n\t}\r\n\r\n\t.status-message {\r\n\t\tpadding: 10px;\r\n\t\tborder-radius: 4px;\r\n\t\ttext-align: center;\r\n\t\tmargin-bottom: 20px;\r\n\t}\r\n\r\n\t.status-success {\r\n\t\tbackground-color: #e8f6ef;\r\n\t\tcolor: #27ae60;\r\n\t}\r\n\r\n\t.status-error {\r\n\t\tbackground-color: #fdecea;\r\n\t\tcolor: #e74c3c;\r\n\t}\r\n\r\n\t.status-warning {\r\n\t\tbackground-color: #e8f4fc;\r\n\t\tcolor: #3498db;\r\n\t}\r\n\r\n\t.action-buttons {\r\n\t\tdisplay: flex;\r\n\t\tgap: 10px;\r\n\t\tmargin-bottom: 20px;\r\n\t}\r\n\r\n\t.result-area {\r\n\t\tborder: 1px solid #e4e7ed;\r\n\t\tborder-radius: 8px;\r\n\t\tpadding: 15px;\r\n\t}\r\n\r\n\t.file-list {\r\n\t\tmargin-top: 10px;\r\n\t}\r\n\r\n\t.file-item {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tpadding: 10px;\r\n\t\tborder-bottom: 1px solid #e4e7ed;\r\n\t}\r\n\r\n\t.file-icon {\r\n\t\tmargin-right: 10px;\r\n\t}\r\n\r\n\t.file-info {\r\n\t\tflex: 1;\r\n\t}\r\n\r\n\t.file-name {\r\n\t\tfont-weight: bold;\r\n\t}\r\n\r\n\t.file-size {\r\n\t\tfont-size: 12px;\r\n\t\tcolor: #909399;\r\n\t}\r\n\r\n\t.file-url {\r\n\t\tword-break: break-all;\r\n\t\tfont-size: 14px;\r\n\t\tcolor: #666;\r\n\t}\r\n</style>","import MiniProgramPage from 'C:/Users/Administrator/Desktop/my-painting-rules-project/pages/video/oss.vue'\nwx.createPage(MiniProgramPage)"],"names":["uni","ref","tool","getAccount","apiSubmitVideo","MiniProgramPage"],"mappings":";;;;;;;;;;;;;;;;AAkHC,UAAM,SAAS,MAAM;AACpBA,oBAAAA,MAAI,aAAa;AAAA,QAChB,OAAO;AAAA,MACV,CAAG;AAAA,IACH;AAGC,UAAM,WAAWC,cAAG,IAAC,EAAE;AAEvB,UAAM,gBAAgBA,cAAG,IAAC,EAAE;AAE5B,UAAM,iBAAiBA,cAAG,IAAC,CAAC;AAE5B,UAAM,gBAAgBA,cAAG,IAAC,WAAW;AACrC,UAAM,cAAcA,cAAG,IAAC,EAAE;AAG1B,UAAM,aAAaA,cAAG,IAAC,EAAE;AACzB,UAAM,WAAWA,cAAG,IAAC,CAAC;AACtB,UAAM,cAAcA,cAAG,IAAC,EAAE;AAG1B,UAAM,aAAaA,cAAG,IAAC,EAAE;AACzB,UAAM,YAAYA,cAAG,IAAC,IAAI;AAG1B,UAAM,aAAa,MAAM;AACxBD,oBAAAA,MAAI,YAAY;AAAA,QACf,OAAO;AAAA;AAAA,QACP,UAAU,CAAC,YAAY,YAAY;AAAA,QACnC,YAAY,CAAC,SAAS,QAAQ;AAAA,QAC9B,SAAS,CAAC,QAAQ;AACK,cAAI;AAC1BA,wBAAAA,MAAA,MAAA,OAAA,8BAAY,IAAI,aAAa;AAC7B,mBAAS,QAAQ,IAAI;AACrB,wBAAc,QAAQ,MAAM,SAAS,MAAM,MAAM;AACjD,sBAAY,QAAQ;AAGpB,cAAI,CAAC,WAAW,SAAS,SAAS,MAAM,SAAS,GAAG;AACnD,kBAAM,WAAW,SAAS,MAAM,CAAC,EAAE;AACnC,uBAAW,QAAQ,SAAS,QAAQ,aAAa,EAAE;AAAA,UACnD;AAAA,QACD;AAAA,MACJ,CAAG;AAAA,IACD;AAGD,UAAM,cAAc,MAAM;AACzBA,oBAAAA,MAAI,YAAY;AAAA,QACf,OAAO;AAAA,QACP,UAAU,CAAC,YAAY,YAAY;AAAA,QACnC,YAAY,CAAC,SAAS,QAAQ;AAAA,QAC9B,SAAS,CAAC,QAAQ;AACjB,gBAAM,eAAe,IAAI,cAAc,CAAC;AACxC,qBAAW,QAAQ;AACnB,oBAAU,QAAQ,IAAI,UAAU,CAAC;AAAA,QACjC;AAAA,MACJ,CAAG;AAAA,IACD;AAGD,UAAM,cAAc,YAAY;AAC/B,UAAI,SAAS,MAAM,WAAW,GAAG;AAChC,sBAAc,QAAQ;AACtB,oBAAY,QAAQ;AACpB;AAAA,MACA;AAGD,UAAI,CAAC,WAAW,MAAM,QAAQ;AAC7B,sBAAc,QAAQ;AACtB,oBAAY,QAAQ;AACpB;AAAA,MACA;AAED,UAAI,SAAS,UAAU,MAAM,CAAC,YAAY,SAAS,OAAO,YAAY,KAAK,KAAK,IAAI;AACnF,sBAAc,QAAQ;AACtB,oBAAY,QAAQ;AACpB;AAAA,MACA;AAED,oBAAc,QAAQ;AACtB,kBAAY,QAAQ;AACpB,qBAAe,QAAQ;AAEvB,eAAS,IAAI,GAAG,IAAI,SAAS,MAAM,QAAQ,KAAK;AAC/C,cAAM,OAAO,SAAS,MAAM,CAAC;AAC7B,YAAI;AAEH,gBAAM,cAAc,MAAME,WAAAA,KAAK,IAAI,OAAO,MAAM;AAAA,YAC/C,QAAQ;AAAA;AAAA,YACR,UAAU,CAAC,eAAe;AACzB,6BAAe,QAAQ,KAAK,MAAM,aAAa,GAAG;AAClD,4BAAc,QAAQ,UAAU,eAAe,KAAK;AAAA,YACpD;AAAA,UACN,CAAK;AAEDF,wBAAA,MAAA,MAAA,OAAA,8BAAY,WAAW,YAAY,IAAI;AAGvC,cAAI,WAAW;AACf,cAAI,UAAU,OAAO;AACpB,0BAAc,QAAQ;AAKtB,kBAAM,cAAc,MAAME,WAAI,KAAC,IAAI,OAAO,UAAU,OAAO;AAAA,cAC1D,QAAQ;AAAA;AAAA,cACR,UAAU,MAAM;AAAA,cAAE;AAAA;AAAA,YACxB,CAAM;AAED,uBAAW,YAAY;AACvBF,0BAAAA,MAAA,MAAA,OAAA,8BAAY,WAAW,QAAQ;AAAA,UAC/B;AAGD,gBAAM,YAAY;AAAA,YACjB,OAAO,WAAW;AAAA,YAClB,MAAM,SAAS,UAAU;AAAA,YACzB,OAAO,SAAS,UAAU,IAAI,OAAO,YAAY,KAAK,IAAI;AAAA,YAC1D,SAASG,cAAAA,WAAY;AAAA,YACrB,KAAK,YAAY;AAAA,YACjB,MAAM;AAAA;AAAA,UACN;AAGD,gBAAM,eAAe,MAAMC,SAAc,eAAC,SAAS;AACnDJ,wBAAAA,MAAA,MAAA,OAAA,8BAAY,aAAa,YAAY;AAGrC,wBAAc,MAAM,KAAK;AAAA,YACxB,MAAM,KAAK;AAAA,YACX,MAAM,KAAK;AAAA,YACX,KAAK,YAAY;AAAA,YACjB;AAAA,UACL,CAAK;AAED,wBAAc,QAAQ,MAAM,KAAK,IAAI;AACrC,sBAAY,QAAQ;AAGpB,qBAAW,QAAQ;AACnB,mBAAS,QAAQ;AACjB,sBAAY,QAAQ;AACpB,qBAAW,QAAQ;AACnB,oBAAU,QAAQ;AAAA,QAClB,SAAQ,OAAO;AACf,wBAAc,QAAQ,MAAM,KAAK,IAAI,UAAU,MAAM,OAAO;AAC5D,sBAAY,QAAQ;AAAA,QACpB;AAAA,MACD;AAAA,IACD;AAGD,UAAM,aAAa,MAAM;AACxB,eAAS,QAAQ,CAAE;AACnB,oBAAc,QAAQ,CAAE;AACxB,qBAAe,QAAQ;AACvB,iBAAW,QAAQ;AACnB,gBAAU,QAAQ;AAClB,oBAAc,QAAQ;AACtB,kBAAY,QAAQ;AAAA,IACpB;AAGD,UAAM,iBAAiB,CAAC,UAAU;AACjC,UAAI,UAAU;AAAG,eAAO;AACxB,YAAM,IAAI;AACV,YAAM,QAAQ,CAAC,SAAS,MAAM,MAAM,IAAI;AACxC,YAAM,IAAI,KAAK,MAAM,KAAK,IAAI,KAAK,IAAI,KAAK,IAAI,CAAC,CAAC;AAClD,aAAO,YAAY,QAAQ,KAAK,IAAI,GAAG,CAAC,GAAG,QAAQ,CAAC,CAAC,IAAI,MAAM,MAAM,CAAC;AAAA,IACtE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC9RF,GAAG,WAAWK,SAAe;"}