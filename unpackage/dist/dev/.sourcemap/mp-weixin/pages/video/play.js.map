{"version":3,"file":"play.js","sources":["pages/video/play.vue","D:/uniapp/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvdmlkZW8vcGxheS52dWU"],"sourcesContent":["<template>\n  <view class=\"container\">\r\n\t<view class=\"navbar\">\r\n\t\t<!-- 返回按钮 -->\r\n\t\t<view class=\"navbar-left\" @click=\"goBack\">\r\n\t\t   <uni-icons type=\"left\" size=\"30\"></uni-icons>\r\n\t\t </view>\r\n\t\t <!-- 标题 -->\r\n\t\t <view class=\"navbar-title\">{{ videoData.title }}</view>\r\n\t</view>\n    <!-- 视频播放器容器 -->\n    <view class=\"video-container\">\n      <video \n        :src=\"videoData.src\" \n        :controls=\"isPlaying\" \n        :autoplay=\"false\"\n        object-fit=\"cover\"\n        class=\"video-player\"\n        id=\"videoPlayer\"\n        @play=\"onVideoPlay\"\n        @pause=\"onVideoPause\"\n      ></video>\n      \n      <!-- 播放按钮遮罩层 -->\n      <view class=\"play-overlay\" v-if=\"showPlayButton\" @click=\"playVideo\">\n        <view class=\"play-button\">\n          <uni-icons type=\"play-filled\" size=\"60\" color=\"#fff\"></uni-icons>\n        </view>\n      </view>\n    </view>\n    \n    <!-- 视频信息 -->\n    <view class=\"author-info\">\n      <view class=\"author-avatar\">\n        <!-- 修改头像路径 -->\n        <image :src=\"getAvatarUrl(userInfo.himg)\" class=\"avatar\"></image>\n        <view class=\"v-badge\">V</view>\n      </view>\n      <view class=\"author-details\">\n        <text class=\"author-name\">{{userInfo.uname}}</text>\n        <!-- <text class=\"author-location\"></text> -->\n      </view>\n    </view>\n    \n    <!-- 操作按钮区域（点赞和打赏在同一行） -->\n    <view class=\"action-bar\">\n      <!-- 点赞按钮 -->\n      <view class=\"like-section\">\n        <button class=\"like-btn\" :class=\"{ 'liked': videoData.isLiked }\" @click=\"toggleLike\">\n          <uni-icons :type=\"videoData.isLiked ? 'heart-filled' : 'heart'\" size=\"24\" :color=\"videoData.isLiked ? '#ff4757' : '#666'\"></uni-icons>\n          <text class=\"like-count\">{{ videoData.likeCount }}</text>\n        </button>\n      </view>\n      \n      <!-- 打赏按钮 -->\n      <view class=\"reward-section\">\n        <button class=\"reward-btn\" @click=\"goToRewardPage\">\n          <uni-icons type=\"gift-filled\" size=\"24\" color=\"#aa0000\"></uni-icons>\n          <text class=\"reward-text\">打赏</text>\n        </button>\n      </view>\n    </view>\n  </view>\n</template>\n\n<script setup>\nimport { ref, onMounted } from 'vue';\nimport { onLoad } from '@dcloudio/uni-app';\nimport { apiGetLikelist, apiGetIsLike,apiCheckVideoPayment,apiUserimg } from '@/api/apis';\nimport { getToken, getAccount } from '@/utils/request.js';\nimport { useVideoStore } from '@/stores/video.js'\n\n// 初始化仓库\nconst videoStore = useVideoStore()\n\n// 视频数据\nconst videoData = ref({\n  id: '',\n  title: '',\n  src: '',\n  account: '',\n  likeCount: 0,\n  isLiked: false\n});\n\n// 添加响应式数据\nconst showPlayButton = ref(true) // 控制播放按钮显示\nconst isPlaying = ref(false) // 视频播放状态\nconst videoContext = ref(null) // 视频上下文\n//用户头像，名字接口数据接收\nconst userInfo = ref({\n  uname: '',\n  himg: ''\n});\n\n// 获取头像的方法\nconst getAvatarUrl = (himg) => {\n  if (!himg) return ''; // 如果没有头像，返回空字符串\n  return `http://video.caimizm.com/himg/${himg}`;\n};\n\n// 获取路由参数\nonLoad(async (options) => {\n  if (options.id) {\n    // 从 Pinia store 获取视频数据\n    const currentVideo = videoStore.getCurrentVideo\n    if (currentVideo && currentVideo.id === options.id) {\n      // 使用 store 中的视频数据\n      videoData.value = {\n        id: currentVideo.id,\n        title: currentVideo.title,\n        src: currentVideo.src,\n        account: currentVideo.account,\n        likeCount: currentVideo.likeCount || 0,\n        isLiked: currentVideo.isLiked || false,\n        flag: currentVideo.flag,\n        price: currentVideo.price,\r\n\t\t\n      }\n      // 调用apiUserimg获取用户信息\n      await getUserInfo(currentVideo.account);\n    } \n  }\n})\n\n// 在onMounted中初始化视频上下文\nonMounted(() => {\n  // 创建视频上下文\n  videoContext.value = uni.createVideoContext('videoPlayer')\n})\r\n//导航栏\r\n\tconst goBack = () => {\r\n\t\tuni.navigateBack({\r\n\t\t\tdelta: 1\r\n\t\t});\r\n\t};\n\n// 获取用户信息\nconst getUserInfo = async (account) => {\n  try {\n    // 准备请求参数\n    const params = {\n      account: account\n    };\n    \n    const headers = {};\n    const token = getToken();\n    if (token) {\n      headers['Authorization'] = token;\n    }\n    \n    // 调用apiUserimg接口\n    const response = await apiUserimg(params, headers);\n    \n    if (response.code===200) {\n      // 更新用户信息\n      userInfo.value = {\n        uname: response.data.uname,\n        himg: response.data.himg\n      };\n    } else {\n      console.error('获取用户信息失败:', response.message);\n      // 使用默认信息\n      userInfo.value = {\n        uname: account,\n        himg: ''\n      };\n    }\n  } catch (error) {\n    console.error('获取用户信息异常:', error);\n    // 使用默认信息\n    userInfo.value = {\n      uname: account,\n      himg: ''\n    };\n  }\n};\n\n// 播放视频方法\nconst playVideo = async () => {\n  // 检查是否登录\n  const token = getToken();\n  if (!token) {\n    uni.showToast({\n      title: '请先登录',\n      icon: 'none'\n    });\n    setTimeout(() => {\n      uni.navigateTo({\n        url: '/pages/login/login'\n      });\n    }, 1500);\n    return;\n  }\n   // 判断是否为免费视频\n    if (!videoData.value.flag || videoData.value.price === 0) {\n      // 免费视频直接播放\n      if (videoContext.value) {\n        videoContext.value.play()\n        isPlaying.value = true\n        showPlayButton.value = false\n      }\n      return;\n    }\n  // 检查视频付费状态\n  try {\n    // 调用付费检查API\n    const paymentCheck = await apiCheckVideoPayment({\n      videoId: videoData.value.id,\n      account: getAccount()\n    });\n   \n      if (paymentCheck.data) {\n        // 用户已付费，播放视频\n        if (videoContext.value) {\n          videoContext.value.play()\n          isPlaying.value = true\n          showPlayButton.value = false\n        }\n      } else {\n        // 用户未付费，显示付费提示\n        uni.showModal({\n          title: '付费视频',\n          content: `观看此视频需要支付${videoData.value.price}金币`,\n          confirmText: '立即支付',  \n          cancelText: '取消',\n          success: async (res) => {\n            if (res.confirm) {\n              // 这里调用支付接口\n              await payForVideo();\n            }\n          }\n        });\n      }\n    \n  } catch (error) {\n    uni.showToast({\n      title: error.message || '查询失败',\n      icon: 'none'\n    });\n  }\n};\n\nconst payForVideo = async () => {\n  // 准备支付数据\n  const paymentData = {\n    info: `视频: ${videoData.value.title}`,\n    amount: videoData.value.price,\n    type: 3, // 视频付费类型\n    account: getAccount(),\n    payType: 0, // 默认微信支付\n    channel: 0 ,// 微信小程序\r\n\tvideoId: videoData.value.id // 添加视频ID参数\n  };\n  \n  // 跳转到支付页面\n  uni.navigateTo({\r\n\t   url: `/pages/video/payment?${objectToQueryString(paymentData)}`\n  });\n};\n\n// 将对象转换为查询字符串\nconst objectToQueryString = (obj) => {\n  return Object.keys(obj).map(key => {\n    return `${encodeURIComponent(key)}=${encodeURIComponent(obj[key])}`;\n  }).join('&');\n};\n\n// 视频开始播放事件\nconst onVideoPlay = () => {\n  isPlaying.value = true\n  showPlayButton.value = false\n}\n\n// 视频暂停事件\nconst onVideoPause = () => {\n  isPlaying.value = false\n  showPlayButton.value = true\n}\n\n// 跳转到打赏页面\nconst goToRewardPage = () => {\n  // 检查登录状态\n  const token = getToken();\n  if (!token) {\n    uni.showToast({\n      title: '请先登录',\n      icon: 'none'\n    });\n    setTimeout(() => {\n      uni.navigateTo({\n        url: '/pages/login/login'\n      });\n    }, 1500);\n    return;\n  }\n  \n  // 跳转到打赏页面，传递视频信息\n  uni.navigateTo({\n     url: `/pages/video/reward?videoId=${videoData.value.id}&author=${encodeURIComponent(videoData.value.account)}&title=${encodeURIComponent(videoData.value.title)}&authorAvatar=${encodeURIComponent(userInfo.value.himg)}&authorName=${encodeURIComponent(userInfo.value.uname)}`\n  });\n};\n\n// 点赞功能\nconst toggleLike = async () => {\n  try {\n    // 保存原始状态，以便在请求失败时恢复\n    const originalIsLiked = videoData.value.isLiked;\n    const originalLikeCount = videoData.value.likeCount;\n    \n    // 立即更新UI，提供更好的用户体验\n    videoData.value.isLiked = !videoData.value.isLiked;\n    videoData.value.likeCount = videoData.value.isLiked ? \n      videoData.value.likeCount + 1 : \n      videoData.value.likeCount - 1;\n    \n    // 调用点赞API\n    const response = await apiGetIsLike({\n      id: videoData.value.id,\n      account: getAccount(),\n      isLiked: videoData.value.isLiked\n    });\n    \n    console.log('点赞操作成功');\n    \n    // 获取点赞列表（可选）\n    const likeList = await apiGetLikelist(getAccount());\n    console.log(likeList);\n  } catch (error) {\n    console.error('点赞操作失败:', error);\n    \n    // 恢复原始状态\n    videoData.value.isLiked = originalIsLiked;\n    videoData.value.likeCount = originalLikeCount;\n    \n    uni.showToast({\n      title: '操作失败，请重试',\n      icon: 'none'\n    });\n  }\n};\n</script>\n\n<style scoped>\r\n\t.navbar {\r\n\t  height: 44px;\r\n\t  background-color: #1677ff;\r\n\t  color: white;\r\n\t  display: flex;\r\n\t  align-items: center;\r\n\t  justify-content: space-between; \r\n\t  padding: 0 16px;\r\n\t  margin-bottom: 3rpx;\r\n\t  position: relative;\r\n\t  z-index: 10;\r\n\t}\r\n\t\r\n\t.navbar-left {\r\n\t  width: 44px;\r\n\t  height: 44px;\r\n\t  display: flex;\r\n\t  align-items: center;\r\n\t  justify-content: flex-start;\r\n\t   z-index: 11;\r\n\t}\r\n\t\r\n\t.navbar-left .uni-icons {\r\n\t  color: #fff !important;\r\n\t  font-size: 22px !important;\r\n\t}\r\n\t\r\n\t.navbar-title {\r\n\t  font-size: 18px;\r\n\t  font-weight: 500;\r\n\t  text-align: center;\r\n\t  position: absolute;\r\n\t  left: 0;\r\n\t  right: 0;\r\n\t  pointer-events: none;\r\n\t}\r\n\t\r\n\t.navbar-right {\r\n\t  width: 44px; /* 与左侧相同的宽度 */\r\n\t  height: 44px;\r\n\t}\n/* 作者信息 */\n.author-info {\n  margin-top: 30rpx;\n  padding: 30rpx;\n  background-color: #fff;\n  border-radius: 16rpx;\n  box-shadow: 0 4rpx 12rpx rgba(0, 0, 0, 0.05);\n  display: flex;\n  align-items: center;\n}\n\n.author-avatar {\n  position: relative;\n  margin-right: 20rpx;\n}\n\n.avatar {\n  width: 80rpx;\n  height: 80rpx;\n  border-radius: 50%;\n  background-color: #f0f0f0;\n}\n\n.v-badge {\n  position: absolute;\n  bottom: 0;\n  right: 0;\n  width: 24rpx;\n  height: 24rpx;\n  background-color: #ffd700;\n  border-radius: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 16rpx;\n  font-weight: bold;\n  color: #fff;\n}\n\n.author-details {\n  display: flex;\n  flex-direction: column;\n}\n\n.author-name {\n  font-size: 32rpx;\n  font-weight: bold;\n  color: #333;\n  margin-bottom: 8rpx;\n}\n\n.author-location {\n  font-size: 24rpx;\n  color: #666;\n}\n\n/* 打赏金额选项 */\n.reward-options {\n  margin-top: 30rpx;\n  padding: 20rpx;\n  background-color: #fff;\n  border-radius: 16rpx;\n  box-shadow: 0 4rpx 12rpx rgba(0, 0, 0, 0.05);\n}\n\n.section-title {\n  font-size: 32rpx;\n  font-weight: bold;\n  color: #333;\n  margin-bottom: 20rpx;\n  display: block;\n}\n\n.amount-grid {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 20rpx;\n}\n\n.amount-option {\n  flex: 1;\n  min-width: 150rpx;\n  padding: 20rpx;\n  border: 2rpx solid #3498db;\n  border-radius: 16rpx;\n  text-align: center;\n  background-color: #f8f8f8;\n  transition: all 0.3s ease;\n}\n\n.amount-option.active {\n  background-color: #3498db;\n  color: #fff;\n  transform: translateY(-5rpx);\n  box-shadow: 0 4rpx 12rpx rgba(52, 152, 219, 0.2);\n}\n\n.amount-text {\n  font-size: 28rpx;\n  font-weight: bold;\n}\n\t\n\n.container {\n  padding: 20rpx;\n  background-color: #f5f5f5;\n  min-height: 100vh;\n}\n\n/* 视频容器样式 */\n.video-container {\n  position: relative;\n  width: 100%;\n  height: 600rpx;\n  border-radius: 16rpx;\n  overflow: hidden;\n  background-color: #000;\n  margin-bottom: 20rpx;\n}\n\n.video-player {\n  width: 100%;\n  height: 100%;\n}\n\n/* 播放按钮遮罩层 */\n.play-overlay {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: rgba(0, 0, 0, 0.3);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 10;\n}\n\n.play-button {\n  width: 80rpx;\n  height: 80rpx;\n  background-color: rgba(0, 0, 0, 0.5);\n  border-radius: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transition: transform 0.3s ease;\n}\n\n.play-button:active {\n  transform: scale(0.9);\n}\n\n.video-info {\n  margin-top: 30rpx;\n  padding: 20rpx;\n  background-color: #fff;\n  border-radius: 16rpx;\n  box-shadow: 0 4rpx 12rpx rgba(0, 0, 0, 0.05);\n}\n\n.video-title {\n  font-size: 36rpx;\n  font-weight: bold;\n  color: #333;\n  display: block;\n  margin-bottom: 10rpx;\n}\n\n.video-author {\n  font-size: 28rpx;\n  color: #666;\n}\n\n/* 操作按钮区域（点赞和打赏在同一行） */\n.action-bar {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-top: 30rpx;\n  padding: 0 20rpx;\n}\n\n/* 点赞区域 */\n.like-section {\n  flex: 1;\n  margin-right: 20rpx;\n}\n\n.like-btn {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background: none;\n  border: 1rpx solid #e0e0e0;\n  border-radius: 40rpx;\n  padding: 16rpx 24rpx;\n  font-size: 28rpx;\n  color: #666;\n  transition: all 0.3s ease;\n}\n\n.like-btn.liked {\n  color: #ff4757;\n  border-color: #ff4757;\n  background-color: rgba(255, 71, 87, 0.1);\n}\n\n.like-count {\n  margin-left: 10rpx;\n  font-weight: 500;\n}\n\n/* 打赏区域 */\n.reward-section {\n  flex: 1;\n}\n\n.reward-btn {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background: linear-gradient(135deg, #ff9500, #ff7300);\n  border: none;\n  border-radius: 40rpx;\n  padding: 16rpx 24rpx;\n  font-size: 28rpx;\n  color: #fff;\n  box-shadow: 0 4rpx 12rpx rgba(255, 149, 0, 0.3);\n  transition: all 0.3s ease;\n}\n\n.reward-btn:active {\n  transform: scale(0.95);\n  box-shadow: 0 2rpx 8rpx rgba(255, 149, 0, 0.2);\n}\n\n.reward-text {\n  margin-left: 10rpx;\n  font-weight: 500;\n}\n</style>","import MiniProgramPage from 'C:/Users/Administrator/Desktop/my-painting-rules-project/pages/video/play.vue'\nwx.createPage(MiniProgramPage)"],"names":["useVideoStore","ref","onLoad","onMounted","uni","getToken","apiUserimg","apiCheckVideoPayment","getAccount","originalIsLiked","originalLikeCount","apiGetIsLike","apiGetLikelist"],"mappings":"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"}