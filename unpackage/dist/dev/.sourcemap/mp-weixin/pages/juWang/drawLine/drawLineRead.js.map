{"version":3,"file":"drawLineRead.js","sources":["pages/juWang/drawLine/drawLineRead.vue","D:/uniapp/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvanVXYW5nL2RyYXdMaW5lL2RyYXdMaW5lUmVhZC52dWU"],"sourcesContent":["<template>\r\n\t<view class=\"container\">\r\n\t\t<!-- 自定义导航栏 -->\r\n\t\t<view class=\"navbar\">\r\n\t\t\t<!-- 返回按钮 -->\r\n\t\t\t<view class=\"navbar-left\" @click=\"goBack\">\r\n\t\t\t\t<uni-icons type=\"left\" size=\"30\"></uni-icons>\r\n\t\t\t</view>\r\n\t\t\t<!-- 标题 -->\r\n\t\t\t<view class=\"navbar-title\"></view>\r\n\t\t\t<!--      -{{ counter.count }}-->\r\n\t\t\t<!-- 右侧菜单按钮 -->\r\n\t\t\t<view class=\"navbar-right\" @click.stop=\"togglePopover\">\r\n\t\t\t\t<text class=\"menu-icon\">⋮</text>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\r\n\r\n\t\t<!-- Popover菜单 -->\r\n\t\t<view class=\"popover\" :class=\"{ 'show': isPopoverShow }\" @click.stop>\r\n\t\t\t<view class=\"popover-content\">\r\n\t\t\t\t<view class=\"menu-item\" @click=\"handleMenuClick('draw')\">\r\n\t\t\t\t\t<uni-icons type=\"color-filled\" size=\"30\"></uni-icons>\r\n\t\t\t\t\t<text class=\"menu-text\">去画规</text>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\t\t<!-- 遮罩层 -->\r\n\t\t<view class=\"mask\" v-if=\"isPopoverShow\" @click=\"closePopover\"></view>\r\n\t\t<!-- 表格样式数字容器 -->\r\n\t\t<view class=\"numbers-table-container\">\r\n\t\t\t<table class=\"numbers-table\">\r\n\t\t\t\t<!-- 列宽定义 -->\r\n\t\t\t\t<colgroup>\r\n\t\t\t\t\t<col class=\"col-def-1\"> <!-- 第一列 -->\r\n\t\t\t\t\t<col class=\"col-def-2\"> <!-- 第二列（变窄） -->\r\n\t\t\t\t\t<col class=\"col-def-3\"> <!-- 第三列 -->\r\n\t\t\t\t\t<col class=\"col-def-4\"> <!-- 第四列 -->\r\n\t\t\t\t\t<col class=\"col-def-5\"> <!-- 第五列 -->\r\n\t\t\t\t\t<col class=\"col-def-6\"> <!-- 第六列 -->\r\n\t\t\t\t\t<col class=\"col-def-7\"> <!-- 第七列（变窄） -->\r\n\t\t\t\t</colgroup>\r\n\r\n\t\t\t\t<!-- 表格内容 -->\r\n\t\t\t\t<tbody>\r\n\t\t\t\t\t<tr v-for=\"(group, groupIndex) in classifyList\" :key=\"group.qishu\" class=\"table-row\"\r\n\t\t\t\t\t\t:data-qishu=\"group.qishu\" :data-group-index=\"groupIndex\">\r\n\t\t\t\t\t\t<!-- 期数列 (第一列) - 不可绘制区域 -->\r\n\t\t\t\t\t\t<td class=\"table-cell col-1 non-drawable-area\">\r\n\t\t\t\t\t\t\t<view class=\"cell-content\">\r\n\t\t\t\t\t\t\t\t{{ group.qishu }}\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</td>\r\n\r\n\t\t\t\t\t\t<!-- 随机数列 (第二列) - 可点击区域（变窄） -->\r\n\t\t\t\t\t\t<td class=\"table-cell col-2\">\r\n\t\t\t\t\t\t\t<view class=\"cell-content\">\r\n\t\t\t\t\t\t\t\t{{ group.qishu2}}\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</td>\r\n\r\n\t\t\t\t\t\t<!-- 数字列 (第3-7列) - 可交互区域 -->\r\n\t\t\t\t\t\t<td v-for=\"(num, numIndex) in group.numbers\" :key=\"numIndex\" class=\"table-cell\"\r\n\t\t\t\t\t\t\t:class=\"'col-' + (3 + numIndex)\">\r\n\t\t\t\t\t\t\t<view class=\"number-item\" :data-group-index=\"groupIndex\" :data-num-index=\"numIndex\"\r\n\t\t\t\t\t\t\t\tref=\"numberRefs\">\r\n\t\t\t\t\t\t\t\t{{ num }}\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</tbody>\r\n\t\t\t</table>\r\n\t\t</view>\r\n\t</view>\r\n\t<view class=\"loading-container\" v-if=\"isLoading\">\r\n\t\t<view class=\"loading-spinner\"></view>\r\n\t\t<text>加载中...</text>\r\n\t</view>\r\n\r\n\t<view class=\"no-more-data\" v-if=\"noMoreData && !isLoading\">\r\n\t\t<text>没有更多数据了</text>\r\n\t</view>\r\n</template>\r\n\r\n<script setup>\r\n\timport {\r\n\t\tref,\r\n\t\tonMounted,\r\n\t\tcomputed,\r\n\t\twatch,\r\n\t\tnextTick\r\n\t} from 'vue';\r\n\timport {\r\n\t\tapiTicketQuery\r\n\t} from \"@/api/apis.js\"\r\n\timport {\r\n\t\tonLoad,\r\n\t\tonUnload,\r\n\t\tonPullDownRefresh,\r\n\t\tonReachBottom\r\n\t} from \"@dcloudio/uni-app\"\r\n\t// import { useCounterStore } from '@/stores/counter'\r\n\timport useTableData from './useFunc/useTableData.js'; // 导入 useTableData\r\n\t// const counter = useCounterStore()\r\n\r\n\tconst classifyList = ref([]);\r\n\t/**\r\n\t * 1. 将空格分隔的数字字符串转换为数字数组（处理group.numbers）\r\n\t * @param {string} numStr - 空格分隔的5个数字字符串（如 \"1 3 5 7 9\"）\r\n\t * @returns {number[]} 转换后的数字数组（如 [1, 3, 5, 7, 9]），若格式异常返回空数组\r\n\t */\r\n\tfunction convertNumStrToArray(numStr) {\r\n\t\t// 判空+去除首尾空格，避免空字符串干扰\r\n\t\tif (!numStr || typeof numStr !== 'string') return [];\r\n\t\t// 按空格分割字符串，过滤空字符（应对多空格情况），转成数字\r\n\t\treturn numStr.trim()\r\n\t\t\t.split(/\\s+/) // 支持多个空格分隔\r\n\t\t\t.filter(item => item !== '') // 过滤空项\r\n\t\t\t.map(item => Number(item)) // 转数字\r\n\t\t\t.slice(0, 5); // 确保只取前5个（防止格式异常）\r\n\t}\r\n\r\n\t/**\r\n\t * 2. 计算数字数组的前4位数字之和\r\n\t * @param {number[]} numArr - 转换后的数字数组（如 [1, 3, 5, 7, 9]）\r\n\t * @returns {number} 前4位数字的和，若数组长度不足4位则返回0\r\n\t */\r\n\tfunction calculateFirstFourSum(numArr) {\r\n\t\t// 判空+验证数组类型\r\n\t\tif (!Array.isArray(numArr) || numArr.length < 4) return 0;\r\n\t\t// 取前4项，过滤非数字项，求和\r\n\t\treturn numArr.slice(0, 4)\r\n\t\t\t.filter(item => !isNaN(item) && typeof item === 'number') // 确保是有效数字\r\n\t\t\t.reduce((sum, curr) => sum + curr, 0); // 累加求和，初始值0\r\n\t}\r\n\r\n\r\n\t//分类列表数据\r\n\tconst noData = ref(false)\r\n\r\n\t//定义data参数\r\n\tconst queryParams = {\r\n\t\tpage: 1,\r\n\t\tlimit: 20,\r\n\t\ttname: '排列五'\r\n\t}\r\n\tconst pageName = ref('')\r\n\t//------------------------------------------------------------------------\r\n\t// 转换 classifyList 为 useTableData 需要的格式  为更新2个drawLine数据一致做准备\r\n\tconst formattedClassifyList = computed(() => {\r\n\t\treturn classifyList.value.map(item => ({\r\n\t\t\tqishu: item.qishu,\r\n\t\t\tnumbers: [item.qishu2, ...item.numbers]\r\n\t\t}));\r\n\t});\r\n\tconsole.log(formattedClassifyList) //验证数据获取成功了\r\n\r\n\t// 使用 useTableData，传递格式化后的数据\r\n\tconst tableData = useTableData();\r\n\t// 监听 formattedClassifyList 的变化\r\n\twatch(formattedClassifyList, (newValue) => {\r\n\t\tconsole.log('formattedClassifyList 发生变化:', newValue);\r\n\t\tif (newValue && newValue.length > 0) {\r\n\t\t\t// 使用 nextTick 确保 DOM 更新完成\r\n\t\t\tnextTick(() => {\r\n\t\t\t\tif (tableData && typeof tableData.updateNumberGroups === 'function') {\r\n\t\t\t\t\tconsole.log('调用 updateNumberGroups');\r\n\t\t\t\t\ttableData.updateNumberGroups(newValue);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconsole.error('updateNumberGroups 函数不存在');\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t}, {\r\n\t\tdeep: true,\r\n\t\timmediate: true\r\n\t});\r\n\r\n\t//------------------------------------------------------------------------\r\n\tonLoad((e) => {\r\n\t\tlet {\r\n\t\t\tname = null\r\n\t\t} = e;\r\n\t\tif (name) queryParams.tname = name;\r\n\t\tpageName.value = name\r\n\t\t//执行获取分类列表方法\r\n\t\tgetClassList();\r\n\t})\r\n\r\n\r\n\tonPullDownRefresh(() => {\r\n\t\tconsole.log('onPullDownRefresh')\r\n\t\tif (noData.value) return;\r\n\t\tqueryParams.page++;\r\n\t\tgetClassList()\r\n\t})\r\n\t//获取分类列表网络数据\r\n\tconst getClassList = async () => {\r\n\t\tuni.showLoading({\r\n\t\t\ttitle: '加载中...',\r\n\t\t\tmask: true, // 开启遮罩，防止点击穿透\r\n\t\t});\r\n\t\tlet res = await apiTicketQuery(queryParams);\r\n\r\n\t\tlet newData = res.data.records.map((group) => {\r\n\t\t\treturn {\r\n\t\t\t\t...group,\r\n\t\t\t\tqishu: Number(group.issueno),\r\n\t\t\t\tqishu2: calculateFirstFourSum(convertNumStrToArray(group.number)),\r\n\t\t\t\tnumbers: convertNumStrToArray(group.number)\r\n\t\t\t}\r\n\t\t}) || []\r\n\r\n\t\tlet newDataSort = newData.sort((a, b) => {\r\n\t\t\treturn Number(a.issueno) - Number(b.issueno);\r\n\t\t});\r\n\t\tconsole.log(classifyList.value, '-----------------------------------------')\r\n\t\tclassifyList.value = [...newDataSort, ...classifyList.value];\r\n\t\tawait nextTick();\r\n\t\tconsole.log(classifyList.value, '//这里是从网库中获取的数据')\r\n\t\tif (queryParams.limit > res.data.length) noData.value = true;\r\n\t\tuni.hideLoading();\r\n\t\tuni.stopPullDownRefresh();\r\n\t\t//------------------------------------------------------------------------------\r\n\t\t// 该数据更新后，通知 useTableData 更新以便与后面画布数据一样\r\n\t\ttableData.updateNumberGroups(formattedClassifyList.value);\r\n\t\t// 数据更新后，调用 updateNumberGroups\r\n\t\tif (tableData && typeof tableData.updateNumberGroups === 'function') {\r\n\t\t\ttableData.updateNumberGroups(formattedClassifyList.value);\r\n\t\t} else {\r\n\t\t\tconsole.error('updateNumberGroups 函数不存在');\r\n\t\t}\r\n\r\n\t\t// 数据更新后，确保调用 updateNumberGroups\r\n\t\tif (tableData && typeof tableData.updateNumberGroups === 'function') {\r\n\t\t\tawait nextTick(); // 确保在 DOM 更新后执行\r\n\t\t\ttableData.updateNumberGroups(formattedClassifyList.value);\r\n\t\t}\r\n\t}\r\n\tonUnload(() => {\r\n\r\n\t})\r\n\r\n\t// 控制Popover显示状态\r\n\tconst isPopoverShow = ref(false);\r\n\r\n\t// 返回上一页\r\n\tconst goBack = () => {\r\n\t\t// 直接使用全局API，不需要导入\r\n\t\tuni.navigateBack({\r\n\t\t\tdelta: 1 // 返回的页面数\r\n\t\t});\r\n\t};\r\n\r\n\t// 切换Popover显示/隐藏\r\n\tconst togglePopover = () => {\r\n\t\tisPopoverShow.value = !isPopoverShow.value;\r\n\t};\r\n\r\n\t// 关闭Popover\r\n\tconst closePopover = () => {\r\n\t\tisPopoverShow.value = false;\r\n\t};\r\n\tconst add4Empty = () => {\r\n\t\t// 生成数组长度为4的结构\r\n\t\tconst result = Array.from({\r\n\t\t\tlength: 4\r\n\t\t}, () => ({\r\n\t\t\tqishu: '',\r\n\t\t\tqishu2: '',\r\n\t\t\tnumbers: ['', '', '', '', '']\r\n\t\t}));\r\n\t\treturn result\r\n\t}\r\n\t// 处理菜单项点击\r\n\tconst handleMenuClick = (action) => {\r\n\t\tclosePopover();\r\n\t\tswitch (action) {\r\n\t\t\tcase 'draw':\r\n\t\t\t\tconst result50 = classifyList.value.slice(-50);\r\n\t\t\t\tconst result = [...result50, ...(add4Empty())]\r\n\t\t\t\t// 同步存储\r\n\t\t\t\tuni.setStorageSync('drawLineData', result);\r\n\t\t\t\t// pinia状态管理\r\n\t\t\t\t// counter.setStoreDrawData(formattedClassifyList,'我被传过去了...........')\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: '/pages/juWang/drawLine/drawLine?name=排列5',\r\n\t\t\t\t\tevents: {\r\n\t\t\t\t\t\t// 为指定事件添加一个监听器，获取被打开页面传送到当前页面的数据\r\n\t\t\t\t\t\tacceptDataFromOpenedPage: function(data) {\r\n\t\t\t\t\t\t\tconsole.log(data)\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tsomeEvent: function(data) {\r\n\t\t\t\t\t\t\tconsole.log(data)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\t// 通过eventChannel向被打开页面传送数据\r\n\t\t\t\t\t\tres.eventChannel.emit('acceptDataFromOpenerPage', {\r\n\t\t\t\t\t\t\tdata: 'data from starter page'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t};\r\n\r\n\t//----------------------------------调试数据\r\n\twatch(classifyList, (newValue) => {\r\n\t\tif (tableData && typeof tableData.updateNumberGroups === 'function') {\r\n\t\t\ttableData.updateNumberGroups(formattedClassifyList.value);\r\n\t\t}\r\n\t}, {\r\n\t\tdeep: true\r\n\t});\r\n\t//-----------------------------------------------------------------------------------------------\r\n\tconst isLoading = ref(false);\r\n\tconst noMoreData = ref(false);\r\n\tonReachBottom(() => {\r\n\t\t// 防止重复加载\r\n\t\tif (isLoading.value || noMoreData.value) return;\r\n\t\tisLoading.value = true;\r\n\t\t++queryParams.page;\r\n\t\tgetClassList()\r\n\t\t    .then(() => {\r\n\t\t      // 5. 检查是否还有更多数据\r\n\t\t      // 这里需要根据实际情况判断，例如检查返回的数据长度是否小于每页限制\r\n\t\t      if (classifyList.value.length % queryParams.limit !== 0) {\r\n\t\t        noMoreData.value = true;\r\n\t\t      }\r\n\t\t    })\r\n\t\t    .catch(error => {\r\n\t\t      console.error('加载更多数据失败:', error);\r\n\t\t      // 6. 加载失败时回退页码\r\n\t\t      queryParams.page--;\r\n\t\t    })\r\n\t\t    .finally(() => {\r\n\t\t      // 7. 重置加载状态\r\n\t\t      isLoading.value = false;\r\n\t\t    });\r\n\t});\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n\t.loading-container {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t\tpadding: 20rpx;\r\n\t}\r\n\r\n\t.loading-spinner {\r\n\t\twidth: 40rpx;\r\n\t\theight: 40rpx;\r\n\t\tborder: 4rpx solid #f3f3f3;\r\n\t\tborder-top: 4rpx solid #3498db;\r\n\t\tborder-radius: 50%;\r\n\t\tanimation: spin 1s linear infinite;\r\n\t\tmargin-bottom: 10rpx;\r\n\t}\r\n\r\n\t@keyframes spin {\r\n\t\t0% {\r\n\t\t\ttransform: rotate(0deg);\r\n\t\t}\r\n\r\n\t\t100% {\r\n\t\t\ttransform: rotate(360deg);\r\n\t\t}\r\n\t}\r\n\r\n\t.no-more-data {\r\n\t\ttext-align: center;\r\n\t\tpadding: 20rpx;\r\n\t\tcolor: #999;\r\n\t\tfont-size: 28rpx;\r\n\t}\r\n\r\n\t/* 样式保持不变，移除canvas相关样式 */\r\n\t.container {\r\n\t\tposition: relative;\r\n\t\twidth: 100%;\r\n\t\tmin-height: 100vh;\r\n\t\tpadding: 0;\r\n\t\tbox-sizing: border-box;\r\n\t\tbackground-color: #f9f9f9;\r\n\t\toverflow: hidden;\r\n\t}\r\n\r\n\t.numbers-table-container {\r\n\t\twidth: 100%;\r\n\t\tpadding: 10rpx;\r\n\t\tbox-sizing: border-box;\r\n\t\tposition: relative;\r\n\t\tz-index: 1;\r\n\t\tmargin-bottom: 30rpx;\r\n\t}\r\n\r\n\t.res {\r\n\t\twidth: 99px;\r\n\t\theight: 99px;\r\n\t}\r\n\r\n\t.numbers-table {\r\n\t\twidth: 100%;\r\n\t\tborder-collapse: collapse;\r\n\t\tbackground-color: #fff;\r\n\t\tborder-radius: 15rpx;\r\n\t\toverflow: hidden;\r\n\t\tbox-shadow: 0 4rpx 12rpx rgba(0, 0, 0, 0.05);\r\n\t}\r\n\r\n\t/* 列宽定义 */\r\n\t.col-def-1 {\r\n\t\twidth: 120rpx;\r\n\t}\r\n\r\n\t.col-def-2 {\r\n\t\twidth: 60rpx;\r\n\t}\r\n\r\n\t.col-def-3 {\r\n\t\twidth: 90rpx;\r\n\t}\r\n\r\n\t.col-def-4 {\r\n\t\twidth: 90rpx;\r\n\t}\r\n\r\n\t.col-def-5 {\r\n\t\twidth: 90rpx;\r\n\t}\r\n\r\n\t.col-def-6 {\r\n\t\twidth: 90rpx;\r\n\t}\r\n\r\n\t.col-def-7 {\r\n\t\twidth: 60rpx;\r\n\t}\r\n\r\n\t.table-row {\r\n\t\ttransition: background-color 0.2s;\r\n\t}\r\n\r\n\t.table-row:nth-child(even) {\r\n\t\tbackground-color: rgba(0, 0, 0, 0.02);\r\n\t}\r\n\r\n\t.table-row:hover {\r\n\t\tbackground-color: rgba(0, 0, 0, 0.03);\r\n\t}\r\n\r\n\t.table-row:nth-child(4n) .table-cell {\r\n\t\tborder-bottom: 2px solid #5aa3e7;\r\n\t}\r\n\r\n\t/* 目标行样式 */\r\n\t.target-row {\r\n\t\tbackground-color: rgba(255, 248, 225, 0.5);\r\n\t}\r\n\r\n\t.table-cell {\r\n\t\tpadding: 0;\r\n\t\ttext-align: center;\r\n\t\tborder: 1px solid #dbe7d6;\r\n\t\theight: 80rpx;\r\n\t\tbox-sizing: border-box;\r\n\t\twhite-space: nowrap;\r\n\t\toverflow: hidden;\r\n\t\ttransition: all 0.2s;\r\n\t}\r\n\r\n\t/* 可点击单元格样式 */\r\n\t.clickable {\r\n\t\tcursor: pointer;\r\n\t\tposition: relative;\r\n\t}\r\n\r\n\t.clickable::after {\r\n\t\tcontent: '';\r\n\t\tposition: absolute;\r\n\t\ttop: 0;\r\n\t\tleft: 0;\r\n\t\tright: 0;\r\n\t\tbottom: 0;\r\n\t\tbackground-color: rgba(255, 215, 0, 0.1);\r\n\t\topacity: 0;\r\n\t\ttransition: opacity 0.2s;\r\n\t}\r\n\r\n\t.clickable:active::after {\r\n\t\topacity: 1;\r\n\t}\r\n\r\n\t.cell-content {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\tfont-size: 28rpx;\r\n\t\tfont-weight: 500;\r\n\t\tpadding: 0 5rpx;\r\n\t}\r\n\r\n\t/* 列背景色设置 */\r\n\t.col-1 {\r\n\t\tbackground-color: #cddef0;\r\n\t\tcolor: #000;\r\n\t}\r\n\r\n\t.col-2 {\r\n\t\tborder-right: 2px solid #5aa3e7;\r\n\t\tbackground-color: #90bef2;\r\n\r\n\t\t.cell-content {\r\n\t\t\tfont-size: 32rpx !important;\r\n\t\t}\r\n\t}\r\n\r\n\t.col-3,\r\n\t.col-4,\r\n\t.col-5,\r\n\t.col-6 {\r\n\t\tbackground-color: #FFFFFF;\r\n\t}\r\n\r\n\t.col-7 {\r\n\t\tborder-left: 2px solid #5aa3e7;\r\n\t\tbackground-color: #90bef0;\r\n\r\n\t\t.number-item {\r\n\t\t\tfont-size: 55rpx !important;\r\n\t\t}\r\n\t}\r\n\r\n\t.number-item {\r\n\t\twidth: 70rpx;\r\n\t\theight: 70rpx;\r\n\t\tborder-radius: 50%;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t\tfont-size: 55rpx;\r\n\t\tfont-weight: bold;\r\n\t\tcolor: #333;\r\n\t\ttransition: all 0.2s;\r\n\t\tcursor: pointer;\r\n\t\tbox-sizing: border-box;\r\n\t\tpadding: 0;\r\n\t\tmargin: 0 auto;\r\n\t}\r\n\r\n\t.number-item.highlighted {\r\n\t\tbackground-color: #1a1ad9;\r\n\t\tcolor: white;\r\n\t\tfont-weight: bold;\r\n\t}\r\n\r\n\t/* 文字标注样式（保留） */\r\n\t.text-container {\r\n\t\tposition: absolute;\r\n\t\ttop: 0;\r\n\t\tleft: 0;\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\tpointer-events: none;\r\n\t\tz-index: 20;\r\n\t}\r\n\r\n\t.text-label {\r\n\t\tposition: absolute;\r\n\t\tpadding: 15rpx;\r\n\t\tbackground-color: rgba(255, 255, 255, 0.95);\r\n\t\tborder: 2rpx solid #ccc;\r\n\t\tborder-radius: 10rpx;\r\n\t\tfont-size: 32rpx;\r\n\t\tcolor: #333;\r\n\t\tpointer-events: auto;\r\n\t\tmin-width: 120rpx;\r\n\t\tmax-width: 400rpx;\r\n\t\tbox-shadow: 0 4rpx 8rpx rgba(0, 0, 0, 0.1);\r\n\t\tuser-select: none;\r\n\t\ttouch-action: manipulation;\r\n\t}\r\n\r\n\t/* Fab按钮样式（保留，移除canvas相关按钮样式） */\r\n\t.fab-wrapper {\r\n\t\tposition: fixed;\r\n\t\tright: 40rpx;\r\n\t\tbottom: 40rpx;\r\n\t\tz-index: 100;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\talign-items: center;\r\n\t}\r\n\r\n\t.fab-main {\r\n\t\twidth: 80rpx;\r\n\t\theight: 80rpx;\r\n\t\tborder-radius: 50%;\r\n\t\tbackground: linear-gradient(135deg, #007aff, #0051a8);\r\n\t\tcolor: white;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t\tbox-shadow: 0 6rpx 15rpx rgba(0, 122, 255, 0.3);\r\n\t\tfont-size: 40rpx;\r\n\t\tcursor: pointer;\r\n\t\ttransition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\r\n\t\tborder: 4rpx solid rgba(255, 255, 255, 0.2);\r\n\t\tz-index: 10;\r\n\t}\r\n\r\n\t.fab-items-o {\r\n\t\tdisplay: none;\r\n\t}\r\n\r\n\t.fab-items {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\talign-items: center;\r\n\t\tposition: absolute;\r\n\t\tbottom: 90rpx;\r\n\t}\r\n\r\n\t.fab-item {\r\n\t\twidth: 100rpx;\r\n\t\theight: 100rpx;\r\n\t\tmargin-bottom: 20rpx;\r\n\t\topacity: 0;\r\n\t\ttransform: translateY(50rpx) scale(0.9);\r\n\t\ttransition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\r\n\t\tposition: relative;\r\n\t}\r\n\r\n\t.fab-item-inner {\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\tborder-radius: 20rpx;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t\tpadding: 10rpx;\r\n\t\tbox-shadow: 0 4rpx 12rpx rgba(0, 0, 0, 0.08);\r\n\t\tbackground-color: white;\r\n\t\tcolor: #333;\r\n\t\tborder: 1rpx solid rgba(0, 0, 0, 0.05);\r\n\t}\r\n\r\n\t.fab-open .fab-item {\r\n\t\topacity: 1;\r\n\t\ttransform: translateY(0) scale(1);\r\n\t}\r\n\r\n\t.container {\r\n\t\tflex: 1;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tmin-height: 100vh;\r\n\t\tbackground-color: #f5f5f5;\r\n\t}\r\n\r\n\t/* 自定义导航栏 */\r\n\t.navbar {\r\n\t\theight: 44px;\r\n\t\tbackground-color: #1677ff;\r\n\t\tcolor: white;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: space-between;\r\n\t\tpadding: 0 16px;\r\n\t\tposition: relative;\r\n\t\tz-index: 10;\r\n\t}\r\n\r\n\t.navbar-left {\r\n\t\twidth: 44px;\r\n\t\theight: 44px;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: flex-start;\r\n\r\n\t\t.uni-icons {\r\n\t\t\tcolor: #fff !important;\r\n\t\t\tfont-size: 22px !important;\r\n\t\t}\r\n\t}\r\n\r\n\t.back-icon {\r\n\t\tfont-size: 20px;\r\n\t\tfont-weight: bold;\r\n\t}\r\n\r\n\t.navbar-title {\r\n\t\tfont-size: 18px;\r\n\t\tfont-weight: 500;\r\n\t\tflex: 1;\r\n\t\ttext-align: center;\r\n\t}\r\n\r\n\t.navbar-right {\r\n\t\twidth: 44px;\r\n\t\theight: 44px;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t\tposition: relative;\r\n\t}\r\n\r\n\t.menu-icon {\r\n\t\tfont-size: 24px;\r\n\t\tline-height: 1;\r\n\t}\r\n\r\n\t/* 页面内容 */\r\n\t.content {\r\n\t\tflex: 1;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t\tpadding: 20px;\r\n\t\tmargin-top: 44px;\r\n\t\t/* 避开导航栏 */\r\n\t}\r\n\r\n\t.text {\r\n\t\tfont-size: 16px;\r\n\t\tcolor: #666;\r\n\t}\r\n\r\n\t/* Popover菜单 */\r\n\t.popover {\r\n\t\tposition: absolute;\r\n\t\ttop: 50px;\r\n\t\tright: 10px;\r\n\t\twidth: 120px;\r\n\t\tbackground-color: white;\r\n\t\tborder-radius: 8px;\r\n\t\tbox-shadow: 0 4px 16px rgba(0, 0, 0, 0.15);\r\n\t\toverflow: hidden;\r\n\t\ttransform-origin: top right;\r\n\t\ttransform: scale(0.9);\r\n\t\topacity: 0;\r\n\t\tpointer-events: none;\r\n\t\ttransition: all 0.2s ease;\r\n\t\tz-index: 100;\r\n\t}\r\n\r\n\t.popover.show {\r\n\t\ttransform: scale(1);\r\n\t\topacity: 1;\r\n\t\tpointer-events: auto;\r\n\t}\r\n\r\n\t.popover-content {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t}\r\n\r\n\t.menu-item {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tpadding: 12px 16px;\r\n\t\tfont-size: 14px;\r\n\t\tcolor: #333;\r\n\t\ttransition: background-color 0.2s;\r\n\t}\r\n\r\n\t.menu-item:hover {\r\n\t\tbackground-color: #f5f5f5;\r\n\t}\r\n\r\n\t.menu-item.menu-text {\r\n\t\tmargin-left: 8px;\r\n\t}\r\n\r\n\t.menu-item.danger {\r\n\t\tcolor: #ff4d4f;\r\n\t}\r\n\r\n\t/* 遮罩层 */\r\n\t.mask {\r\n\t\tposition: fixed;\r\n\t\ttop: 44px;\r\n\t\tleft: 0;\r\n\t\tright: 0;\r\n\t\tbottom: 0;\r\n\t\tbackground-color: rgba(0, 0, 0, 0.05);\r\n\t\tz-index: 9;\r\n\t}\r\n</style>","import MiniProgramPage from 'C:/Users/Administrator/Desktop/my-painting-rules-project/pages/juWang/drawLine/drawLineRead.vue'\nwx.createPage(MiniProgramPage)"],"names":["ref","computed","uni","useTableData","watch","nextTick","onLoad","onPullDownRefresh","apiTicketQuery","onUnload","onReachBottom"],"mappings":";;;;;;;;;;;;;;;AA2GC,UAAM,eAAeA,kBAAI,CAAA,CAAE;AAM3B,aAAS,qBAAqB,QAAQ;AAErC,UAAI,CAAC,UAAU,OAAO,WAAW;AAAU,eAAO,CAAA;AAElD,aAAO,OAAO,KAAM,EAClB,MAAM,KAAK,EACX,OAAO,UAAQ,SAAS,EAAE,EAC1B,IAAI,UAAQ,OAAO,IAAI,CAAC,EACxB,MAAM,GAAG,CAAC;AAAA,IACZ;AAOD,aAAS,sBAAsB,QAAQ;AAEtC,UAAI,CAAC,MAAM,QAAQ,MAAM,KAAK,OAAO,SAAS;AAAG,eAAO;AAExD,aAAO,OAAO,MAAM,GAAG,CAAC,EACtB,OAAO,UAAQ,CAAC,MAAM,IAAI,KAAK,OAAO,SAAS,QAAQ,EACvD,OAAO,CAAC,KAAK,SAAS,MAAM,MAAM,CAAC;AAAA,IACrC;AAID,UAAM,SAASA,cAAG,IAAC,KAAK;AAGxB,UAAM,cAAc;AAAA,MACnB,MAAM;AAAA,MACN,OAAO;AAAA,MACP,OAAO;AAAA,IACP;AACD,UAAM,WAAWA,cAAG,IAAC,EAAE;AAGvB,UAAM,wBAAwBC,cAAAA,SAAS,MAAM;AAC5C,aAAO,aAAa,MAAM,IAAI,WAAS;AAAA,QACtC,OAAO,KAAK;AAAA,QACZ,SAAS,CAAC,KAAK,QAAQ,GAAG,KAAK,OAAO;AAAA,MACtC,EAAC;AAAA,IACJ,CAAE;AACDC,kBAAAA,MAAY,MAAA,OAAA,iDAAA,qBAAqB;AAGjC,UAAM,YAAYC,2CAAAA;AAElBC,wBAAM,uBAAuB,CAAC,aAAa;AAC1CF,oBAAY,MAAA,MAAA,OAAA,iDAAA,+BAA+B,QAAQ;AACnD,UAAI,YAAY,SAAS,SAAS,GAAG;AAEpCG,sBAAAA,WAAS,MAAM;AACd,cAAI,aAAa,OAAO,UAAU,uBAAuB,YAAY;AACpEH,0BAAAA,MAAY,MAAA,OAAA,iDAAA,uBAAuB;AACnC,sBAAU,mBAAmB,QAAQ;AAAA,UAC1C,OAAW;AACNA,0BAAAA,sEAAc,0BAA0B;AAAA,UACxC;AAAA,QACL,CAAI;AAAA,MACD;AAAA,IACH,GAAI;AAAA,MACF,MAAM;AAAA,MACN,WAAW;AAAA,IACb,CAAE;AAGDI,kBAAM,OAAC,CAAC,MAAM;AACb,UAAI;AAAA,QACH,OAAO;AAAA,MACP,IAAG;AACJ,UAAI;AAAM,oBAAY,QAAQ;AAC9B,eAAS,QAAQ;AAEjB;IACF,CAAE;AAGDC,kBAAAA,kBAAkB,MAAM;AACvBL,oBAAAA,oEAAY,mBAAmB;AAC/B,UAAI,OAAO;AAAO;AAClB,kBAAY;AACZ,mBAAc;AAAA,IAChB,CAAE;AAED,UAAM,eAAe,YAAY;AAChCA,oBAAAA,MAAI,YAAY;AAAA,QACf,OAAO;AAAA,QACP,MAAM;AAAA;AAAA,MACT,CAAG;AACD,UAAI,MAAM,MAAMM,wBAAe,WAAW;AAE1C,UAAI,UAAU,IAAI,KAAK,QAAQ,IAAI,CAAC,UAAU;AAC7C,eAAO;AAAA,UACN,GAAG;AAAA,UACH,OAAO,OAAO,MAAM,OAAO;AAAA,UAC3B,QAAQ,sBAAsB,qBAAqB,MAAM,MAAM,CAAC;AAAA,UAChE,SAAS,qBAAqB,MAAM,MAAM;AAAA,QAC1C;AAAA,MACD,CAAA,KAAK,CAAE;AAER,UAAI,cAAc,QAAQ,KAAK,CAAC,GAAG,MAAM;AACxC,eAAO,OAAO,EAAE,OAAO,IAAI,OAAO,EAAE,OAAO;AAAA,MAC9C,CAAG;AACDN,oBAAA,MAAA,MAAA,OAAA,iDAAY,aAAa,OAAO,2CAA2C;AAC3E,mBAAa,QAAQ,CAAC,GAAG,aAAa,GAAG,aAAa,KAAK;AAC3D,YAAMG,cAAQ,WAAA;AACdH,oBAAY,MAAA,MAAA,OAAA,iDAAA,aAAa,OAAO,gBAAgB;AAChD,UAAI,YAAY,QAAQ,IAAI,KAAK;AAAQ,eAAO,QAAQ;AACxDA,oBAAG,MAAC,YAAW;AACfA,oBAAG,MAAC,oBAAmB;AAGvB,gBAAU,mBAAmB,sBAAsB,KAAK;AAExD,UAAI,aAAa,OAAO,UAAU,uBAAuB,YAAY;AACpE,kBAAU,mBAAmB,sBAAsB,KAAK;AAAA,MAC3D,OAAS;AACNA,sBAAAA,MAAc,MAAA,SAAA,iDAAA,0BAA0B;AAAA,MACxC;AAGD,UAAI,aAAa,OAAO,UAAU,uBAAuB,YAAY;AACpE,cAAMG,cAAQ,WAAA;AACd,kBAAU,mBAAmB,sBAAsB,KAAK;AAAA,MACxD;AAAA,IACD;AACDI,kBAAAA,SAAS,MAAM;AAAA,IAEhB,CAAE;AAGD,UAAM,gBAAgBT,kBAAI,KAAK;AAG/B,UAAM,SAAS,MAAM;AAEpBE,oBAAAA,MAAI,aAAa;AAAA,QAChB,OAAO;AAAA;AAAA,MACV,CAAG;AAAA,IACH;AAGC,UAAM,gBAAgB,MAAM;AAC3B,oBAAc,QAAQ,CAAC,cAAc;AAAA,IACvC;AAGC,UAAM,eAAe,MAAM;AAC1B,oBAAc,QAAQ;AAAA,IACxB;AACC,UAAM,YAAY,MAAM;AAEvB,YAAM,SAAS,MAAM,KAAK;AAAA,QACzB,QAAQ;AAAA,MACX,GAAK,OAAO;AAAA,QACT,OAAO;AAAA,QACP,QAAQ;AAAA,QACR,SAAS,CAAC,IAAI,IAAI,IAAI,IAAI,EAAE;AAAA,MAC5B,EAAC;AACF,aAAO;AAAA,IACP;AAED,UAAM,kBAAkB,CAAC,WAAW;AACnC;AACA,cAAQ,QAAM;AAAA,QACb,KAAK;AACJ,gBAAM,WAAW,aAAa,MAAM,MAAM,GAAG;AAC7C,gBAAM,SAAS,CAAC,GAAG,UAAU,GAAI,UAAS,CAAI;AAE9CA,wBAAAA,MAAI,eAAe,gBAAgB,MAAM;AAGzCA,wBAAAA,MAAI,WAAW;AAAA,YACd,KAAK;AAAA,YACL,QAAQ;AAAA;AAAA,cAEP,0BAA0B,SAAS,MAAM;AACxCA,8BAAAA,MAAY,MAAA,OAAA,iDAAA,IAAI;AAAA,cAChB;AAAA,cACD,WAAW,SAAS,MAAM;AACzBA,8BAAAA,MAAY,MAAA,OAAA,iDAAA,IAAI;AAAA,cAChB;AAAA,YACD;AAAA,YACD,SAAS,SAAS,KAAK;AAEtB,kBAAI,aAAa,KAAK,4BAA4B;AAAA,gBACjD,MAAM;AAAA,cACb,CAAO;AAAA,YACD;AAAA,UACN,CAAK;AACD;AAAA,MACD;AAAA,IACH;AAGCE,wBAAM,cAAc,CAAC,aAAa;AACjC,UAAI,aAAa,OAAO,UAAU,uBAAuB,YAAY;AACpE,kBAAU,mBAAmB,sBAAsB,KAAK;AAAA,MACxD;AAAA,IACH,GAAI;AAAA,MACF,MAAM;AAAA,IACR,CAAE;AAED,UAAM,YAAYJ,kBAAI,KAAK;AAC3B,UAAM,aAAaA,kBAAI,KAAK;AAC5BU,kBAAAA,cAAc,MAAM;AAEnB,UAAI,UAAU,SAAS,WAAW;AAAO;AACzC,gBAAU,QAAQ;AAClB,QAAE,YAAY;AACd,mBAAc,EACT,KAAK,MAAM;AAGV,YAAI,aAAa,MAAM,SAAS,YAAY,UAAU,GAAG;AACvD,qBAAW,QAAQ;AAAA,QACpB;AAAA,MACT,CAAO,EACA,MAAM,WAAS;AACdR,sBAAA,MAAA,MAAA,SAAA,iDAAc,aAAa,KAAK;AAEhC,oBAAY;AAAA,MACpB,CAAO,EACA,QAAQ,MAAM;AAEb,kBAAU,QAAQ;AAAA,MAC1B,CAAO;AAAA,IACP,CAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACrVF,GAAG,WAAW,eAAe;"}