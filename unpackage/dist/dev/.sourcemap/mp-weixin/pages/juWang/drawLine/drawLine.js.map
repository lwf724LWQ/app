{"version":3,"file":"drawLine.js","sources":["pages/juWang/drawLine/drawLine.vue","D:/uniapp/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvanVXYW5nL2RyYXdMaW5lL2RyYXdMaW5lLnZ1ZQ"],"sourcesContent":["<template>\n\t<view class=\"container\">\n\t\t<!-- Ëá™ÂÆö‰πâÂØºËà™Ê†è -->\n\t\t<custom-juwang-nav-bar title=\"drawLine\" :onSubmit=\"handleSubmit\" @child-event=\"handleChildEvent\"\n\t\t\t@share-event=\"handleShareEvent\"></custom-juwang-nav-bar>\n\t\t<!-- <draw-select ref=\"child\" @message-from-child=\"handleMessage\"></draw-select> -->\n\t\t<!-- ‰øÆÊîπÁ∫øÊù°È¢úËâ≤,Á≤óÁªÜÁöÑ -->\n\t\t<select-color @select-color=\"handleColorMessage\" @select-line-width=\"handleLineMessage\"></select-color>\n\t\t<view class=\"modal-overlay\" v-if=\"showNumberSelector\" @click=\"closeNumberSelector\">\n\t\t\t<view class=\"modal-content\" @click.stop>\n\t\t\t\t<NumberSelector class='boxNumber' ref=\"numberSelector\" @close=\"closeNumberSelector\"\n\t\t\t\t\t@confirm=\"handleConfirmSelection\" :groupIndex=\"selectedGroupIndex\" :numIndex=\"selectedNumIndex\" />\n\t\t\t</view>\n\t\t</view>\n\t\t<!-- ----------------------------------------------------------------------------------------------------------------- -->\n\t\t<!-- Ë°®Ê†ºÊ†∑ÂºèÊï∞Â≠óÂÆπÂô® -->\n\t\t<view class=\"numbers-table-container\">\n\t\t\t<table class=\"numbers-table\">\n\t\t\t\t<!-- ÂàóÂÆΩÂÆö‰πâ -->\n\t\t\t\t<colgroup>\n\t\t\t\t\t<col class=\"col-def-1\"> <!-- Á¨¨‰∏ÄÂàó -->\n\t\t\t\t\t<col class=\"col-def-2\"> <!-- Á¨¨‰∫åÂàóÔºàÂèòÁ™ÑÔºâ -->\n\t\t\t\t\t<col class=\"col-def-3\"> <!-- Á¨¨‰∏âÂàó -->\n\t\t\t\t\t<col class=\"col-def-4\"> <!-- Á¨¨ÂõõÂàó -->\n\t\t\t\t\t<col class=\"col-def-5\"> <!-- Á¨¨‰∫îÂàó -->\n\t\t\t\t\t<col class=\"col-def-6\"> <!-- Á¨¨ÂÖ≠Âàó -->\n\t\t\t\t\t<col class=\"col-def-7\"> <!-- Á¨¨‰∏ÉÂàóÔºàÂèòÁ™ÑÔºâ -->\n\t\t\t\t</colgroup>\n\n\t\t\t\t<!-- Ë°®Ê†ºÂÜÖÂÆπ -->\n\t\t\t\t<tbody>\n\t\t\t\t\t<tr v-for=\"(group, groupIndex) in twocounterStore.List\" :key=\"group.qishu\" class=\"table-row\"\n\t\t\t\t\t\t:data-qishu=\"group.qishu\" :data-group-index=\"groupIndex\"\n\t\t\t\t\t\t:class=\"{ 'target-row': isTargetRow(groupIndex) }\">\n\t\t\t\t\t\t<!-- ÊúüÊï∞Âàó (Á¨¨‰∏ÄÂàó) - ‰∏çÂèØÁªòÂà∂Âå∫Âüü -->\n\t\t\t\t\t\t<td class=\"table-cell col-1 non-drawable-area\">\n\t\t\t\t\t\t\t<view class=\"cell-content\">\n\t\t\t\t\t\t\t\t{{ group.qishu }}\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t</td>\n\t\t\t\t\t\t<td v-for=\"(num, numIndex) in group.numbers\" :key=\"numIndex\" class=\"table-cell\"\n\t\t\t\t\t\t\t:class=\"'col-' + (2 + numIndex) + (isTargetRow(groupIndex) ? ' clickable' : '')\"\n\t\t\t\t\t\t\t@click=\"handleCellClick(groupIndex, numIndex)\">\n\t\t\t\t\t\t\t<view class=\"number-item\" :class=\"{ highlighted: isHighlighted(groupIndex, numIndex) }\"\n\t\t\t\t\t\t\t\t:data-group-index=\"groupIndex\" :data-num-index=\"numIndex\" ref=\"numberRefs\">\n\t\t\t\t\t\t\t\t{{ num }}\n\t\t\t\t\t\t\t\t<!-- Ê∑ªÂä†ÂÜÖÂÆπÂÆπÂô® -->\n\t\t\t\t\t\t\t\t<div class=\"grid-content\"></div>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t</td>\n\t\t\t\t\t</tr>\n\t\t\t\t</tbody>\n\t\t\t</table>\n\n\t\t\t<!-- ÁªòÂõæCanvas -->\n\t\t\t<canvas type=\"2d\" canvas-id=\"drawCanvas\" class=\"draw-canvas\" @touchstart.stop=\"onCanvasStart\"\n\t\t\t\t@touchmove.stop=\"onCanvasMove\" @touchend.stop=\"onCanvasEnd\" @mousedown=\"onCanvasStart\"\n\t\t\t\t@mousemove=\"onCanvasMove\" @mouseup=\"onCanvasEnd\"\n\t\t\t\t:style=\"{ pointerEvents: canvasPointerEvents }\"></canvas>\n\n\t\t\t<!-- ‰∏¥Êó∂ÁªòÂà∂Â±Ç -->\n\t\t\t<canvas type=\"2d\" canvas-id=\"tempCanvas\" class=\"temp-canvas\"></canvas>\n\n\t\t\t<!-- ÊñáÂ≠óÊ†áÊ≥®ÂÆπÂô® -->\n\t\t\t<view class=\"text-container\">\n\t\t\t\t<view v-for=\"(label, idx) in textLabels\" :key=\"label.id\" class=\"text-label\"\n\t\t\t\t\t:style=\"getLabelStyle(label)\" @touchstart.stop=\"handleLabelTouchStart(idx, $event)\"\n\t\t\t\t\t@touchmove.stop=\"handleLabelTouchMove(idx, $event)\"\n\t\t\t\t\t@touchend.stop=\"handleLabelTouchEnd(idx, $event)\" @click.stop=\"handleLabelClick(idx)\"\n\t\t\t\t\t@dblclick.stop=\"handleLabelDblClick(idx)\" :data-index=\"idx\">\n\t\t\t\t\t<span :contenteditable=\"label.editing\" @blur=\"finishEditLabel(idx)\"\n\t\t\t\t\t\t@input=\"updateLabelText(idx, $event)\" class=\"text-content\" :spellcheck=\"false\">\n\t\t\t\t\t\t{{ label.text }}\n\t\t\t\t\t</span>\n\t\t\t\t</view>\n\t\t\t</view>\n\n\t\t</view>\n\t\t<image src=\"/static/clock.png\" class=\"switch-mode-css\" @click=\"switchDrawMode('none')\"\n\t\t\tv-show=\"canvasPointerValue\"></image>\n\t\t<image src=\"/static/scroll.png\" class=\"switch-mode-css\" @click=\"switchDrawMode('auto')\"\n\t\t\tv-show=\"!canvasPointerValue\"></image>\n\t\t<!-- FabÊåâÈíÆÁªÑ -->\n\t\t<view class=\"fab-wrapper\">\n\t\t\t<!-- ‰∏ªÊåâÈíÆ -->\n\t\t\t<view class=\"fab-main\" @click.stop=\"toggleFab\">\n\t\t\t\t<i class=\"fab-main-icon\">{{ isFabOpen ? '‚úï' : '+' }}</i>\n\t\t\t</view>\n\n\t\t\t<!-- Â≠êÊåâÈíÆÂÆπÂô® -->\n\t\t\t<view class=\"fab-items-o\" :class=\"{ 'fab-items fab-open': isFabOpen }\">\n\t\t\t\t<!-- Â≠êÊåâÈíÆ - Ê®°ÂºèÂàáÊç¢ -->\n\t\t\t\t<view class=\"fab-item\" @click.stop=\"switchMode('freeDraw')\">\n\t\t\t\t\t<div class=\"fab-item-inner\">\n\t\t\t\t\t\t<i class=\"fab-item-icon\">‚úèÔ∏è</i>\n\t\t\t\t\t\t<text class=\"fab-item-text\">Êõ≤Á∫ø</text>\n\t\t\t\t\t</div>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"fab-item\" @click.stop=\"switchMode('straightLine')\">\n\t\t\t\t\t<div class=\"fab-item-inner\">\n\t\t\t\t\t\t<i class=\"fab-item-icon\">‚ÄîÔ∏è</i>\n\t\t\t\t\t\t<text class=\"fab-item-text\">Áõ¥Á∫ø</text>\n\t\t\t\t\t</div>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"fab-item\" @click.stop=\"switchMode('rectangle')\">\n\t\t\t\t\t<div class=\"fab-item-inner\">\n\t\t\t\t\t\t<i class=\"fab-item-icon\">‚ñ°</i>\n\t\t\t\t\t\t<text class=\"fab-item-text\">Áü©ÂΩ¢</text>\n\t\t\t\t\t</div>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"fab-item\" @click.stop=\"switchMode('circle')\">\n\t\t\t\t\t<div class=\"fab-item-inner\">\n\t\t\t\t\t\t<i class=\"fab-item-icon\">‚óã</i>\n\t\t\t\t\t\t<text class=\"fab-item-text\">ÂúÜÂΩ¢</text>\n\t\t\t\t\t</div>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"fab-item\" @click.stop=\"switchMode('smart')\">\n\t\t\t\t\t<div class=\"fab-item-inner\">\n\t\t\t\t\t\t<i class=\"fab-item-icon\">üß†</i>\n\t\t\t\t\t\t<text class=\"fab-item-text\">Êô∫ËÉΩÊ®°Âºè</text>\n\t\t\t\t\t</div>\n\t\t\t\t</view>\n\n\t\t\t\t<view class=\"fab-item\" @click.stop=\"switchMode('eraser')\">\n\t\t\t\t\t<div class=\"fab-item-inner\">\n\t\t\t\t\t\t<i class=\"fab-item-icon\">üßΩ</i>\n\t\t\t\t\t\t<text class=\"fab-item-text\">Ê©°ÁöÆÊì¶</text>\n\t\t\t\t\t</div>\n\t\t\t\t</view>\n\n\t\t\t\t<!-- Â≠êÊåâÈíÆ - Êìç‰ΩúÊåâÈíÆ -->\n\t\t\t\t<view class=\"fab-item fab-item-accent\" @click.stop=\"addTextLabel\">\n\t\t\t\t\t<div class=\"fab-item-inner\">\n\t\t\t\t\t\t<i class=\"fab-item-icon\">‚ûï</i>\n\t\t\t\t\t\t<text class=\"fab-item-text\">Ê∑ªÂä†ÊñáÂ≠ó</text>\n\t\t\t\t\t</div>\n\t\t\t\t</view>\n\t\t\t\t<!-- Â≠êÊåâÈíÆ - Êìç‰ΩúÊåâÈíÆ -->\n\t\t\t\t<view class=\"fab-item fab-item-accent\" @click.stop=\"clickBlank\">\n\t\t\t\t\t<div class=\"fab-item-inner\">\n\t\t\t\t\t\t<i class=\"fas fa-square\">Á©∫</i>\n\t\t\t\t\t\t<text class=\"fab-item-text\">Á©∫ÁôΩÁÇπÂáª</text>\n\t\t\t\t\t</div>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</view>\n\t</view>\n</template>\n\n<script setup>\n\timport {\n\t\tonLoad,\n\t\tonUnload,\n\t\tonReachBottom\n\t} from \"@dcloudio/uni-app\"\n\timport {\n\t\tref,\n\t\tonMounted,\n\t\tgetCurrentInstance,\n\t\tnextTick,\n\t\twatch,\n\t\treactive\n\t} from 'vue';\n\timport html2canvas from 'html2canvas';\n\timport useDrawing from './useFunc/useDrawing';\n\timport useTableData from './useFunc/useTableData';\n\timport useTextLabels from './useFunc/useTextLabels';\n\timport useFabActions from './useFunc/useFabActions';\n\timport useScreenshot from './useFunc/useScreenshot';\n\timport {\n\t\tusetwoCounterStore\n\t} from \"@/stores/twocounter.js\";\n\timport {\n\t\tuseCounterStore\n\t} from \"@/stores/counter.js\";\n\timport NumberSelector from '../../../components/NumberSelector/NumberSelector.vue';\n\t// ÂàõÂª∫Êú¨Âú∞ÁöÑ onCanvasEnd Â§ÑÁêÜÂáΩÊï∞\n\tconst onCanvasEnd = (event) => {\n\t\t// È¶ñÂÖàË∞ÉÁî®‰ªé useDrawing ÂØºÂÖ•ÁöÑÂáΩÊï∞\n\t\tdrawingOnCanvasEnd(event);\n\t\t// ÁÑ∂ÂêéÊ∑ªÂä†ÊÇ®ÁöÑËá™ÂÆö‰πâÈÄªËæë\n\t\tconst endPoint = currentShape.value.end;\n\t\tconst numberPos = checkPointOnNumber(endPoint);\n\t\t\n\t\t\n\t};\n\n\n\t//‰∏ãÈù¢ÊòØÂÖ≥‰∫éÁªÑ‰ª∂Êï∞Â≠óÈÄâÊã©Âô®ÁöÑÂ§ÑÁêÜ\n\t// Ê∑ªÂä†Áä∂ÊÄÅÊéßÂà∂\n\tconst showNumberSelector = ref(false);\n\t//Â≠òÂÇ®Ê†ºÂ≠ê‰ø°ÊÅØÔºåÂ∞Ü‰ø°ÊÅØ‰º†ÁªôÊï∞Â≠óÈÄâÊã©Âô®ÔºåÊñπ‰æø‰øÆÊîπÊù°‰ª∂ÈÄâÊã©\n\tconst selectedGroupIndex = ref(null);\n\tconst selectedNumIndex = ref(null);\n\n\tconst counterStore = useCounterStore();\n\tconsole.log(counterStore)\n\tconst classifyList = ref([]);\n\t//Â≠òÂÇ®È¢ÑËßàÊ†∑Âºè‰ø°ÊÅØÁöÑ\n\tconst gridStyles = ref({});\n\t// ÊâìÂºÄÊï∞Â≠óÈÄâÊã©Âô®\n\tconst openNumberSelector = (groupIndex, numIndex) => {\n\t\tselectedGroupIndex.value = groupIndex;\n\t\tselectedNumIndex.value = numIndex;\n\t\tshowNumberSelector.value = true;\n\t};\n\n\n\t// ÂÖ≥Èó≠Êï∞Â≠óÈÄâÊã©Âô®\n\tconst closeNumberSelector = () => {\n\t\tshowNumberSelector.value = false;\n\t};\n\n\t// Â§ÑÁêÜÁ°ÆËÆ§ÈÄâÊã©\n\tconst handleConfirmSelection = (data) => {\n\t\tconsole.log('Á°ÆËÆ§ÈÄâÊã©:', data);\n\t\tconsole.log('Ê†ºÂ≠ê‰ΩçÁΩÆ:', selectedGroupIndex.value, selectedNumIndex.value);\n\t\tconst key = `${data.groupIndex}-${data.numIndex}`;\n\t\tgridStyles.value[key] = {\n\t\t\tpreviewType: data.previewType,\n\t\t\tcontent: {\n\t\t\t\tselectedCondition: data.selectedCondition,\n\t\t\t\tselectedNumbers: data.selectedNumbers,\n\t\t\t\tselecteddoubNumber: data.selecteddoubNumber\n\t\t\t}\n\t\t};\n\t\tconsole.log(gridStyles.value) //20-2  + ÂÜÖÂÆπ\n\t\tcloseNumberSelector();\n\t\t// Â∫îÁî®Ê†∑ÂºèÂà∞ÂØπÂ∫îÊ†ºÂ≠ê\n\t\tapplyStyleToGrid(data.groupIndex, data.numIndex);\n\t\t// ËøôÈáåÂèØ‰ª•Â§ÑÁêÜÈÄâÊã©ÁöÑÊï∞ÊçÆ\n\t};\n\t// Â∫îÁî®Ê†∑ÂºèÂà∞Ê†ºÂ≠ê\n\tconst applyStyleToGrid = (groupIndex, numIndex) => {\n\t\tconst key = `${groupIndex}-${numIndex}`;\n\t\tconst styleData = gridStyles.value[key];\n\t\tif (!styleData) return;\n\t\t// ÊâæÂà∞ÂØπÂ∫îÁöÑÊ†ºÂ≠êÂÖÉÁ¥†\n\t\tconst gridElement = document.querySelector(\n\t\t\t`[data-group-index=\"${groupIndex}\"][data-num-index=\"${numIndex}\"]`\n\t\t);\n\t\tif (!gridElement) return;\n\t\t// Ê∏ÖÈô§‰πãÂâçÁöÑÊ†∑Âºè\n\t\tgridElement.classList.remove('solid', 'hollow');\n\n\t\t// Â∫îÁî®Êñ∞Ê†∑Âºè\n\t\tif (styleData.previewType === 'solid') {\n\t\t\tgridElement.classList.add('solid');\n\t\t} else {\n\t\t\tgridElement.classList.add('hollow');\n\t\t}\n\t\t// Êõ¥Êñ∞ÂÜÖÂÆπ\n\t\tconst contentElement = gridElement.querySelector('.grid-content');\n\t\tconsole.log(styleData.content.selectedCondition);\n\t\tif (contentElement) {\n\t\t\tcontentElement.innerHTML = '';\n\n\t\t\tif (styleData.content.selectedCondition) {\n\t\t\t\tconst conditionElement = document.createElement('div');\n\t\t\t\tconditionElement.textContent = styleData.content.selectedCondition;\n\t\t\t\tcontentElement.appendChild(conditionElement);\n\t\t\t}\n\n\t\t\tif (styleData.content.selectedNumbers && styleData.content.selectedNumbers.length > 0) {\n\t\t\t\tconst numbersElement = document.createElement('div');\n\t\t\t\tnumbersElement.textContent = styleData.content.selectedNumbers.join(' ');\n\t\t\t\tcontentElement.appendChild(numbersElement);\n\t\t\t}\n\n\t\t\tif (styleData.content.selecteddoubNumber) {\n\t\t\t\tconst doubNumberElement = document.createElement('div');\n\t\t\t\tdoubNumberElement.textContent = styleData.content.selecteddoubNumber;\n\t\t\t\tcontentElement.appendChild(doubNumberElement);\n\t\t\t}\n\t\t}\n\t};\n\n\t//------------------------------------------------------\n\n\t// Âä†ËΩΩÁä∂ÊÄÅÁÆ°ÁêÜ\n\tconst isLoading = ref(false);\n\tconst hasMore = ref(true);\n\tconst loadError = ref(null);\n\t// Ëé∑ÂèñÂºÇÊ≠•ËØ∑Ê±ÇÁöÑÁîªÂ∏ÉÁúüÂÆûÊï∞ÊçÆ\n\t//ÂÖàÊãøÂà∞storeÂÆû‰æãÂØπË±°\n\tconst twocounterStore = usetwoCounterStore()\n\t// console.log(twocounterStore.List)\n\t// onReachBottom(async () => {\n\n\t// \t// Èò≤Ê≠¢ÈáçÂ§çÂä†ËΩΩ\n\t// \tif (isLoading.value || !hasMore.value) {\n\t// \t\tconsole.log(\"Ê≠£Âú®Âä†ËΩΩÊàñÊ≤°ÊúâÊõ¥Â§öÊï∞ÊçÆÔºåË∑≥Ëøá\");\n\t// \t\treturn;\n\t// \t}\n\n\t// \ttry {\n\t// \t\t// ËÆæÁΩÆÂä†ËΩΩÁä∂ÊÄÅ\n\t// \t\tisLoading.value = true;\n\t// \t\tloadError.value = null;\n\n\t// \t\t// ÊòæÁ§∫Âä†ËΩΩÊèêÁ§∫\n\t// \t\tuni.showLoading({\n\t// \t\t\ttitle: 'Âä†ËΩΩÊõ¥Â§öÊï∞ÊçÆ...',\n\t// \t\t\tmask: false\n\t// \t\t});\n\n\t// \t\t// Ë∞ÉÁî® store ÁöÑÂä†ËΩΩÊõ¥Â§öÊñπÊ≥ï\n\t// \t\tawait twocounterStore.loadMoreData();\n\n\t// \t\t// Êõ¥Êñ∞Áä∂ÊÄÅ\n\t// \t\thasMore.value = twocounterStore.hasMore;\n\n\t// \t\tconsole.log(\"Âä†ËΩΩÊõ¥Â§öÂÆåÊàêÔºåÂΩìÂâçÊï∞ÊçÆÈáè:\", twocounterStore.List.length);\n\n\t// \t\t// ÊòæÁ§∫ÊàêÂäüÊèêÁ§∫ÔºàÂèØÈÄâÔºâ\n\t// \t\tif (hasMore.value) {\n\t// \t\t\tuni.showToast({\n\t// \t\t\t\ttitle: `Â∑≤Âä†ËΩΩ ${twocounterStore.List.length} Êù°Êï∞ÊçÆ`,\n\t// \t\t\t\ticon: 'none',\n\t// \t\t\t\tduration: 1500\n\t// \t\t\t});\n\t// \t\t}\n\n\t// \t} catch (error) {\n\t// \t\tconsole.error('Âä†ËΩΩÊõ¥Â§öÂ§±Ë¥•:', error);\n\t// \t\tloadError.value = error;\n\t// \t\tuni.showToast({\n\t// \t\t\ttitle: 'Âä†ËΩΩÂ§±Ë¥•ÔºåËØ∑ÈáçËØï',\n\t// \t\t\ticon: 'none'\n\t// \t\t});\n\t// \t} finally {\n\t// \t\tisLoading.value = false;\n\t// \t\tuni.hideLoading();\n\t// \t}\n\t// });\n\t// // Ê∑ªÂä†ÈáçËØïÊñπÊ≥ï\n\t// const retryLoadMore = () => {\n\t// \tif (loadError.value) {\n\t// \t\tloadError.value = null;\n\t// \t\tonReachBottom(); // ÈáçÊñ∞Ëß¶ÂèëÂä†ËΩΩ\n\t// \t}\n\t// };\n\n\t// // ÁõëÂê¨ store Áä∂ÊÄÅÂèòÂåñ\n\t// watch(() => twocounterStore.isLoading, (loading) => {\n\t// \tisLoading.value = loading;\n\t// });\n\n\t// watch(() => twocounterStore.hasMore, (more) => {\n\t// \thasMore.value = more;\n\t// });\n\n\t// watch(() => twocounterStore.error, (error) => {\n\t// \tif (error) {\n\t// \t\tloadError.value = error;\n\t// \t}\n\t// });\n\n\n\n\t//-------------------------------------------------------\n\tconst canvasPointerValue = ref(true)\n\tconst switchDrawMode = (value) => {\n\t\tuni.showToast({\n\t\t\ttitle: `ÂΩìÂâç‰∏∫${value==='none'?'ÊªöÂä®':'ÁîªËßÑ'}Ê®°Âºè`,\n\t\t\ticon: 'none', // ÂèØÈÄâÂÄºÔºösuccess, loading, none\n\t\t\tduration: 2000, // ÊèêÁ§∫ÊåÅÁª≠Êó∂Èó¥ÔºàÊØ´ÁßíÔºâ\n\t\t\tposition: 'bottom' // ÂèØÈÄâÂÄºÔºötop, center, bottom\n\t\t});\n\t\tcanvasPointerValue.value = !canvasPointerValue.value\n\t\tcanvasPointerEvents.value = value\n\t}\n\t// Áà∂ÁªÑ‰ª∂ÁöÑÊñπÊ≥ï\n\tconst handleSubmit = (data) => {\n\t\tconsole.log('Â≠êÁªÑ‰ª∂Ë∞ÉÁî®‰∫ÜÁà∂ÁªÑ‰ª∂ÁöÑÊèê‰∫§ÊñπÊ≥ïÔºåÊï∞ÊçÆÔºö', data);\n\t\t// ÂèØ‰ª•Âú®ËøôÈáåÂ§ÑÁêÜÊèê‰∫§ÈÄªËæë\n\t\tclearCanvas()\n\t\t // ÊòæÁ§∫Á°ÆËÆ§ÂØπËØùÊ°Ü\n\t\t\t  uni.showModal({\n\t\t\t    title: 'Á°ÆËÆ§Ê∏ÖÈô§',\n\t\t\t    content: 'Á°ÆÂÆöË¶ÅÊ∏ÖÈô§ÊâÄÊúâÁªòÂà∂ÂÜÖÂÆπÂíåÊ†∑ÂºèÂêóÔºüÊ≠§Êìç‰Ωú‰∏çÂèØÊí§ÈîÄ„ÄÇ',\n\t\t\t    success: (res) => {\n\t\t\t      if (res.confirm) {\n\t\t\t        console.log('Áî®Êà∑Á°ÆËÆ§Ê∏ÖÈô§Êìç‰Ωú');\n\t\t\t        clearCanvas(); // Ê∏ÖÈô§ÁîªÂ∏É\n\t\t\t        clearAllGridContents(); // Ê∏ÖÈô§grid-contentÂÜÖÂÆπ\n\t\t\t      } else if (res.cancel) {\n\t\t\t        console.log('Áî®Êà∑ÂèñÊ∂àÊ∏ÖÈô§Êìç‰Ωú');\n\t\t\t      }\n\t\t\t    }\n\t\t\t  });\n\t\t\t};\n\t\t\tconst clearAllGridContents = () => {\n\t\t\t   // Ê∏ÖÈô§Â≠òÂÇ®ÁöÑÊâÄÊúâÊ†∑Âºè\n\t\t\t     gridStyles.value = {};\n\t\t\t     \n\t\t\t     // Ê∏ÖÈô§ÊâÄÊúâÊ†ºÂ≠êÁöÑÊ†∑ÂºèÂíåÂÜÖÂÆπ\n\t\t\t     const gridElements = document.querySelectorAll('[data-group-index][data-num-index]');\n\t\t\t     gridElements.forEach(element => {\n\t\t\t       element.classList.remove('solid', 'hollow');\n\t\t\t       \n\t\t\t       const contentElement = element.querySelector('.grid-content');\n\t\t\t       if (contentElement) {\n\t\t\t         contentElement.innerHTML = '';\n\t\t\t       }\n\t\t\t     });\n\t};\n\n\tconst handleChildEvent = (params) => {\n\t\tconsole.log('Êî∂Âà∞Â≠êÁªÑ‰ª∂‰∫ã‰ª∂ÔºåÂèÇÊï∞', params)\n\t\tswitch (params.action) {\n\t\t\tcase 'submit':\n\t\t\t\tsaveCanvasImage()\n\t\t\t\tbreak\n\t\t\tcase 'undo':\n\t\t\t\tundoDraw()\n\t\t\t\tbreak\n\t\t}\n\n\t}\n\tconst handleShareEvent = () => {\n\t\tconsole.log('Â≠êÁªÑ‰ª∂Ë∞ÉÁî®‰∫ÜÁà∂ÁªÑ‰ª∂ÁöÑÂàÜ‰∫´ÊñπÊ≥ï')\n\n\t}\n\n\n\n\tlet eventHandler;\n\tonLoad((e) => {\n\t\tconst instance = getCurrentInstance().proxy\n\t\tconst eventChannel = instance.getOpenerEventChannel();\n\t\teventChannel.emit('acceptDataFromOpenedPage', {\n\t\t\tdata: 'data from test page'\n\t\t});\n\t\teventChannel.emit('someEvent', {\n\t\t\tdata: 'data from test page for someEvent'\n\t\t});\n\t\t// ÁõëÂê¨acceptDataFromOpenerPage‰∫ã‰ª∂ÔºåËé∑Âèñ‰∏ä‰∏ÄÈ°µÈù¢ÈÄöËøáeventChannel‰º†ÈÄÅÂà∞ÂΩìÂâçÈ°µÈù¢ÁöÑÊï∞ÊçÆ\n\t\teventChannel.on('acceptDataFromOpenerPage', function(data) {\n\t\t\tconsole.log(\"acceptDataFromOpenerPage\", data)\n\t\t})\n\n\n\n\t})\n\t//----------------------------------------------------\n\n\n\t//‰ªéuseTableData.js‰∏≠‰º†ËøáÊù•ÁöÑÁΩëÁªúËØ∑Ê±ÇÊï∞ÊçÆÊó†Ê≥ïÂèäÊó∂Êõ¥Êñ∞\t---------------\n\n\t// Â≠êÁªÑ‰ª∂ÂºïÁî®\n\tconst child = ref(null);\n\t// classifyList.value = [...newDataSort,...classifyList.value];\n\t// ÂÆö‰πâ formattedClassifyListÔºåÁî®‰∫éÂ≠òÂÇ®‰ªé drawLineRead.vue ‰º†ÈÄíËøáÊù•ÁöÑÊï∞ÊçÆ\n\t// const formattedClassifyList = ref(null);\n\t// const externalData=ref([]);\n\n\t// console.log(externalData,'aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa');\n\t//------------------------------------------------------------------------\n\tfunction logDataComparison(a, externalData) {\n\t\tconsole.group('Êï∞ÊçÆÊØîËæÉ');\n\t\tconsole.log('a:', a);\n\t\tconsole.log('externalData:', externalData);\n\t\tconsole.log('a === externalData:', a === externalData);\n\t\tconsole.log('JSON.stringify(a) === JSON.stringify(externalData):',\n\t\t\tJSON.stringify(a) === JSON.stringify(externalData));\n\n\t\tif (isRef(externalData)) {\n\t\t\tconsole.log('externalData ÊòØ ref');\n\t\t\tconsole.log('externalData.value:', externalData.value);\n\t\t\tconsole.log('a === externalData.value:', a === externalData.value);\n\t\t}\n\t\tconsole.groupEnd();\n\t}\n\n\n\t// ÂØºÂÖ•ÂêÑ‰∏™ÂäüËÉΩÊ®°Âùó\n\tconst {\n\t\tnumberGroups,\n\t\thighlighted,\n\t\tnumberRefs,\n\t\tgetTargetRowIndex,\n\t\tisTargetRow,\n\t\thandleCellClick,\n\t\tisHighlighted,\n\t\ttoggleHighlight,\n\t\thandleMessage\n\t} = useTableData(child,null,openNumberSelector);\n\tconst handleColorMessage = (val) => {\n\t\tstrokeColor.value = val\n\t}\n\tconst handleLineMessage = (val) => {\n\t\tlineWidth.value = val\n\t}\n\tconst {\n\t\tcurrentMode,\n\t\tisDrawing,\n\t\tisErasing,\n\t\tcanvasPointerEvents,\n\t\tstrokeColor,\n\t\tlineWidth,\n\t\tcanvasCtx,\n\t\ttempCanvasCtx,\n\t\tcanvasSize,\n\t\tdpr,\n\t\tcurrentShape,\n\t\tshapes,\n\t\teraserSize,\n\t\tonCanvasStart,\n\t\tonCanvasMove,\n\t\tonCanvasEnd: drawingOnCanvasEnd, // ÈáçÂëΩÂêç‰ª•ÈÅøÂÖçÂÜ≤Á™Å\n\t\tredraw,\n\t\tinitCanvas,\n\t\tselectedColor,\n\t\tcheckPointOnNumber\n\t} = useDrawing(numberGroups, highlighted, numberRefs, openNumberSelector);\n\n\tnextTick()\n\tconst {\n\t\ttextLabels,\n\t\tmovingLabel,\n\t\ttouchStartTime,\n\t\ttouchStartPos,\n\t\ttouchEndTime,\n\t\ttouchCount,\n\t\ttouchTimer,\n\t\tlabelOffset,\n\t\tlongPressDetected,\n\t\thandleLabelTouchStart,\n\t\thandleLabelTouchMove,\n\t\thandleLabelTouchEnd,\n\t\thandleLabelClick,\n\t\thandleLabelDblClick,\n\t\taddTextLabel,\n\t\teditLabel,\n\t\tupdateLabelText,\n\t\tfinishEditLabel,\n\t\tgetLabelStyle\n\t} = useTextLabels(canvasSize);\n\n\tconst {\n\t\tisFabOpen,\n\t\ttoggleFab,\n\t\tswitchMode,\n\t\tclearCanvas,\n\t\tclickBlank\n\t} = useFabActions(currentMode, canvasPointerEvents, shapes, textLabels, highlighted, redraw);\n\n\tconst {\n\t\tsaveCanvasImage,\n\t\tdomToImage\n\t} = useScreenshot(html2canvas);\n\tconst undoDraw = () => {\n\t\t// console.log('undoDraw')\n\t\t// if (shapes.value.length > 0) {\n\t\t// \tshapes.value.pop();\n\t\t// \tredraw(false);\n\t\t// }\r\n\t\tconsole.log('ÊâßË°åÊí§ÈîÄÊìç‰Ωú');\r\n\t\t  \r\n\t\t  if (shapes.value.length > 0) {\r\n\t\t    // Ëé∑ÂèñÊúÄÂêéÁªòÂà∂ÁöÑÂΩ¢Áä∂\r\n\t\t    const lastShape = shapes.value.pop();\r\n\t\t    \r\n\t\t    // Êí§ÈîÄÂÖ≥ËÅîÁöÑÈ´ò‰∫ÆÊ†∑Âºè\r\n\t\t    if (lastShape.highlights && Array.isArray(lastShape.highlights)) {\r\n\t\t      // Â§á‰ªΩÂΩìÂâçÈ´ò‰∫ÆÁä∂ÊÄÅ\r\n\t\t      const currentHighlights = [...highlighted.value];\r\n\t\t      \r\n\t\t      // ÁßªÈô§ËØ•ÂΩ¢Áä∂ÂÖ≥ËÅîÁöÑÈ´ò‰∫Æ\r\n\t\t      lastShape.highlights.forEach(highlightToRemove => {\r\n\t\t        const index = currentHighlights.findIndex(item => \r\n\t\t          item.groupIndex === highlightToRemove.groupIndex && \r\n\t\t          item.numIndex === highlightToRemove.numIndex\r\n\t\t        );\r\n\t\t        \r\n\t\t        if (index > -1) {\r\n\t\t          currentHighlights.splice(index, 1);\r\n\t\t        }\r\n\t\t      });\r\n\t\t      \r\n\t\t      // Êõ¥Êñ∞È´ò‰∫ÆÁä∂ÊÄÅ\r\n\t\t      highlighted.value = currentHighlights;\r\n\t\t      console.log('Êí§ÈîÄÈ´ò‰∫ÆÊ†∑ÂºèÔºåÂâ©‰ΩôÈ´ò‰∫ÆÊï∞Èáè:', highlighted.value.length);\r\n\t\t    }\r\n\t\t    \r\n\t\t    // ÈáçÁªòÁîªÂ∏ÉÂíåÊõ¥Êñ∞È´ò‰∫ÆÊòæÁ§∫\r\n\t\t    redraw(false);\r\n\t\t    updateHighlightDisplay();\r\n\t\t    \r\n\t\t    console.log('Êí§ÈîÄÂÆåÊàêÔºåÂâ©‰ΩôÂΩ¢Áä∂Êï∞Èáè:', shapes.value.length);\r\n\t\t    \r\n\t\t    // ÊòæÁ§∫Êí§ÈîÄÊàêÂäüÊèêÁ§∫\r\n\t\t    uni.showToast({\r\n\t\t      title: 'Â∑≤Êí§ÈîÄ‰∏ä‰∏ÄÊ≠•Êìç‰Ωú',\r\n\t\t      icon: 'success',\r\n\t\t      duration: 1500\r\n\t\t    });\r\n\t\t  } else {\r\n\t\t    console.log('Ê≤°ÊúâÂèØÊí§ÈîÄÁöÑÊìç‰Ωú');\r\n\t\t    uni.showToast({\r\n\t\t      title: 'Ê≤°ÊúâÂèØÊí§ÈîÄÁöÑÊìç‰Ωú',\r\n\t\t      icon: 'none',\r\n\t\t      duration: 1500\r\n\t\t    });\r\n\t\t  }\n\t};\n\t// ÂàùÂßãÂåñ\n\tonMounted(async () => {\n\t\tawait twocounterStore.getCounterInfo();\n\t\t// await nextTick();\n\t\tconsole.log('Êï∞Â≠óÂÖÉÁ¥†Êï∞Èáè:', numberRefs.value.length);\n\t\tawait initCanvas();\n\t\t// await nextTick();\n\n\t\tconsole.log('ÂàùÂßãÂåñÂêéÊï∞Â≠óÂÖÉÁ¥†Êï∞Èáè:', numberRefs.value.length);\n\t\t// console.log('ÁõÆÊ†áË°åÁ¥¢Âºï:', getTargetRowIndex());\n\t\t// Ê∑ªÂä†ÊªöÂä®Âà∞Â∫ïÈÉ®ÁöÑ‰ª£Á†Å\n\t\t setTimeout(() => {\n\t\t   scrollToBottom();\n\t\t },0); // Âª∂Ëøü300msÁ°Æ‰øùÂÜÖÂÆπÂÆåÂÖ®Ê∏≤Êüì\n\t});\n\n\t// ÁõëÂê¨ÂΩ¢Áä∂ÂèòÂåñ\n\twatch(shapes, () => redraw(false), {\n\t\tdeep: true\n\t});\n\t // ÊªöÂä®Âà∞Â∫ïÈÉ®ÁöÑÊñπÊ≥ï\n\t const scrollToBottom = () => {\n\t   // Ëé∑ÂèñÈ°µÈù¢È´òÂ∫¶\n\t   const query = uni.createSelectorQuery();\n\t   query.select('.container').boundingClientRect();\n\t   query.selectViewport().scrollOffset();\n\t   query.exec((res) => {\n\t     if (res[0]) {\n\t       // ËÆ°ÁÆóÈúÄË¶ÅÊªöÂä®ÁöÑÈ´òÂ∫¶\n\t       const pageHeight = res[0].height;\n\t       // ÊªöÂä®Âà∞Â∫ïÈÉ®\n\t       uni.pageScrollTo({\n\t         scrollTop: pageHeight,\n\t         duration: 0\n\t       });\n\t     }\n\t   });\n\t };\n</script>\n\n<style scoped lang=\"less\">\n\t.modal-overlay {\n\t    position: fixed;\n\t    top: 0;\n\t    left: 0;\n\t    width: 100%;\n\t    height: 100%;\n\t    background-color: rgba(0, 0, 0, 0.5);\n\t    display: flex;\n\t    justify-content: center;\n\t    align-items: center;\n\t    z-index: 1000;\n\t}\n\t\n\t.modal-content {\n\t    background-color: white;\n\t    border-radius: 16px;\n\t    width: 95%;\n\t    max-width: 600rpx;\n\t    max-height: 85vh;\n\t    overflow-y: auto;\n\t    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);\n\t    position: relative;\n\t}\n\t\n\t/* ‰ºòÂåñ NumberSelector ÂÆπÂô®Ê†∑Âºè */\n\t.boxNumber {\n\t    width: 100%;\n\t    min-height: auto;\n\t    padding: 0;\n\t    box-sizing: border-box;\n\t    background-color: #f9f9f9;\n\t    overflow: visible;\n\t}\n\n\t.container {\n\t\tposition: relative;\n\t\twidth: 100%;\n\t\tmin-height: 100vh;\n\t\tpadding: 0;\n\t\tbox-sizing: border-box;\n\t\tbackground-color: #f9f9f9;\n\t\toverflow: hidden;\n\t}\n\n\t.numbers-table-container {\n\t\twidth: 100%;\n\t\tpadding: 10rpx;\n\t\tbox-sizing: border-box;\n\t\tposition: relative;\n\t\tz-index: 10; //Ë°®Ê†ºÈ´ò‰∫éÁîªÂ∏Éz-index\n\t\tmargin-bottom: 30rpx;\n\t}\n\n\t.switch-mode-css {\n\t\twidth: 100rpx;\n\t\theight: 100rpx;\n\t\tposition: fixed;\n\t\tright: 200rpx;\n\t\tbottom: 40rpx;\n\t\tz-index: 100;\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\talign-items: center;\n\t}\n\n\t.numbers-table {\n\t\twidth: 100%;\n\t\tborder-collapse: collapse;\n\t\tbackground-color: #fff;\n\t\tborder-radius: 15rpx;\n\t\toverflow: hidden;\n\t\tbox-shadow: 0 4rpx 12rpx rgba(0, 0, 0, 0.05);\n\t\tz-index: 51;\n\t}\n\n\t/* ÂàóÂÆΩÂÆö‰πâ */\n\t.col-def-1 {\n\t\twidth: 120rpx;\n\t}\n\n\t.col-def-2 {\n\t\twidth: 60rpx;\n\t}\n\n\t.col-def-3 {\n\t\twidth: 90rpx;\n\t}\n\n\t.col-def-4 {\n\t\twidth: 90rpx;\n\t}\n\n\t.col-def-5 {\n\t\twidth: 90rpx;\n\t}\n\n\t.col-def-6 {\n\t\twidth: 90rpx;\n\t}\n\n\t.col-def-7 {\n\t\twidth: 60rpx;\n\t}\n\n\t.table-row {\n\t\ttransition: background-color 0.2s;\n\t}\n\n\t.table-row:nth-child(even) {\n\t\tbackground-color: rgba(0, 0, 0, 0.02);\n\t}\n\n\t.table-row:hover {\n\t\tbackground-color: rgba(0, 0, 0, 0.03);\n\t}\n\n\t.table-row:nth-child(4n) .table-cell {\n\t\tborder-bottom: 4px solid #8BAF95;\n\t}\n\n\t/* ÁõÆÊ†áË°åÊ†∑Âºè */\n\t.target-row {\n\t\tbackground-color: rgba(255, 248, 225, 0.5);\n\t}\n\n\t.table-cell {\n\t\tpadding: 0;\n\t\ttext-align: center;\n\t\tborder: 1px solid #dbe7d6;\n\t\theight: 90rpx;\n\t\tbox-sizing: border-box;\n\t\twhite-space: nowrap;\n\t\toverflow: hidden;\n\t\ttransition: all 0.2s;\n\t}\n\n\t/* ÂèØÁÇπÂáªÂçïÂÖÉÊ†ºÊ†∑Âºè */\n\t.clickable {\n\t\tcursor: pointer;\n\t\tposition: relative;\n\t}\n\n\t.clickable::after {\n\t\tcontent: '';\n\t\tposition: absolute;\n\t\ttop: 0;\n\t\tleft: 0;\n\t\tright: 0;\n\t\tbottom: 0;\n\t\tbackground-color: rgba(255, 215, 0, 0.1);\n\t\topacity: 0;\n\t\ttransition: opacity 0.2s;\n\t}\n\n\t.clickable:active::after {\n\t\topacity: 1;\n\t}\n\n\t.cell-content {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\twidth: 100%;\n\t\theight: 100%;\n\t\tfont-size: 28rpx;\n\t\tfont-weight: 500;\n\t\tpadding: 0 5rpx;\n\t}\n\n\t/* ÂàóËÉåÊôØËâ≤ËÆæÁΩÆ */\n\t.col-1 {\n\t\tbackground-color: #90C380;\n\t\tcolor: #DDEBB8;\n\t\twidth: 30rpx;\n\t}\n\n\t.col-2 {\n\t\tborder-right: 4px solid #89B197;\n\t\tborder-left: 4px solid #89B197;\n\t\tbackground-color: #DFEDBC;\n\n\t\t.cell-content {\n\t\t\tfont-size: 40rpx !important;\n\t\t}\n\t}\n\t.col-2 .number-item {\n\t\t\tfont-size: 50rpx;\n\t\t}\n\n\t.col-3,\n\t.col-4,\n\t.col-5,\n\t.col-6 {\n\t\tbackground-color: #FFFFFF;\n\t}\n\t.col-3 .number-item,\n\t\t.col-4 .number-item,\n\t\t.col-5 .number-item,\n\t\t.col-6 .number-item {\n\t\t\tfont-size: 73rpx; /* ‰∏≠Èó¥ÂõõÂàóÁöÑÊï∞Â≠óÂ≠ó‰ΩìÂ§ßÂ∞è */\n\t\t}\n\n\t.col-7 {\n\t\tborder-left: 4px solid #8CB699;\n\t\tbackground-color: #DFEDBC;\n\n\t\t.number-item {\n\t\t\tfont-size: 70rpx !important;\n\t\t}\n\t}\n\n\t.number-item {\n\t\tposition: relative;\n\t\twidth: 70rpx;\n\t\theight: 70rpx;\n\t\tborder-radius: 50%;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\tfont-size: 38rpx;\n\t\tfont-weight: bold;\n\t\tcolor: #93C381;\n\t\ttransition: all 0.2s;\n\t\tcursor: pointer;\n\t\tbox-sizing: border-box;\n\t\tpadding: 0;\n\t\tmargin: 0 auto;\n\t\tpointer-events: none;\n\t\tz-index: 88;\n\t}\n\n\t.number-item.highlighted {\n\t\tbackground-color: #1a1ad9;\n\t\tcolor: white;\n\t\tfont-weight: bold;\n\t}\n\n\t/* CanvasÊ†∑Âºè */\n\t.draw-canvas,\n\t.temp-canvas {\n\t\twidth: 100%;\n\t\theight: 100%;\n\t\tposition: absolute;\n\t\ttop: 0;\n\t\tleft: 0;\n\t\tbackground-color: transparent;\n\t\tz-index: 1;\n\t\tpointer-events: none;\n\t}\n\n\t.draw-canvas {\n\t\tz-index: 1;\n\t}\n\n\t.temp-canvas {\n\t\tz-index: 1;\n\t\tpointer-events: none;\n\t}\n\n\t/* ÊñáÂ≠óÊ†áÊ≥®Ê†∑Âºè */\n\t.text-container {\n\t\tposition: absolute;\n\t\ttop: 0;\n\t\tleft: 0;\n\t\twidth: 100%;\n\t\theight: 100%;\n\t\tpointer-events: none;\n\t\tz-index: 999;\n\t}\n\n\t.text-label {\n\t\tposition: absolute;\n\t\tpadding: 15rpx;\n\t\tbackground-color: rgba(255, 255, 255, 0.95);\n\t\tborder: 2rpx solid #ccc;\n\t\tborder-radius: 10rpx;\n\t\tfont-size: 80rpx;\n\t\tcolor: red;\n\t\twidth: 20rpx;\n\t\tbackground-color: pink;\n\t\tpointer-events: auto;\n\t\tmin-width: 120rpx;\n\t\tmax-width: 400rpx;\n\t\tbox-shadow: 0 4rpx 8rpx rgba(0, 0, 0, 0.1);\n\t\tuser-select: none;\n\t\ttouch-action: manipulation;\n\t}\n\n\t.text-content {\n\t\tbackground-color: pink;\n\t}\n\n\t/* FabÊåâÈíÆÊ†∑Âºè */\n\t.fab-wrapper {\n\t\tposition: fixed;\n\t\tright: 40rpx;\n\t\tbottom: 50rpx;\n\t\tz-index: 100;\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\talign-items: center;\n\t}\n\n\t.fab-main {\n\t\twidth: 80rpx;\n\t\theight: 80rpx;\n\t\tborder-radius: 50%;\n\t\tbackground: linear-gradient(135deg, #007aff, #0051a8);\n\t\tcolor: white;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\tbox-shadow: 0 6rpx 15rpx rgba(0, 122, 255, 0.3);\n\t\tfont-size: 40rpx;\n\t\tcursor: pointer;\n\t\ttransition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n\t\tborder: 4rpx solid rgba(255, 255, 255, 0.2);\n\t\tz-index: 10;\n\t}\n\n\t.fab-items-o {\n\t\tdisplay: none;\n\t}\n\n\t.fab-items {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\talign-items: center;\n\t\tposition: absolute;\n\t\tbottom: 90rpx;\n\t}\n\n\t.fab-item {\n\t\twidth: 100rpx;\n\t\theight: 100rpx;\n\t\tmargin-bottom: 20rpx;\n\t\topacity: 0;\n\t\ttransform: translateY(50rpx) scale(0.9);\n\t\ttransition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n\t\tposition: relative;\n\t}\n\n\t.fab-item-inner {\n\t\twidth: 100%;\n\t\theight: 100%;\n\t\tborder-radius: 20rpx;\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\tpadding: 10rpx;\n\t\tbox-shadow: 0 4rpx 12rpx rgba(0, 0, 0, 0.08);\n\t\tbackground-color: white;\n\t\tcolor: #333;\n\t\tborder: 1rpx solid rgba(0, 0, 0, 0.05);\n\t}\n\n\t.fab-open .fab-item {\n\t\topacity: 1;\n\t\ttransform: translateY(0) scale(1);\n\t}\n\n\t/* drawLine.vue ‰∏≠ÁöÑÊ†∑Âºè */\n\t.number-item.solid {\n\t\twidth: 100%;\n\t\tborder-radius: 0px;\n\t\tbackground-color: #0000ff;\n\t\tcolor: white;\n\t}\n\n\t.number-item.hollow {\n\t\tborder: 2px solid #0000ff;\n\t\tbackground-color: transparent;\n\t}\n\n\t.grid-content {\n\t\tposition: absolute;\n\t\ttop: 50%;\n\t\tleft: 50%;\n\t\ttransform: translate(-50%, -50%);\n\t\tfont-size: 12px;\n\t\ttext-align: center;\n\t\tz-index: 20;\n\t\twidth: 100%;\n\t}\n</style>","import MiniProgramPage from 'C:/Users/Administrator/Desktop/my-painting-rules-project/pages/juWang/drawLine/drawLine.vue'\nwx.createPage(MiniProgramPage)"],"names":["ref","useCounterStore","uni","usetwoCounterStore","onLoad","getCurrentInstance","useTableData","useDrawing","nextTick","useTextLabels","useFabActions","useScreenshot","html2canvas","onMounted","watch"],"mappings":"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"}