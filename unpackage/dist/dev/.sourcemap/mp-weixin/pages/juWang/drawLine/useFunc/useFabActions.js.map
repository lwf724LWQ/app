{"version":3,"file":"useFabActions.js","sources":["pages/juWang/drawLine/useFunc/useFabActions.js"],"sourcesContent":["import { ref } from 'vue';\r\n\r\nexport default function useFabActions(currentMode, canvasPointerEvents, shapes, textLabels, highlighted, redraw) {\r\n    // 控制Fab是否展开\r\n    const isFabOpen = ref(false);\r\n\r\n    // 切换Fab展开/收起\r\n    function toggleFab() {\r\n        isFabOpen.value =!isFabOpen.value;\r\n    }\r\n\r\n    // 切换模式 - 根据模式设置Canvas事件穿透\r\n    function switchMode(mode) {\r\n        currentMode.value = mode;\r\n        const isDrawing = false;\r\n        const isErasing = false;\r\n        const movingLabel = -1;\r\n\r\n        // 重置当前形状（假设在主组件中定义了此函数）\r\n        // resetCurrentShape();\r\n\r\n        // 清除临时画布（假设在主组件中定义了此函数）\r\n        // clearTempCanvas();\r\n\r\n        redraw(false);\r\n\r\n        // 根据模式设置Canvas是否接收事件\r\n        if (mode === 'text') {\r\n            canvasPointerEvents.value = 'auto'; // 文字模式下Canvas不接收事件\r\n        } else {\r\n            canvasPointerEvents.value = 'auto'; // 绘图模式下Canvas接收事件\r\n        }\r\n\r\n        toggleFab(); // 切换模式后关闭Fab菜单\r\n    }\r\n\r\n    // 清空画布\r\n    function clearCanvas() {\r\n        shapes.value = [];\r\n        textLabels.value = [];\r\n        highlighted.value = [];\r\n\r\n        // 清除临时画布（假设在主组件中定义了此函数）\r\n        // clearTempCanvas();\r\n\r\n        redraw(false);\r\n    }\r\n\r\n    // 空白点击处理\r\n    function clickBlank() {\r\n        canvasPointerEvents.value = 'auto';\r\n        toggleFab(); // 切换模式后关闭Fab菜单\r\n    }\r\n\r\n    return {\r\n        isFabOpen,\r\n        toggleFab,\r\n        switchMode,\r\n        clearCanvas,\r\n        clickBlank\r\n    };\r\n}\r\n"],"names":["ref"],"mappings":";;AAEe,SAAS,cAAc,aAAa,qBAAqB,QAAQ,YAAY,aAAa,QAAQ;AAE7G,QAAM,YAAYA,kBAAI,KAAK;AAG3B,WAAS,YAAY;AACjB,cAAU,QAAO,CAAC,UAAU;AAAA,EAC/B;AAGD,WAAS,WAAW,MAAM;AACtB,gBAAY,QAAQ;AAWpB,WAAO,KAAK;AAGZ,QAAI,SAAS,QAAQ;AACjB,0BAAoB,QAAQ;AAAA,IACxC,OAAe;AACH,0BAAoB,QAAQ;AAAA,IAC/B;AAED;EACH;AAGD,WAAS,cAAc;AACnB,WAAO,QAAQ;AACf,eAAW,QAAQ;AACnB,gBAAY,QAAQ;AAKpB,WAAO,KAAK;AAAA,EACf;AAGD,WAAS,aAAa;AAClB,wBAAoB,QAAQ;AAC5B;EACH;AAED,SAAO;AAAA,IACH;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,IACA;AAAA,EACR;AACA;;"}