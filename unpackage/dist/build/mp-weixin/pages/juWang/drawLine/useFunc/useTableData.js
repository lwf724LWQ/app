"use strict";const e=require("../../../../common/vendor.js");exports.useTableData=function(n,r=null,o){console.log("useTableData 被调用，externalData:"),e.ref([]),e.index.getStorageSync("drawLineData");const u=e.ref(null);function t(e){return Array.isArray(e)?e.every((e=>{const n=e&&e.hasOwnProperty("qishu")&&e.hasOwnProperty("numbers")&&Array.isArray(e.numbers)&&6===e.numbers.length;return n||console.warn("数据项格式不正确:",e),n})):(console.warn("数据不是数组:",e),!1)}const s=e.ref([]),a=e.ref([]),l={colIndex:0,groupIndex:1};function i(e){return e>19&&e<=23}function c(e,n){const r=s.value.findIndex((r=>r.groupIndex===e&&r.numIndex===n));r>-1?s.value.splice(r,1):(s.value.push({groupIndex:e,numIndex:n}),e>=46&&e<=49&&n>=1&&n<=4&&console.log(1))}function t(e){return!!Array.isArray(e)&&e.every((e=>e.hasOwnProperty("qishu")&&e.hasOwnProperty("numbers")&&Array.isArray(e.numbers)&&6===e.numbers.length))}return{validateDataFormat:t,updateNumberGroups:function(e){if(console.log("updateNumberGroups 被调用，数据:",e),t(e))return console.log("数据更新成功"),"数据更新成功"},numberGroups:u,highlighted:s,numberRefs:a,isTargetRow:i,handleCellClick:function(e,n){i(e)&&n>=0&&n<=6&&(l.colIndex=n,l.groupIndex=e,o(l.groupIndex,l.colIndex)),c(e,n)},isHighlighted:function(e,n){return s.value.some((r=>r.groupIndex===e&&r.numIndex===n))},toggleHighlight:c,handleMessage:function(e){const{colIndex:n,groupIndex:r}=l;u.value[r].numbers[n]=e}}};
