import{r as n,l as e}from"./index-BgH6xnyV.js";function r(r,o=null,u){console.log("useTableData 被调用，externalData:"),n([]),e("drawLineData");const s=n(null);function t(n){return Array.isArray(n)?n.every((n=>{const e=n&&n.hasOwnProperty("qishu")&&n.hasOwnProperty("numbers")&&Array.isArray(n.numbers)&&6===n.numbers.length;return e||console.warn("数据项格式不正确:",n),e})):(console.warn("数据不是数组:",n),!1)}const a=n([]),l=n([]),i={colIndex:0,groupIndex:1};function c(n){return n>19&&n<=23}function d(n,e){const r=a.value.findIndex((r=>r.groupIndex===n&&r.numIndex===e));r>-1?a.value.splice(r,1):(a.value.push({groupIndex:n,numIndex:e}),n>=46&&n<=49&&e>=1&&e<=4&&console.log(1))}function t(n){return!!Array.isArray(n)&&n.every((n=>n.hasOwnProperty("qishu")&&n.hasOwnProperty("numbers")&&Array.isArray(n.numbers)&&6===n.numbers.length))}return{validateDataFormat:t,updateNumberGroups:function(n){if(console.log("updateNumberGroups 被调用，数据:",n),t(n))return console.log("数据更新成功"),"数据更新成功"},numberGroups:s,highlighted:a,numberRefs:l,isTargetRow:c,handleCellClick:function(n,e){c(n)&&e>=0&&e<=6&&(i.colIndex=e,i.groupIndex=n,u(i.groupIndex,i.colIndex)),d(n,e)},isHighlighted:function(n,e){return a.value.some((r=>r.groupIndex===n&&r.numIndex===e))},toggleHighlight:d,handleMessage:function(n){const{colIndex:e,groupIndex:r}=i;s.value[r].numbers[e]=n}}}export{r as u};
