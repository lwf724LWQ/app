import{r as a,a5 as s,k as l,a6 as e,G as t,c as u,b as i,u as o,o as n,e as r,g as d,x as c,y as p,F as m,A as g,Z as v}from"./index-BgH6xnyV.js";import{_}from"./uni-load-more.CIx8XKPV.js";import{o as f,c as y,d as h,e as j,b as w,r as k}from"./uni-app.es.wmAOsoD-.js";import{o as x,p as L}from"./apis.BPdXt_sA.js";import{_ as b}from"./_plugin-vue_export-helper.BCo6x5W8.js";const z=b({__name:"classlist",setup(b){const z=a([]),A=a(!1),C={pageNum:1,pageSize:12};let F;f((a=>{let{id:l=null,name:e=null,type:t=null}=a;t&&(C.type=t),l&&(C.classid=l),F=e,s({title:e}),N()})),y((()=>{A.value||(C.pageNum++,N())}));const N=async()=>{let a;C.classid&&(a=await x()),C.type&&(a=await L(C)),z.value=[...z.value,...a.data],C.pageSize>a.data.length&&(A.value=!0),l("storgClassList",z.value),console.log(z.value)};return h((a=>({title:"咸虾米壁纸-"+F,path:"/pages/classlist/classlist?id="+C.classid+"&name="+F}))),j((()=>({title:"咸虾米壁纸-"+F,query:"id="+C.classid+"&name="+F}))),w((()=>{e("storgClassList")})),(a,s)=>{const l=k(t("uni-load-more"),_),e=o,f=g,y=v;return n(),u(e,{class:"classlist"},{default:i((()=>[z.value.length||A.value?d("",!0):(n(),u(e,{key:0,class:"loadingLayout"},{default:i((()=>[r(l,{status:"loading"})])),_:1})),r(e,{class:"content"},{default:i((()=>[(n(!0),c(m,null,p(z.value,(a=>(n(),u(y,{url:"/pages/preview/preview?id="+a._id,class:"item",key:a._id},{default:i((()=>[r(f,{src:a.smallPicurl,mode:"aspectFill"},null,8,["src"])])),_:2},1032,["url"])))),128))])),_:1}),z.value.length||A.value?(n(),u(e,{key:1,class:"loadingLayout"},{default:i((()=>[r(l,{status:A.value?"noMore":"loading"},null,8,["status"])])),_:1})):d("",!0),r(e,{class:"safe-area-inset-bottom"})])),_:1})}}},[["__scopeId","data-v-f940e651"]]);export{z as default};
