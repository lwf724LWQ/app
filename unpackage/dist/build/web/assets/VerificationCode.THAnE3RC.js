import{r as e,al as a,o as l,c as t,b as o,e as u,f as s,x as n,I as d,v as r,u as c}from"./index-D0AdlXYI.js";import{_ as p}from"./_plugin-vue_export-helper.BCo6x5W8.js";const i=p({__name:"VerificationCode",props:{buttonText:{type:String,default:"获取验证码"},placeholder:{type:String,default:"验证码"},disabled:{type:Boolean,default:!1},countdownTime:{type:Number,default:60}},emits:["getCode","input"],setup(p,{expose:i,emit:v}){const m=p,f=v,b=e(""),_=e(!1),h=e(m.countdownTime);let x=null;const I=()=>{f("getCode")},y=e=>{b.value=e.detail.value,f("input",b.value)};return a((()=>{x&&clearInterval(x)})),i({startCountdown:()=>{_.value||(_.value=!0,h.value=m.countdownTime,clearInterval(x),x=setInterval((()=>{h.value--,h.value<=0&&(clearInterval(x),_.value=!1)}),1e3))}}),(e,a)=>{const i=d,v=r,m=c;return l(),t(m,{class:"code-container"},{default:o((()=>[u(i,{type:"number",placeholder:p.placeholder,"placeholder-class":"holder-class",class:"code-input",modelValue:b.value,"onUpdate:modelValue":a[0]||(a[0]=e=>b.value=e),onInput:y},null,8,["placeholder","modelValue"]),u(v,{type:"default",class:"code-btn",disabled:_.value||p.disabled,onClick:I},{default:o((()=>[s(n(_.value?`${h.value}s后重新获取`:p.buttonText),1)])),_:1},8,["disabled"])])),_:1})}}},[["__scopeId","data-v-30663417"]]);export{i as V};
